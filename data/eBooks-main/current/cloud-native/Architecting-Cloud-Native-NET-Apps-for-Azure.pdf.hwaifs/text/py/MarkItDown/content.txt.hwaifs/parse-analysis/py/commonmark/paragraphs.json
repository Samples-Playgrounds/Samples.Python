[
    "EDITION v1.0.3",
    "EDITION v1.0.3",
    "Refer changelog for the book updates and community contributions.",
    "Refer changelog for the book updates and community contributions.",
    "PUBLISHED BY",
    "PUBLISHED BY",
    "Microsoft Developer Division, .NET, and Visual Studio product teams",
    "Microsoft Developer Division, .NET, and Visual Studio product teams",
    "A division of Microsoft Corporation",
    "A division of Microsoft Corporation",
    "One Microsoft Way",
    "One Microsoft Way",
    "Redmond, Washington 98052-6399",
    "Redmond, Washington 98052-6399",
    "Copyright \u00a9 2023 by Microsoft Corporation",
    "Copyright \u00a9 2023 by Microsoft Corporation",
    "All rights reserved. No part of the contents of this book may be reproduced or transmitted in any",
    "All rights reserved. No part of the contents of this book may be reproduced or transmitted in any",
    "This book is provided \u201cas-is\u201d and expresses the author\u2019s views and opinions. The views, opinions, and",
    "This book is provided \u201cas-is\u201d and expresses the author\u2019s views and opinions. The views, opinions, and",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association",
    "Microsoft and the trademarks listed at https://www.microsoft.com on the \u201cTrademarks\u201d webpage are",
    "Microsoft and the trademarks listed at https://www.microsoft.com on the \u201cTrademarks\u201d webpage are",
    "Mac and macOS are trademarks of Apple Inc.",
    "Mac and macOS are trademarks of Apple Inc.",
    "The Docker whale logo is a registered trademark of Docker, Inc. Used by permission.",
    "The Docker whale logo is a registered trademark of Docker, Inc. Used by permission.",
    "All other marks and logos are property of their respective owners.",
    "All other marks and logos are property of their respective owners.",
    "Authors:",
    "Authors:",
    "Rob Vettor, Principal MTC (Microsoft Technology Center) Architect for Cloud App Innovation -",
    "Rob Vettor, Principal MTC (Microsoft Technology Center) Architect for Cloud App Innovation -",
    "Steve \u201cardalis\u201d Smith, Software Architect and Trainer - Ardalis.com",
    "Steve \u201cardalis\u201d Smith, Software Architect and Trainer - Ardalis.com",
    "Participants and Reviewers:",
    "Participants and Reviewers:",
    "Cesar De la Torre, Principal Program Manager, .NET team, Microsoft",
    "Cesar De la Torre, Principal Program Manager, .NET team, Microsoft",
    "Nish Anil, Senior Program Manager, .NET team, Microsoft",
    "Nish Anil, Senior Program Manager, .NET team, Microsoft",
    "Jeremy Likness, Senior Program Manager, .NET team, Microsoft",
    "Jeremy Likness, Senior Program Manager, .NET team, Microsoft",
    "Cecil Phillip, Senior Cloud Advocate, Microsoft",
    "Cecil Phillip, Senior Cloud Advocate, Microsoft",
    "Sumit Ghosh, Principal Consultant at Neudesic",
    "Sumit Ghosh, Principal Consultant at Neudesic",
    "Editors:",
    "Editors:",
    "Maira Wenzel, Program Manager, .NET team, Microsoft",
    "Maira Wenzel, Program Manager, .NET team, Microsoft",
    "David Pine, Senior Content Developer, .NET docs, Microsoft",
    "David Pine, Senior Content Developer, .NET docs, Microsoft",
    "Version",
    "Version",
    "This guide has been written to cover .NET 7 version along with many additional updates related to",
    "This guide has been written to cover .NET 7 version along with many additional updates related to",
    "Who should use this guide",
    "Who should use this guide",
    "The audience for this guide is mainly developers, development leads, and architects who are",
    "The audience for this guide is mainly developers, development leads, and architects who are",
    "A secondary audience is technical decision-makers who plan to choose whether to build their",
    "A secondary audience is technical decision-makers who plan to choose whether to build their",
    "How you can use this guide",
    "How you can use this guide",
    "This guide begins by defining cloud native and introducing a reference application built using cloud-",
    "This guide begins by defining cloud native and introducing a reference application built using cloud-",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Data and data access",
    "Data and data access",
    "Communication patterns",
    "Communication patterns",
    "Scaling and scalability",
    "Scaling and scalability",
    "Application resiliency",
    "Application resiliency",
    "\u2022  Monitoring and health",
    "\u2022  Monitoring and health",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Identity and security",
    "Identity and security",
    "DevOps",
    "DevOps",
    "This guide is available both in PDF form and online. Feel free to forward this document or links to its",
    "This guide is available both in PDF form and online. Feel free to forward this document or links to its",
    "Contents",
    "Contents",
    "Introduction to cloud-native applications ............................................................................ 1",
    "Introduction to cloud-native applications ............................................................................ 1",
    "Cloud-native computing .................................................................................................................................................. 3",
    "Cloud-native computing .................................................................................................................................................. 3",
    "What is Cloud Native? ............................................................................................................................................................ 4",
    "What is Cloud Native? ............................................................................................................................................................ 4",
    "The pillars of cloud native ................................................................................................................................................ 5",
    "The pillars of cloud native ................................................................................................................................................ 5",
    "The cloud ................................................................................................................................................................................ 5",
    "The cloud ................................................................................................................................................................................ 5",
    "Modern design ..................................................................................................................................................................... 6",
    "Modern design ..................................................................................................................................................................... 6",
    "Microservices ........................................................................................................................................................................ 9",
    "Microservices ........................................................................................................................................................................ 9",
    "Containers ........................................................................................................................................................................... 12",
    "Containers ........................................................................................................................................................................... 12",
    "Backing services ................................................................................................................................................................ 15",
    "Backing services ................................................................................................................................................................ 15",
    "Automation ......................................................................................................................................................................... 17",
    "Automation ......................................................................................................................................................................... 17",
    "Candidate apps for cloud native ..................................................................................................................................... 19",
    "Candidate apps for cloud native ..................................................................................................................................... 19",
    "Modernizing legacy apps .............................................................................................................................................. 19",
    "Modernizing legacy apps .............................................................................................................................................. 19",
    "Summary .............................................................................................................................................................................. 21",
    "Summary .............................................................................................................................................................................. 21",
    "Introducing eShopOnContainers reference app ................................................................ 22",
    "Introducing eShopOnContainers reference app ................................................................ 22",
    "Features and requirements ............................................................................................................................................... 23",
    "Features and requirements ............................................................................................................................................... 23",
    "Overview of the code .......................................................................................................................................................... 25",
    "Overview of the code .......................................................................................................................................................... 25",
    "Understanding microservices ........................................................................................................................................... 27",
    "Understanding microservices ........................................................................................................................................... 27",
    "Mapping eShopOnContainers to Azure Services ..................................................................................................... 27",
    "Mapping eShopOnContainers to Azure Services ..................................................................................................... 27",
    "Container orchestration and clustering ................................................................................................................... 28",
    "Container orchestration and clustering ................................................................................................................... 28",
    "API Gateway ....................................................................................................................................................................... 28",
    "API Gateway ....................................................................................................................................................................... 28",
    "Data ....................................................................................................................................................................................... 29",
    "Data ....................................................................................................................................................................................... 29",
    "Event Bus ............................................................................................................................................................................. 30",
    "Event Bus ............................................................................................................................................................................. 30",
    "Resiliency ............................................................................................................................................................................. 30",
    "Resiliency ............................................................................................................................................................................. 30",
    "Deploying eShopOnContainers to Azure .................................................................................................................... 30",
    "Deploying eShopOnContainers to Azure .................................................................................................................... 30",
    "Azure Kubernetes Service ............................................................................................................................................. 30",
    "Azure Kubernetes Service ............................................................................................................................................. 30",
    "Deploying to Azure Kubernetes Service using Helm ......................................................................................... 30",
    "Deploying to Azure Kubernetes Service using Helm ......................................................................................... 30",
    "Azure Functions and Logic Apps (Serverless) ....................................................................................................... 32",
    "Azure Functions and Logic Apps (Serverless) ....................................................................................................... 32",
    "Centralized configuration .................................................................................................................................................. 33",
    "Centralized configuration .................................................................................................................................................. 33",
    "i",
    "i",
    "Contents",
    "Contents",
    "Azure App Configuration .............................................................................................................................................. 33",
    "Azure App Configuration .............................................................................................................................................. 33",
    "Azure Key Vault ................................................................................................................................................................. 34",
    "Azure Key Vault ................................................................................................................................................................. 34",
    "Configuration in eShop .................................................................................................................................................. 34",
    "Configuration in eShop .................................................................................................................................................. 34",
    "References ........................................................................................................................................................................... 34",
    "References ........................................................................................................................................................................... 34",
    "Scaling cloud-native applications ........................................................................................ 36",
    "Scaling cloud-native applications ........................................................................................ 36",
    "Leveraging containers and orchestrators .................................................................................................................... 36",
    "Leveraging containers and orchestrators .................................................................................................................... 36",
    "Challenges with monolithic deployments .............................................................................................................. 36",
    "Challenges with monolithic deployments .............................................................................................................. 36",
    "What are the benefits of containers and orchestrators? .................................................................................. 38",
    "What are the benefits of containers and orchestrators? .................................................................................. 38",
    "What are the scaling benefits? .................................................................................................................................... 40",
    "What are the scaling benefits? .................................................................................................................................... 40",
    "What scenarios are ideal for containers and orchestrators?........................................................................... 42",
    "What scenarios are ideal for containers and orchestrators?........................................................................... 42",
    "When should you avoid using containers and orchestrators? ....................................................................... 42",
    "When should you avoid using containers and orchestrators? ....................................................................... 42",
    "Development resources ................................................................................................................................................. 42",
    "Development resources ................................................................................................................................................. 42",
    "Leveraging serverless functions ...................................................................................................................................... 46",
    "Leveraging serverless functions ...................................................................................................................................... 46",
    "What is serverless? ........................................................................................................................................................... 47",
    "What is serverless? ........................................................................................................................................................... 47",
    "What challenges are solved by serverless? ............................................................................................................ 47",
    "What challenges are solved by serverless? ............................................................................................................ 47",
    "What is the difference between a microservice and a serverless function? ............................................. 47",
    "What is the difference between a microservice and a serverless function? ............................................. 47",
    "What scenarios are appropriate for serverless? ................................................................................................... 47",
    "What scenarios are appropriate for serverless? ................................................................................................... 47",
    "When should you avoid serverless? .......................................................................................................................... 48",
    "When should you avoid serverless? .......................................................................................................................... 48",
    "Combining containers and serverless approaches .................................................................................................. 49",
    "Combining containers and serverless approaches .................................................................................................. 49",
    "When does it make sense to use containers with serverless? ........................................................................ 49",
    "When does it make sense to use containers with serverless? ........................................................................ 49",
    "When should you avoid using containers with Azure Functions? ................................................................ 49",
    "When should you avoid using containers with Azure Functions? ................................................................ 49",
    "How to combine serverless and Docker containers ........................................................................................... 49",
    "How to combine serverless and Docker containers ........................................................................................... 49",
    "How to combine serverless and Kubernetes with KEDA .................................................................................. 50",
    "How to combine serverless and Kubernetes with KEDA .................................................................................. 50",
    "Deploying containers in Azure ........................................................................................................................................ 50",
    "Deploying containers in Azure ........................................................................................................................................ 50",
    "Azure Container Registry .............................................................................................................................................. 50",
    "Azure Container Registry .............................................................................................................................................. 50",
    "ACR Tasks ............................................................................................................................................................................ 52",
    "ACR Tasks ............................................................................................................................................................................ 52",
    "Azure Kubernetes Service ............................................................................................................................................. 52",
    "Azure Kubernetes Service ............................................................................................................................................. 52",
    "Azure Bridge to Kubernetes ......................................................................................................................................... 53",
    "Azure Bridge to Kubernetes ......................................................................................................................................... 53",
    "Scaling containers and serverless applications ......................................................................................................... 53",
    "Scaling containers and serverless applications ......................................................................................................... 53",
    "The simple solution: scaling up .................................................................................................................................. 53",
    "The simple solution: scaling up .................................................................................................................................. 53",
    "Scaling out cloud-native apps .................................................................................................................................... 54",
    "Scaling out cloud-native apps .................................................................................................................................... 54",
    "Other container deployment options ........................................................................................................................... 55",
    "Other container deployment options ........................................................................................................................... 55",
    "ii",
    "ii",
    "Contents",
    "Contents",
    "When does it make sense to deploy to App Service for Containers? ......................................................... 55",
    "When does it make sense to deploy to App Service for Containers? ......................................................... 55",
    "How to deploy to App Service for Containers ...................................................................................................... 55",
    "How to deploy to App Service for Containers ...................................................................................................... 55",
    "When does it make sense to deploy to Azure Container Instances? .......................................................... 55",
    "When does it make sense to deploy to Azure Container Instances? .......................................................... 55",
    "How to deploy an app to Azure Container Instances ........................................................................................ 55",
    "How to deploy an app to Azure Container Instances ........................................................................................ 55",
    "References ........................................................................................................................................................................... 56",
    "References ........................................................................................................................................................................... 56",
    "Cloud-native communication patterns ............................................................................... 58",
    "Cloud-native communication patterns ............................................................................... 58",
    "Communication considerations ...................................................................................................................................... 58",
    "Communication considerations ...................................................................................................................................... 58",
    "Front-end client communication .................................................................................................................................... 60",
    "Front-end client communication .................................................................................................................................... 60",
    "Simple Gateways .............................................................................................................................................................. 62",
    "Simple Gateways .............................................................................................................................................................. 62",
    "Azure Application Gateway .......................................................................................................................................... 63",
    "Azure Application Gateway .......................................................................................................................................... 63",
    "Azure API Management ................................................................................................................................................. 63",
    "Azure API Management ................................................................................................................................................. 63",
    "Real-time communication ............................................................................................................................................ 66",
    "Real-time communication ............................................................................................................................................ 66",
    "Service-to-service communication ................................................................................................................................ 67",
    "Service-to-service communication ................................................................................................................................ 67",
    "Queries ................................................................................................................................................................................. 68",
    "Queries ................................................................................................................................................................................. 68",
    "Commands .......................................................................................................................................................................... 71",
    "Commands .......................................................................................................................................................................... 71",
    "Events .................................................................................................................................................................................... 74",
    "Events .................................................................................................................................................................................... 74",
    "gRPC ........................................................................................................................................................................................... 80",
    "gRPC ........................................................................................................................................................................................... 80",
    "What is gRPC? ................................................................................................................................................................... 80",
    "What is gRPC? ................................................................................................................................................................... 80",
    "gRPC Benefits .................................................................................................................................................................... 80",
    "gRPC Benefits .................................................................................................................................................................... 80",
    "Protocol Buffers ................................................................................................................................................................ 81",
    "Protocol Buffers ................................................................................................................................................................ 81",
    "gRPC support in .NET ..................................................................................................................................................... 81",
    "gRPC support in .NET ..................................................................................................................................................... 81",
    "gRPC usage ......................................................................................................................................................................... 82",
    "gRPC usage ......................................................................................................................................................................... 82",
    "gRPC implementation .................................................................................................................................................... 83",
    "gRPC implementation .................................................................................................................................................... 83",
    "Looking ahead ................................................................................................................................................................... 85",
    "Looking ahead ................................................................................................................................................................... 85",
    "Service Mesh communication infrastructure ............................................................................................................. 85",
    "Service Mesh communication infrastructure ............................................................................................................. 85",
    "Summary .............................................................................................................................................................................. 86",
    "Summary .............................................................................................................................................................................. 86",
    "Cloud-native data patterns .................................................................................................. 88",
    "Cloud-native data patterns .................................................................................................. 88",
    "Database-per-microservice, why? .................................................................................................................................. 89",
    "Database-per-microservice, why? .................................................................................................................................. 89",
    "Cross-service queries ........................................................................................................................................................... 90",
    "Cross-service queries ........................................................................................................................................................... 90",
    "Distributed transactions ..................................................................................................................................................... 91",
    "Distributed transactions ..................................................................................................................................................... 91",
    "High volume data ................................................................................................................................................................. 93",
    "High volume data ................................................................................................................................................................. 93",
    "CQRS ..................................................................................................................................................................................... 93",
    "CQRS ..................................................................................................................................................................................... 93",
    "iii",
    "iii",
    "Contents",
    "Contents",
    "Event sourcing ................................................................................................................................................................... 94",
    "Event sourcing ................................................................................................................................................................... 94",
    "Relational vs. NoSQL data ................................................................................................................................................. 96",
    "Relational vs. NoSQL data ................................................................................................................................................. 96",
    "The CAP theorem ............................................................................................................................................................. 97",
    "The CAP theorem ............................................................................................................................................................. 97",
    "Considerations for relational vs. NoSQL systems ................................................................................................ 99",
    "Considerations for relational vs. NoSQL systems ................................................................................................ 99",
    "Database as a Service ..................................................................................................................................................... 99",
    "Database as a Service ..................................................................................................................................................... 99",
    "Azure relational databases ......................................................................................................................................... 100",
    "Azure relational databases ......................................................................................................................................... 100",
    "Azure SQL Database...................................................................................................................................................... 100",
    "Azure SQL Database...................................................................................................................................................... 100",
    "Open-source databases in Azure ............................................................................................................................. 101",
    "Open-source databases in Azure ............................................................................................................................. 101",
    "NoSQL data in Azure .................................................................................................................................................... 102",
    "NoSQL data in Azure .................................................................................................................................................... 102",
    "NewSQL databases ........................................................................................................................................................ 106",
    "NewSQL databases ........................................................................................................................................................ 106",
    "Data migration to the cloud ...................................................................................................................................... 108",
    "Data migration to the cloud ...................................................................................................................................... 108",
    "Caching in a cloud-native app ....................................................................................................................................... 108",
    "Caching in a cloud-native app ....................................................................................................................................... 108",
    "Why? .................................................................................................................................................................................... 108",
    "Why? .................................................................................................................................................................................... 108",
    "Caching architecture ..................................................................................................................................................... 109",
    "Caching architecture ..................................................................................................................................................... 109",
    "Azure Cache for Redis .................................................................................................................................................. 110",
    "Azure Cache for Redis .................................................................................................................................................. 110",
    "Elasticsearch in a cloud-native app ............................................................................................................................. 110",
    "Elasticsearch in a cloud-native app ............................................................................................................................. 110",
    "Summary ............................................................................................................................................................................ 111",
    "Summary ............................................................................................................................................................................ 111",
    "Cloud-native resiliency ....................................................................................................... 113",
    "Cloud-native resiliency ....................................................................................................... 113",
    "Application resiliency patterns ...................................................................................................................................... 114",
    "Application resiliency patterns ...................................................................................................................................... 114",
    "Circuit breaker pattern ................................................................................................................................................. 116",
    "Circuit breaker pattern ................................................................................................................................................. 116",
    "Testing for resiliency ..................................................................................................................................................... 117",
    "Testing for resiliency ..................................................................................................................................................... 117",
    "Azure platform resiliency ................................................................................................................................................. 117",
    "Azure platform resiliency ................................................................................................................................................. 117",
    "Design with resiliency ................................................................................................................................................... 118",
    "Design with resiliency ................................................................................................................................................... 118",
    "Design with redundancy.............................................................................................................................................. 118",
    "Design with redundancy.............................................................................................................................................. 118",
    "Design for scalability ..................................................................................................................................................... 120",
    "Design for scalability ..................................................................................................................................................... 120",
    "Built-in retry in services ............................................................................................................................................... 121",
    "Built-in retry in services ............................................................................................................................................... 121",
    "Resilient communications ................................................................................................................................................ 122",
    "Resilient communications ................................................................................................................................................ 122",
    "Service mesh .................................................................................................................................................................... 123",
    "Service mesh .................................................................................................................................................................... 123",
    "Istio and Envoy ................................................................................................................................................................ 124",
    "Istio and Envoy ................................................................................................................................................................ 124",
    "Integration with Azure Kubernetes Services ....................................................................................................... 125",
    "Integration with Azure Kubernetes Services ....................................................................................................... 125",
    "Monitoring and health ........................................................................................................ 126",
    "Monitoring and health ........................................................................................................ 126",
    "Observability patterns ....................................................................................................................................................... 126",
    "Observability patterns ....................................................................................................................................................... 126",
    "iv",
    "iv",
    "Contents",
    "Contents",
    "When to use logging .................................................................................................................................................... 126",
    "When to use logging .................................................................................................................................................... 126",
    "Challenges with detecting and responding to potential app health issues ........................................... 130",
    "Challenges with detecting and responding to potential app health issues ........................................... 130",
    "Challenges with reacting to critical problems in cloud-native apps .......................................................... 130",
    "Challenges with reacting to critical problems in cloud-native apps .......................................................... 130",
    "Logging with Elastic Stack ............................................................................................................................................... 131",
    "Logging with Elastic Stack ............................................................................................................................................... 131",
    "Elastic Stack ...................................................................................................................................................................... 131",
    "Elastic Stack ...................................................................................................................................................................... 131",
    "What are the advantages of Elastic Stack? .......................................................................................................... 132",
    "What are the advantages of Elastic Stack? .......................................................................................................... 132",
    "Logstash ............................................................................................................................................................................. 132",
    "Logstash ............................................................................................................................................................................. 132",
    "Elasticsearch ..................................................................................................................................................................... 133",
    "Elasticsearch ..................................................................................................................................................................... 133",
    "Visualizing information with Kibana web dashboards .................................................................................... 133",
    "Visualizing information with Kibana web dashboards .................................................................................... 133",
    "Installing Elastic Stack on Azure ............................................................................................................................... 134",
    "Installing Elastic Stack on Azure ............................................................................................................................... 134",
    "References ......................................................................................................................................................................... 134",
    "References ......................................................................................................................................................................... 134",
    "Monitoring in Azure Kubernetes Services ................................................................................................................. 134",
    "Monitoring in Azure Kubernetes Services ................................................................................................................. 134",
    "Azure Monitor for Containers ................................................................................................................................... 134",
    "Azure Monitor for Containers ................................................................................................................................... 134",
    "Log.Finalize() .................................................................................................................................................................... 136",
    "Log.Finalize() .................................................................................................................................................................... 136",
    "Azure Monitor ...................................................................................................................................................................... 136",
    "Azure Monitor ...................................................................................................................................................................... 136",
    "Gathering logs and metrics ........................................................................................................................................ 137",
    "Gathering logs and metrics ........................................................................................................................................ 137",
    "Reporting data ................................................................................................................................................................ 137",
    "Reporting data ................................................................................................................................................................ 137",
    "Dashboards ....................................................................................................................................................................... 138",
    "Dashboards ....................................................................................................................................................................... 138",
    "Alerts ................................................................................................................................................................................... 140",
    "Alerts ................................................................................................................................................................................... 140",
    "References ......................................................................................................................................................................... 141",
    "References ......................................................................................................................................................................... 141",
    "Cloud-native identity .......................................................................................................... 142",
    "Cloud-native identity .......................................................................................................... 142",
    "References ............................................................................................................................................................................. 142",
    "References ............................................................................................................................................................................. 142",
    "Authentication and authorization in cloud-native apps ..................................................................................... 142",
    "Authentication and authorization in cloud-native apps ..................................................................................... 142",
    "References ......................................................................................................................................................................... 143",
    "References ......................................................................................................................................................................... 143",
    "Azure Active Directory ...................................................................................................................................................... 143",
    "Azure Active Directory ...................................................................................................................................................... 143",
    "References ......................................................................................................................................................................... 143",
    "References ......................................................................................................................................................................... 143",
    "IdentityServer for cloud-native applications ............................................................................................................ 144",
    "IdentityServer for cloud-native applications ............................................................................................................ 144",
    "Common web app scenarios ..................................................................................................................................... 144",
    "Common web app scenarios ..................................................................................................................................... 144",
    "Getting started ................................................................................................................................................................ 145",
    "Getting started ................................................................................................................................................................ 145",
    "Configuration ................................................................................................................................................................... 145",
    "Configuration ................................................................................................................................................................... 145",
    "JavaScript clients ............................................................................................................................................................ 146",
    "JavaScript clients ............................................................................................................................................................ 146",
    "References ......................................................................................................................................................................... 146",
    "References ......................................................................................................................................................................... 146",
    "v",
    "v",
    "Contents",
    "Contents",
    "Cloud-native security .......................................................................................................... 147",
    "Cloud-native security .......................................................................................................... 147",
    "Azure security for cloud-native apps .......................................................................................................................... 147",
    "Azure security for cloud-native apps .......................................................................................................................... 147",
    "Threat modeling ............................................................................................................................................................. 148",
    "Threat modeling ............................................................................................................................................................. 148",
    "Principle of least privilege ........................................................................................................................................... 148",
    "Principle of least privilege ........................................................................................................................................... 148",
    "Penetration testing ........................................................................................................................................................ 149",
    "Penetration testing ........................................................................................................................................................ 149",
    "Monitoring ........................................................................................................................................................................ 149",
    "Monitoring ........................................................................................................................................................................ 149",
    "Securing the build .......................................................................................................................................................... 149",
    "Securing the build .......................................................................................................................................................... 149",
    "Building secure code .................................................................................................................................................... 150",
    "Building secure code .................................................................................................................................................... 150",
    "Built-in security ............................................................................................................................................................... 150",
    "Built-in security ............................................................................................................................................................... 150",
    "Azure network infrastructure ..................................................................................................................................... 150",
    "Azure network infrastructure ..................................................................................................................................... 150",
    "Role-based access control for restricting access to Azure resources........................................................ 152",
    "Role-based access control for restricting access to Azure resources........................................................ 152",
    "Security Principals .......................................................................................................................................................... 152",
    "Security Principals .......................................................................................................................................................... 152",
    "Roles .................................................................................................................................................................................... 153",
    "Roles .................................................................................................................................................................................... 153",
    "Scopes ................................................................................................................................................................................ 154",
    "Scopes ................................................................................................................................................................................ 154",
    "Deny .................................................................................................................................................................................... 154",
    "Deny .................................................................................................................................................................................... 154",
    "Checking access .............................................................................................................................................................. 154",
    "Checking access .............................................................................................................................................................. 154",
    "Securing secrets .............................................................................................................................................................. 155",
    "Securing secrets .............................................................................................................................................................. 155",
    "Azure Key Vault ............................................................................................................................................................... 155",
    "Azure Key Vault ............................................................................................................................................................... 155",
    "Kubernetes ........................................................................................................................................................................ 155",
    "Kubernetes ........................................................................................................................................................................ 155",
    "Encryption in transit and at rest ............................................................................................................................... 156",
    "Encryption in transit and at rest ............................................................................................................................... 156",
    "Keeping secure ................................................................................................................................................................ 160",
    "Keeping secure ................................................................................................................................................................ 160",
    "DevOps ................................................................................................................................. 161",
    "DevOps ................................................................................................................................. 161",
    "Azure DevOps ....................................................................................................................................................................... 162",
    "Azure DevOps ....................................................................................................................................................................... 162",
    "GitHub Actions ..................................................................................................................................................................... 163",
    "GitHub Actions ..................................................................................................................................................................... 163",
    "Source control ...................................................................................................................................................................... 163",
    "Source control ...................................................................................................................................................................... 163",
    "Repository per microservice ...................................................................................................................................... 164",
    "Repository per microservice ...................................................................................................................................... 164",
    "Single repository ............................................................................................................................................................ 166",
    "Single repository ............................................................................................................................................................ 166",
    "Standard directory structure ...................................................................................................................................... 167",
    "Standard directory structure ...................................................................................................................................... 167",
    "Task management .............................................................................................................................................................. 167",
    "Task management .............................................................................................................................................................. 167",
    "CI/CD pipelines .................................................................................................................................................................... 169",
    "CI/CD pipelines .................................................................................................................................................................... 169",
    "Azure Builds ...................................................................................................................................................................... 170",
    "Azure Builds ...................................................................................................................................................................... 170",
    "Azure DevOps releases ................................................................................................................................................ 172",
    "Azure DevOps releases ................................................................................................................................................ 172",
    "vi",
    "vi",
    "Contents",
    "Contents",
    "Everybody gets a build pipeline ............................................................................................................................... 173",
    "Everybody gets a build pipeline ............................................................................................................................... 173",
    "Versioning releases ........................................................................................................................................................ 173",
    "Versioning releases ........................................................................................................................................................ 173",
    "Feature flags ......................................................................................................................................................................... 173",
    "Feature flags ......................................................................................................................................................................... 173",
    "Implementing feature flags ........................................................................................................................................ 174",
    "Implementing feature flags ........................................................................................................................................ 174",
    "Infrastructure as code ....................................................................................................................................................... 175",
    "Infrastructure as code ....................................................................................................................................................... 175",
    "Azure Resource Manager templates ...................................................................................................................... 175",
    "Azure Resource Manager templates ...................................................................................................................... 175",
    "Terraform ........................................................................................................................................................................... 176",
    "Terraform ........................................................................................................................................................................... 176",
    "Azure CLI Scripts and Tasks........................................................................................................................................ 177",
    "Azure CLI Scripts and Tasks........................................................................................................................................ 177",
    "Cloud Native Application Bundles ............................................................................................................................... 178",
    "Cloud Native Application Bundles ............................................................................................................................... 178",
    "DevOps Decisions .......................................................................................................................................................... 180",
    "DevOps Decisions .......................................................................................................................................................... 180",
    "References ......................................................................................................................................................................... 180",
    "References ......................................................................................................................................................................... 180",
    "Summary: Architecting cloud-native apps ....................................................................... 181",
    "Summary: Architecting cloud-native apps ....................................................................... 181",
    "vii",
    "vii",
    "Contents",
    "Contents",
    "CHAPTER  1",
    "CHAPTER  1",
    "Introduction to cloud-",
    "Introduction to cloud-",
    "Another day, at the office, working on \u201cthe next big thing.\u201d",
    "Another day, at the office, working on \u201cthe next big thing.\u201d",
    "Your cellphone rings. It\u2019s your friendly recruiter - the one who calls daily with exciting new",
    "Your cellphone rings. It\u2019s your friendly recruiter - the one who calls daily with exciting new",
    "But this time it\u2019s different: Start-up, equity, and plenty of funding.",
    "But this time it\u2019s different: Start-up, equity, and plenty of funding.",
    "The mention of the cloud, microservices, and cutting-edge technology pushes you over the edge.",
    "The mention of the cloud, microservices, and cutting-edge technology pushes you over the edge.",
    "Fast forward a few weeks and you\u2019re now a new employee in a design session architecting a major",
    "Fast forward a few weeks and you\u2019re now a new employee in a design session architecting a major",
    "How will you build it?",
    "How will you build it?",
    "If you follow the guidance from past 15 years, you\u2019ll most likely build the system shown in Figure 1.1.",
    "If you follow the guidance from past 15 years, you\u2019ll most likely build the system shown in Figure 1.1.",
    "Figure 1-1. Traditional monolithic design",
    "Figure 1-1. Traditional monolithic design",
    "You construct a large core application containing all of your domain logic. It includes modules such as",
    "You construct a large core application containing all of your domain logic. It includes modules such as",
    "Congratulations",
    "Congratulations",
    "Not all is bad. Monoliths offer some distinct advantages. For example, they\u2019re straightforward to\u2026",
    "Not all is bad. Monoliths offer some distinct advantages. For example, they\u2019re straightforward to\u2026",
    "1",
    "1",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "build",
    "build",
    "test",
    "test",
    "deploy",
    "deploy",
    "troubleshoot",
    "troubleshoot",
    "vertically scale",
    "vertically scale",
    "Many successful apps that exist today were created as monoliths. The app is a hit and continues to",
    "Many successful apps that exist today were created as monoliths. The app is a hit and continues to",
    "At some point, however, you begin to feel uncomfortable. You find yourself losing control of the",
    "At some point, however, you begin to feel uncomfortable. You find yourself losing control of the",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "The app has become so overwhelmingly complicated that no single person understands it.",
    "The app has become so overwhelmingly complicated that no single person understands it.",
    "You fear making changes - each change has unintended and costly side effects.",
    "You fear making changes - each change has unintended and costly side effects.",
    "New features/fixes become tricky, time-consuming, and expensive to implement.",
    "New features/fixes become tricky, time-consuming, and expensive to implement.",
    "Each release becomes as small as possible and requires a full deployment of the entire",
    "Each release becomes as small as possible and requires a full deployment of the entire",
    "One unstable component can crash the entire system.",
    "One unstable component can crash the entire system.",
    "New technologies and frameworks aren\u2019t an option.",
    "New technologies and frameworks aren\u2019t an option.",
    "It\u2019s difficult to implement agile delivery methodologies.",
    "It\u2019s difficult to implement agile delivery methodologies.",
    "Architectural erosion sets in as the code base deteriorates with never-ending \u201cquick fixes.\u201d",
    "Architectural erosion sets in as the code base deteriorates with never-ending \u201cquick fixes.\u201d",
    "Finally, the consultants come in and tell you to rewrite it.",
    "Finally, the consultants come in and tell you to rewrite it.",
    "Sound familiar?",
    "Sound familiar?",
    "Many organizations have addressed this monolithic fear cycle by adopting a cloud-native approach to",
    "Many organizations have addressed this monolithic fear cycle by adopting a cloud-native approach to",
    "2",
    "2",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Figure 1-2. Cloud-native design",
    "Figure 1-2. Cloud-native design",
    "Note how the application is decomposed across a set of small isolated microservices. Each service is",
    "Note how the application is decomposed across a set of small isolated microservices. Each service is",
    "Cloud-native computing",
    "Cloud-native computing",
    "Hmm\u2026 We just used the term, Cloud Native. Your first thought might be, \u201cWhat exactly does that",
    "Hmm\u2026 We just used the term, Cloud Native. Your first thought might be, \u201cWhat exactly does that",
    "Fortunately it\u2019s far different, and hopefully this book will help convince you.",
    "Fortunately it\u2019s far different, and hopefully this book will help convince you.",
    "Within a short time, cloud native has become a driving trend in the software industry. It\u2019s a new way",
    "Within a short time, cloud native has become a driving trend in the software industry. It\u2019s a new way",
    "Unlike the continuous hype that drives our industry, cloud native is for-real. Consider the Cloud Native",
    "Unlike the continuous hype that drives our industry, cloud native is for-real. Consider the Cloud Native",
    "3",
    "3",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "cloud-native computing ubiquitous across technology and cloud stacks. As one of the most influential",
    "cloud-native computing ubiquitous across technology and cloud stacks. As one of the most influential",
    "The CNCF fosters an ecosystem of open-source and vendor-neutrality. Following that lead, this book",
    "The CNCF fosters an ecosystem of open-source and vendor-neutrality. Following that lead, this book",
    "So, what exactly is Cloud Native? Sit back, relax, and let us help you explore this new world.",
    "So, what exactly is Cloud Native? Sit back, relax, and let us help you explore this new world.",
    "What is Cloud Native?",
    "What is Cloud Native?",
    "Stop what you\u2019re doing and ask your colleagues to define the term \u201cCloud Native\u201d. There\u2019s a good",
    "Stop what you\u2019re doing and ask your colleagues to define the term \u201cCloud Native\u201d. There\u2019s a good",
    "Let\u2019s start with a simple definition:",
    "Let\u2019s start with a simple definition:",
    "Cloud-native architecture and technologies are an approach to designing, constructing, and operating",
    "Cloud-native architecture and technologies are an approach to designing, constructing, and operating",
    "The Cloud Native Computing Foundation provides the official definition:",
    "The Cloud Native Computing Foundation provides the official definition:",
    "Cloud-native technologies empower organizations to build and run scalable applications in modern,",
    "Cloud-native technologies empower organizations to build and run scalable applications in modern,",
    "These techniques enable loosely coupled systems that are resilient, manageable, and observable.",
    "These techniques enable loosely coupled systems that are resilient, manageable, and observable.",
    "Cloud native is about speed and agility. Business systems are evolving from enabling business",
    "Cloud native is about speed and agility. Business systems are evolving from enabling business",
    "At the same time, business systems have also become increasingly complex with users demanding",
    "At the same time, business systems have also become increasingly complex with users demanding",
    "Here are some companies who have implemented cloud-native techniques. Think about the speed,",
    "Here are some companies who have implemented cloud-native techniques. Think about the speed,",
    "Company",
    "Company",
    "Experience",
    "Experience",
    "Netflix",
    "Netflix",
    "Uber",
    "Uber",
    "4",
    "4",
    "Has 600+ services in production. Deploys 100",
    "Has 600+ services in production. Deploys 100",
    "Has 1,000+ services in production. Deploys",
    "Has 1,000+ services in production. Deploys",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Company",
    "Company",
    "Experience",
    "Experience",
    "WeChat",
    "WeChat",
    "Has 3,000+ services in production. Deploys",
    "Has 3,000+ services in production. Deploys",
    "As you can see, Netflix, Uber, and, WeChat expose cloud-native systems that consist of many",
    "As you can see, Netflix, Uber, and, WeChat expose cloud-native systems that consist of many",
    "The pillars of cloud native",
    "The pillars of cloud native",
    "The speed and agility of cloud native derive from many factors. Foremost is cloud infrastructure. But",
    "The speed and agility of cloud native derive from many factors. Foremost is cloud infrastructure. But",
    "Figure 1-3. Cloud-native foundational pillars",
    "Figure 1-3. Cloud-native foundational pillars",
    "Let\u2019s take some time to better understand the significance of each pillar.",
    "Let\u2019s take some time to better understand the significance of each pillar.",
    "The cloud",
    "The cloud",
    "Cloud-native systems take full advantage of the cloud service model.",
    "Cloud-native systems take full advantage of the cloud service model.",
    "Designed to thrive in a dynamic, virtualized cloud environment, these systems make extensive use of",
    "Designed to thrive in a dynamic, virtualized cloud environment, these systems make extensive use of",
    "Consider the widely accepted DevOps concept of Pets vs. Cattle. In a traditional data center, servers",
    "Consider the widely accepted DevOps concept of Pets vs. Cattle. In a traditional data center, servers",
    "The Cattle service model is different. You provision each instance as a virtual machine or container.",
    "The Cattle service model is different. You provision each instance as a virtual machine or container.",
    "5",
    "5",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "The cattle model embraces immutable infrastructure. Servers aren\u2019t repaired or modified. If one fails or",
    "The cattle model embraces immutable infrastructure. Servers aren\u2019t repaired or modified. If one fails or",
    "Cloud-native systems embrace the Cattle service model. They continue to run as the infrastructure",
    "Cloud-native systems embrace the Cattle service model. They continue to run as the infrastructure",
    "The Azure cloud platform supports this type of highly elastic infrastructure with automatic scaling,",
    "The Azure cloud platform supports this type of highly elastic infrastructure with automatic scaling,",
    "Modern design",
    "Modern design",
    "How would you design a cloud-native app? What would your architecture look like? To what",
    "How would you design a cloud-native app? What would your architecture look like? To what",
    "The Twelve-Factor Application",
    "The Twelve-Factor Application",
    "A widely accepted methodology for constructing cloud-based applications is the Twelve-Factor",
    "A widely accepted methodology for constructing cloud-based applications is the Twelve-Factor",
    "While applicable to any web-based application, many practitioners consider Twelve-Factor a solid",
    "While applicable to any web-based application, many practitioners consider Twelve-Factor a solid",
    "The following table highlights the Twelve-Factor methodology:",
    "The following table highlights the Twelve-Factor methodology:",
    "Factor",
    "Factor",
    "Explanation",
    "Explanation",
    "1 - Code Base",
    "1 - Code Base",
    "2 - Dependencies",
    "2 - Dependencies",
    "3 - Configurations",
    "3 - Configurations",
    "4 - Backing Services",
    "4 - Backing Services",
    "A single code base for each microservice, stored",
    "A single code base for each microservice, stored",
    "Each microservice isolates and packages its own",
    "Each microservice isolates and packages its own",
    "Configuration information is moved out of the",
    "Configuration information is moved out of the",
    "Ancillary resources (data stores, caches,",
    "Ancillary resources (data stores, caches,",
    "6",
    "6",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Factor",
    "Factor",
    "Explanation",
    "Explanation",
    "5 - Build, Release, Run",
    "5 - Build, Release, Run",
    "6 - Processes",
    "6 - Processes",
    "7 - Port Binding",
    "7 - Port Binding",
    "8 - Concurrency",
    "8 - Concurrency",
    "9 - Disposability",
    "9 - Disposability",
    "10 - Dev/Prod Parity",
    "10 - Dev/Prod Parity",
    "11 - Logging",
    "11 - Logging",
    "12 - Admin Processes",
    "12 - Admin Processes",
    "Each release must enforce a strict separation",
    "Each release must enforce a strict separation",
    "Each microservice should execute in its own",
    "Each microservice should execute in its own",
    "Each microservice should be self-contained with",
    "Each microservice should be self-contained with",
    "When capacity needs to increase, scale out",
    "When capacity needs to increase, scale out",
    "Service instances should be disposable. Favor",
    "Service instances should be disposable. Favor",
    "Keep environments across the application",
    "Keep environments across the application",
    "Treat logs generated by microservices as event",
    "Treat logs generated by microservices as event",
    "Run administrative/management tasks, such as",
    "Run administrative/management tasks, such as",
    "7",
    "7",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "In the book, Beyond the Twelve-Factor App, author Kevin Hoffman details each of the original 12",
    "In the book, Beyond the Twelve-Factor App, author Kevin Hoffman details each of the original 12",
    "New Factor",
    "New Factor",
    "Explanation",
    "Explanation",
    "13 - API First",
    "13 - API First",
    "14 - Telemetry",
    "14 - Telemetry",
    "15 - Authentication/ Authorization",
    "15 - Authentication/ Authorization",
    "Make everything a service. Assume your code",
    "Make everything a service. Assume your code",
    "On a workstation, you have deep visibility into",
    "On a workstation, you have deep visibility into",
    "Implement identity from the start. Consider",
    "Implement identity from the start. Consider",
    "We\u2019ll refer to many of the 12+ factors in this chapter and throughout the book.",
    "We\u2019ll refer to many of the 12+ factors in this chapter and throughout the book.",
    "Azure Well-Architected Framework",
    "Azure Well-Architected Framework",
    "Designing and deploying cloud-based workloads can be challenging, especially when implementing",
    "Designing and deploying cloud-based workloads can be challenging, especially when implementing",
    "The Microsoft Well-Architected Framework provides a set of guiding tenets that can be used to",
    "The Microsoft Well-Architected Framework provides a set of guiding tenets that can be used to",
    "Tenets",
    "Tenets",
    "Description",
    "Description",
    "Cost management",
    "Cost management",
    "Operational excellence",
    "Operational excellence",
    "Performance efficiency",
    "Performance efficiency",
    "Focus on generating incremental value early.",
    "Focus on generating incremental value early.",
    "Automate the environment and operations to",
    "Automate the environment and operations to",
    "Efficiently meet demands placed on your",
    "Efficiently meet demands placed on your",
    "8",
    "8",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Reliability",
    "Reliability",
    "Security",
    "Security",
    "Tenets",
    "Tenets",
    "Description",
    "Description",
    "Build workloads that are both resilient and",
    "Build workloads that are both resilient and",
    "Implement security across the entire lifecycle of",
    "Implement security across the entire lifecycle of",
    "To get started, Microsoft provides a set of online assessments to help you assess your current cloud",
    "To get started, Microsoft provides a set of online assessments to help you assess your current cloud",
    "Microservices",
    "Microservices",
    "Cloud-native systems embrace microservices, a popular architectural style for constructing modern",
    "Cloud-native systems embrace microservices, a popular architectural style for constructing modern",
    "Built as a distributed set of small, independent services that interact through a shared fabric,",
    "Built as a distributed set of small, independent services that interact through a shared fabric,",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Each implements a specific business capability within a larger domain context.",
    "Each implements a specific business capability within a larger domain context.",
    "Each is developed autonomously and can be deployed independently.",
    "Each is developed autonomously and can be deployed independently.",
    "Each is self-contained encapsulating its own data storage technology, dependencies, and",
    "Each is self-contained encapsulating its own data storage technology, dependencies, and",
    "Each runs in its own process and communicates with others using standard communication",
    "Each runs in its own process and communicates with others using standard communication",
    "\u2022",
    "\u2022",
    "They compose together to form an application.",
    "They compose together to form an application.",
    "Figure 1-4 contrasts a monolithic application approach with a microservices approach. Note how the",
    "Figure 1-4 contrasts a monolithic application approach with a microservices approach. Note how the",
    "9",
    "9",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Figure 1-4. Monolithic versus microservices architecture",
    "Figure 1-4. Monolithic versus microservices architecture",
    "Note how microservices promote the Processes principle from the Twelve-Factor Application,",
    "Note how microservices promote the Processes principle from the Twelve-Factor Application,",
    "Factor #6 specifies \u201cEach microservice should execute in its own process, isolated from other running",
    "Factor #6 specifies \u201cEach microservice should execute in its own process, isolated from other running",
    "Why microservices?",
    "Why microservices?",
    "Microservices provide agility.",
    "Microservices provide agility.",
    "Earlier in the chapter, we compared an eCommerce application built as a monolith to that with",
    "Earlier in the chapter, we compared an eCommerce application built as a monolith to that with",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Each microservice has an autonomous lifecycle and can evolve independently and deploy",
    "Each microservice has an autonomous lifecycle and can evolve independently and deploy",
    "Each microservice can scale independently. Instead of scaling the entire application as a single",
    "Each microservice can scale independently. Instead of scaling the entire application as a single",
    "An excellent reference guide for understanding microservices is .NET Microservices: Architecture for",
    "An excellent reference guide for understanding microservices is .NET Microservices: Architecture for",
    "Developing microservices",
    "Developing microservices",
    "Microservices can be created upon any modern development platform.",
    "Microservices can be created upon any modern development platform.",
    "10",
    "10",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "The Microsoft .NET platform is an excellent choice. Free and open source, it has many built-in features",
    "The Microsoft .NET platform is an excellent choice. Free and open source, it has many built-in features",
    ".NET is highly performant and has scored well in comparison to Node.js and other competing",
    ".NET is highly performant and has scored well in comparison to Node.js and other competing",
    ".NET is maintained by Microsoft and the .NET community on GitHub.",
    ".NET is maintained by Microsoft and the .NET community on GitHub.",
    "Microservice challenges",
    "Microservice challenges",
    "While distributed cloud-native microservices can provide immense agility and speed, they present",
    "While distributed cloud-native microservices can provide immense agility and speed, they present",
    "Communication",
    "Communication",
    "How will front-end client applications communicate with backed-end core microservices? Will you",
    "How will front-end client applications communicate with backed-end core microservices? Will you",
    "How will back-end core microservices communicate with each other? Will you allow direct HTTP calls",
    "How will back-end core microservices communicate with each other? Will you allow direct HTTP calls",
    "Communication is covered in the Cloud-native communication patterns chapter.",
    "Communication is covered in the Cloud-native communication patterns chapter.",
    "Resiliency",
    "Resiliency",
    "A microservices architecture moves your system from in-process to out-of-process network",
    "A microservices architecture moves your system from in-process to out-of-process network",
    "Resiliency is covered in the Cloud-native resiliency chapter.",
    "Resiliency is covered in the Cloud-native resiliency chapter.",
    "Distributed Data",
    "Distributed Data",
    "By design, each microservice encapsulates its own data, exposing operations via its public interface. If",
    "By design, each microservice encapsulates its own data, exposing operations via its public interface. If",
    "Distributed data is covered in the Cloud-native data patterns chapter.",
    "Distributed data is covered in the Cloud-native data patterns chapter.",
    "Secrets",
    "Secrets",
    "How will your microservices securely store and manage secrets and sensitive configuration data?",
    "How will your microservices securely store and manage secrets and sensitive configuration data?",
    "Secrets are covered in detail Cloud-native security.",
    "Secrets are covered in detail Cloud-native security.",
    "11",
    "11",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Manage Complexity with Dapr",
    "Manage Complexity with Dapr",
    "Dapr is a distributed, open-source application runtime. Through an architecture of pluggable",
    "Dapr is a distributed, open-source application runtime. Through an architecture of pluggable",
    "Figure 1-5. Dapr at 20,000 feet.",
    "Figure 1-5. Dapr at 20,000 feet.",
    "In the top row of the figure, note how Dapr provides language-specific SDKs for popular development",
    "In the top row of the figure, note how Dapr provides language-specific SDKs for popular development",
    "While language-specific SDKs enhance the developer experience, Dapr is platform agnostic. Under the",
    "While language-specific SDKs enhance the developer experience, Dapr is platform agnostic. Under the",
    "The blue boxes across the center of the figure represent the Dapr building blocks. Each exposes pre-",
    "The blue boxes across the center of the figure represent the Dapr building blocks. Each exposes pre-",
    "The components row represents a large set of pre-defined infrastructure components that your",
    "The components row represents a large set of pre-defined infrastructure components that your",
    "The bottom row highlights the portability of Dapr and the diverse environments across which it can",
    "The bottom row highlights the portability of Dapr and the diverse environments across which it can",
    "Microsoft features a free ebook Dapr for .NET Developers for learning Dapr.",
    "Microsoft features a free ebook Dapr for .NET Developers for learning Dapr.",
    "Looking ahead, Dapr has the potential to have a profound impact on cloud-native application",
    "Looking ahead, Dapr has the potential to have a profound impact on cloud-native application",
    "Containers",
    "Containers",
    "It\u2019s natural to hear the term container mentioned in any cloud native conversation. In the book, Cloud",
    "It\u2019s natural to hear the term container mentioned in any cloud native conversation. In the book, Cloud",
    "12",
    "12",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "software.\u201d The Cloud Native Computing Foundation places microservice containerization as the first",
    "software.\u201d The Cloud Native Computing Foundation places microservice containerization as the first",
    "Containerizing a microservice is simple and straightforward. The code, its dependencies, and runtime",
    "Containerizing a microservice is simple and straightforward. The code, its dependencies, and runtime",
    "When an application starts or scales, you transform the container image into a running container",
    "When an application starts or scales, you transform the container image into a running container",
    "Figure 1-6 shows three different microservices, each in its own container, all running on a single host.",
    "Figure 1-6 shows three different microservices, each in its own container, all running on a single host.",
    "Figure 1-6. Multiple containers running on a container host",
    "Figure 1-6. Multiple containers running on a container host",
    "Note how each container maintains its own set of dependencies and runtime, which can be different",
    "Note how each container maintains its own set of dependencies and runtime, which can be different",
    "Note how well the container model embraces the Dependencies principle from the Twelve-Factor",
    "Note how well the container model embraces the Dependencies principle from the Twelve-Factor",
    "Factor #2 specifies that \u201cEach microservice isolates and packages its own dependencies, embracing",
    "Factor #2 specifies that \u201cEach microservice isolates and packages its own dependencies, embracing",
    "Containers support both Linux and Windows workloads. The Azure cloud openly embraces both.",
    "Containers support both Linux and Windows workloads. The Azure cloud openly embraces both.",
    "13",
    "13",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "While several container vendors exist, Docker has captured the lion\u2019s share of the market. The",
    "While several container vendors exist, Docker has captured the lion\u2019s share of the market. The",
    "Why containers?",
    "Why containers?",
    "Containers provide portability and guarantee consistency across environments. By encapsulating",
    "Containers provide portability and guarantee consistency across environments. By encapsulating",
    "You can deploy the container in any environment that hosts the Docker runtime engine. Containerized",
    "You can deploy the container in any environment that hosts the Docker runtime engine. Containerized",
    "By sharing the underlying operating system and host resources, a container has a much smaller",
    "By sharing the underlying operating system and host resources, a container has a much smaller",
    "Container orchestration",
    "Container orchestration",
    "While tools such as Docker create images and run containers, you also need tools to manage them.",
    "While tools such as Docker create images and run containers, you also need tools to manage them.",
    "Figure 1-7 shows management tasks that container orchestrators automate.",
    "Figure 1-7 shows management tasks that container orchestrators automate.",
    "Figure 1-7. What container orchestrators do",
    "Figure 1-7. What container orchestrators do",
    "The following table describes common orchestration tasks.",
    "The following table describes common orchestration tasks.",
    "Tasks",
    "Tasks",
    "Explanation",
    "Explanation",
    "Scheduling",
    "Scheduling",
    "Affinity/anti-affinity",
    "Affinity/anti-affinity",
    "Health monitoring",
    "Health monitoring",
    "Failover",
    "Failover",
    "Automatically provision container instances.",
    "Automatically provision container instances.",
    "Provision containers nearby or far apart from",
    "Provision containers nearby or far apart from",
    "Automatically detect and correct failures.",
    "Automatically detect and correct failures.",
    "Automatically reprovision a failed instance to a",
    "Automatically reprovision a failed instance to a",
    "14",
    "14",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Scaling",
    "Scaling",
    "Networking",
    "Networking",
    "Service Discovery",
    "Service Discovery",
    "Rolling Upgrades",
    "Rolling Upgrades",
    "Tasks",
    "Tasks",
    "Explanation",
    "Explanation",
    "Automatically add or remove a container",
    "Automatically add or remove a container",
    "Manage a networking overlay for container",
    "Manage a networking overlay for container",
    "Enable containers to locate each other.",
    "Enable containers to locate each other.",
    "Coordinate incremental upgrades with zero",
    "Coordinate incremental upgrades with zero",
    "Note how container orchestrators embrace the Disposability and Concurrency principles from the",
    "Note how container orchestrators embrace the Disposability and Concurrency principles from the",
    "Factor #9 specifies that \u201cService instances should be disposable, favoring fast startups to increase",
    "Factor #9 specifies that \u201cService instances should be disposable, favoring fast startups to increase",
    "Factor #8 specifies that \u201cServices scale out across a large number of small identical processes (copies) as",
    "Factor #8 specifies that \u201cServices scale out across a large number of small identical processes (copies) as",
    "While several container orchestrators exist, Kubernetes has become the de facto standard for the",
    "While several container orchestrators exist, Kubernetes has become the de facto standard for the",
    "You could host your own instance of Kubernetes, but then you\u2019d be responsible for provisioning and",
    "You could host your own instance of Kubernetes, but then you\u2019d be responsible for provisioning and",
    "Container orchestration is covered in detail in Scaling Cloud-Native Applications.",
    "Container orchestration is covered in detail in Scaling Cloud-Native Applications.",
    "Backing services",
    "Backing services",
    "Cloud-native systems depend upon many different ancillary resources, such as data stores, message",
    "Cloud-native systems depend upon many different ancillary resources, such as data stores, message",
    "Figure 1-8 shows many common backing services that cloud-native systems consume.",
    "Figure 1-8 shows many common backing services that cloud-native systems consume.",
    "15",
    "15",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Figure 1-8. Common backing services",
    "Figure 1-8. Common backing services",
    "You could host your own backing services, but then you\u2019d be responsible for licensing, provisioning,",
    "You could host your own backing services, but then you\u2019d be responsible for licensing, provisioning,",
    "Cloud providers offer a rich assortment of managed backing services. Instead of owning the service,",
    "Cloud providers offer a rich assortment of managed backing services. Instead of owning the service,",
    "Cloud-native systems favor managed backing services from cloud vendors. The savings in time and",
    "Cloud-native systems favor managed backing services from cloud vendors. The savings in time and",
    "A best practice is to treat a backing service as an attached resource, dynamically bound to a",
    "A best practice is to treat a backing service as an attached resource, dynamically bound to a",
    "Factor #4 specifies that backing services \u201cshould be exposed via an addressable URL. Doing so",
    "Factor #4 specifies that backing services \u201cshould be exposed via an addressable URL. Doing so",
    "Factor #3 specifies that \u201cConfiguration information is moved out of the microservice and externalized",
    "Factor #3 specifies that \u201cConfiguration information is moved out of the microservice and externalized",
    "With this pattern, a backing service can be attached and detached without code changes. You might",
    "With this pattern, a backing service can be attached and detached without code changes. You might",
    "16",
    "16",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Cloud vendors provide APIs for you to communicate with their proprietary backing services. These",
    "Cloud vendors provide APIs for you to communicate with their proprietary backing services. These",
    "On a final thought, backing services also promote the Statelessness principle from the Twelve-Factor",
    "On a final thought, backing services also promote the Statelessness principle from the Twelve-Factor",
    "Factor #6 specifies that, \u201cEach microservice should execute in its own process, isolated from other",
    "Factor #6 specifies that, \u201cEach microservice should execute in its own process, isolated from other",
    "Backing services are discussed in Cloud-native data patterns and Cloud-native communication",
    "Backing services are discussed in Cloud-native data patterns and Cloud-native communication",
    "Automation",
    "Automation",
    "As you\u2019ve seen, cloud-native systems embrace microservices, containers, and modern system design",
    "As you\u2019ve seen, cloud-native systems embrace microservices, containers, and modern system design",
    "Enter the widely accepted practice of Infrastructure as Code, or IaC.",
    "Enter the widely accepted practice of Infrastructure as Code, or IaC.",
    "With IaC, you automate platform provisioning and application deployment. You essentially apply",
    "With IaC, you automate platform provisioning and application deployment. You essentially apply",
    "Automating infrastructure",
    "Automating infrastructure",
    "Tools like Azure Resource Manager, Azure Bicep, Terraform from HashiCorp, and the Azure CLI, enable",
    "Tools like Azure Resource Manager, Azure Bicep, Terraform from HashiCorp, and the Azure CLI, enable",
    "Under the hood, IaC is idempotent, meaning that you can run the same script over and over without",
    "Under the hood, IaC is idempotent, meaning that you can run the same script over and over without",
    "In the article, What is Infrastructure as Code, Author Sam Guckenheimer describes how, \u201cTeams who",
    "In the article, What is Infrastructure as Code, Author Sam Guckenheimer describes how, \u201cTeams who",
    "17",
    "17",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "practices and tools to deliver applications and their supporting infrastructure rapidly, reliably, and at",
    "practices and tools to deliver applications and their supporting infrastructure rapidly, reliably, and at",
    "Automating deployments",
    "Automating deployments",
    "The Twelve-Factor Application, discussed earlier, calls for separate steps when transforming",
    "The Twelve-Factor Application, discussed earlier, calls for separate steps when transforming",
    "Factor #5 specifies that \u201cEach release must enforce a strict separation across the build, release and run",
    "Factor #5 specifies that \u201cEach release must enforce a strict separation across the build, release and run",
    "Modern CI/CD systems help fulfill this principle. They provide separate build and delivery steps that",
    "Modern CI/CD systems help fulfill this principle. They provide separate build and delivery steps that",
    "Figure 1-9 shows the separation across the deployment process.",
    "Figure 1-9 shows the separation across the deployment process.",
    "Figure 1-9. Deployment steps in a CI/CD Pipeline",
    "Figure 1-9. Deployment steps in a CI/CD Pipeline",
    "In the previous figure, pay special attention to separation of tasks:",
    "In the previous figure, pay special attention to separation of tasks:",
    "The developer constructs a feature in their development environment, iterating through what",
    "The developer constructs a feature in their development environment, iterating through what",
    "When complete, that code is pushed into a code repository, such as GitHub, Azure DevOps, or",
    "When complete, that code is pushed into a code repository, such as GitHub, Azure DevOps, or",
    "BitBucket.",
    "BitBucket.",
    "The push triggers a build stage that transforms the code into a binary artifact. The work is",
    "The push triggers a build stage that transforms the code into a binary artifact. The work is",
    "The release stage picks up the binary artifact, applies external application and environment",
    "The release stage picks up the binary artifact, applies external application and environment",
    "18",
    "18",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "5.",
    "5.",
    "Finally, the released feature is run in the target execution environment. Releases are",
    "Finally, the released feature is run in the target execution environment. Releases are",
    "Applying these practices, organizations have radically evolved how they ship software. Many have",
    "Applying these practices, organizations have radically evolved how they ship software. Many have",
    "Infrastructure as code and deployment automation, along with GitHub and Azure DevOps are",
    "Infrastructure as code and deployment automation, along with GitHub and Azure DevOps are",
    "Candidate apps for cloud native",
    "Candidate apps for cloud native",
    "Think about the apps your organization needs to build. Then, look at the existing apps in your",
    "Think about the apps your organization needs to build. Then, look at the existing apps in your",
    "Applying cost/benefit analysis, there\u2019s a good chance some wouldn\u2019t support the effort. The cost of",
    "Applying cost/benefit analysis, there\u2019s a good chance some wouldn\u2019t support the effort. The cost of",
    "What type of application might be a candidate for cloud native?",
    "What type of application might be a candidate for cloud native?",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Strategic enterprise systems that need to constantly evolve business capabilities/features",
    "Strategic enterprise systems that need to constantly evolve business capabilities/features",
    "An application that requires a high release velocity - with high confidence",
    "An application that requires a high release velocity - with high confidence",
    "A system where individual features must release without a full redeployment of the entire",
    "A system where individual features must release without a full redeployment of the entire",
    "An application developed by teams with expertise in different technology stacks",
    "An application developed by teams with expertise in different technology stacks",
    "An application with components that must scale independently",
    "An application with components that must scale independently",
    "Smaller, less impactful line-of-business applications might fare well with a simple monolithic",
    "Smaller, less impactful line-of-business applications might fare well with a simple monolithic",
    "Then there are legacy systems. While we\u2019d all like to build new applications, we\u2019re often responsible",
    "Then there are legacy systems. While we\u2019d all like to build new applications, we\u2019re often responsible",
    "Modernizing legacy apps",
    "Modernizing legacy apps",
    "The free Microsoft e-book Modernize existing .NET applications with Azure cloud and Windows",
    "The free Microsoft e-book Modernize existing .NET applications with Azure cloud and Windows",
    "19",
    "19",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "Figure 1-10. Strategies for migrating legacy workloads",
    "Figure 1-10. Strategies for migrating legacy workloads",
    "Monolithic apps that are non-critical might benefit from a quick lift-and-shift (Cloud Infrastructure-",
    "Monolithic apps that are non-critical might benefit from a quick lift-and-shift (Cloud Infrastructure-",
    "Legacy apps that are critical to the business often benefit from an enhanced Cloud Optimized",
    "Legacy apps that are critical to the business often benefit from an enhanced Cloud Optimized",
    "Finally, monolithic apps that provide strategic enterprise functions might best benefit from a Cloud-",
    "Finally, monolithic apps that provide strategic enterprise functions might best benefit from a Cloud-",
    "If you and your team believe a cloud-native approach is appropriate, it behooves you to rationalize",
    "If you and your team believe a cloud-native approach is appropriate, it behooves you to rationalize",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "20",
    "20",
    "Rapid releases of features with increased confidence?",
    "Rapid releases of features with increased confidence?",
    "Fine-grained scalability - more efficient usage of resources?",
    "Fine-grained scalability - more efficient usage of resources?",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Improved system resiliency?",
    "Improved system resiliency?",
    "Improved system performance?",
    "Improved system performance?",
    "\u2022  More visibility into operations?",
    "\u2022  More visibility into operations?",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Blend development platforms and data stores to arrive at the best tool for the job?",
    "Blend development platforms and data stores to arrive at the best tool for the job?",
    "Future-proof application investment?",
    "Future-proof application investment?",
    "The right migration strategy depends on organizational priorities and the systems you\u2019re targeting.",
    "The right migration strategy depends on organizational priorities and the systems you\u2019re targeting.",
    "Summary",
    "Summary",
    "In this chapter, we introduced cloud-native computing. We provided a definition along with the key",
    "In this chapter, we introduced cloud-native computing. We provided a definition along with the key",
    "With the introduction behind, we now dive into a much more detailed look at cloud native.",
    "With the introduction behind, we now dive into a much more detailed look at cloud native.",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Cloud Native Computing Foundation",
    "Cloud Native Computing Foundation",
    ".NET Microservices: Architecture for Containerized .NET applications",
    ".NET Microservices: Architecture for Containerized .NET applications",
    "\u2022  Microsoft Azure Well-Architected Framework",
    "\u2022  Microsoft Azure Well-Architected Framework",
    "\u2022  Modernize existing .NET applications with Azure cloud and Windows Containers",
    "\u2022  Modernize existing .NET applications with Azure cloud and Windows Containers",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Cloud Native Patterns by Cornelia Davis",
    "Cloud Native Patterns by Cornelia Davis",
    "Cloud native applications: Ship faster, reduce risk, and grow your business",
    "Cloud native applications: Ship faster, reduce risk, and grow your business",
    "Dapr for .NET Developers",
    "Dapr for .NET Developers",
    "Dapr documents",
    "Dapr documents",
    "Beyond the Twelve-Factor Application",
    "Beyond the Twelve-Factor Application",
    "\u2022  What is Infrastructure as Code",
    "\u2022  What is Infrastructure as Code",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "21",
    "21",
    "Uber Engineering\u2019s Micro Deploy: Deploying Daily with Confidence",
    "Uber Engineering\u2019s Micro Deploy: Deploying Daily with Confidence",
    "How Netflix Deploys Code",
    "How Netflix Deploys Code",
    "Overload Control for Scaling WeChat Microservices",
    "Overload Control for Scaling WeChat Microservices",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER 1 | Introduction to cloud-native applications",
    "CHAPTER  2",
    "CHAPTER  2",
    "Introducing",
    "Introducing",
    "Microsoft, in partnership with leading community experts, has produced a full-featured cloud-native",
    "Microsoft, in partnership with leading community experts, has produced a full-featured cloud-native",
    "Figure 2-1. eShopOnContainers Sample App Screenshot.",
    "Figure 2-1. eShopOnContainers Sample App Screenshot.",
    "22",
    "22",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "Before starting this chapter, we recommend that you download the eShopOnContainers reference",
    "Before starting this chapter, we recommend that you download the eShopOnContainers reference",
    "Features and requirements",
    "Features and requirements",
    "Let\u2019s start with a review of the application\u2019s features and requirements. The eShopOnContainers",
    "Let\u2019s start with a review of the application\u2019s features and requirements. The eShopOnContainers",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "List catalog items",
    "List catalog items",
    "Filter items by type",
    "Filter items by type",
    "Filter items by brand",
    "Filter items by brand",
    "Add items to the shopping basket",
    "Add items to the shopping basket",
    "Edit or remove items from the basket",
    "Edit or remove items from the basket",
    "Checkout",
    "Checkout",
    "Register an account",
    "Register an account",
    "Sign in",
    "Sign in",
    "Sign out",
    "Sign out",
    "Review orders",
    "Review orders",
    "The application also has the following non-functional requirements:",
    "The application also has the following non-functional requirements:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "It needs to be highly available and it must scale automatically to meet increased traffic (and",
    "It needs to be highly available and it must scale automatically to meet increased traffic (and",
    "It should provide easy-to-use monitoring of its health and diagnostic logs to help",
    "It should provide easy-to-use monitoring of its health and diagnostic logs to help",
    "It should support an agile development process, including support for continuous integration",
    "It should support an agile development process, including support for continuous integration",
    "In addition to the two web front ends (traditional and Single Page Application), the",
    "In addition to the two web front ends (traditional and Single Page Application), the",
    "\u2022",
    "\u2022",
    "It should support cross-platform hosting and cross-platform development.",
    "It should support cross-platform hosting and cross-platform development.",
    "23",
    "23",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "Figure 2-2. eShopOnContainers reference application development architecture.",
    "Figure 2-2. eShopOnContainers reference application development architecture.",
    "The eShopOnContainers application is accessible from web or mobile clients that access the",
    "The eShopOnContainers application is accessible from web or mobile clients that access the",
    "The application\u2019s functionality is broken up into many distinct microservices. There are services",
    "The application\u2019s functionality is broken up into many distinct microservices. There are services",
    "Each of the different microservices is designed differently, based on their individual requirements. This",
    "Each of the different microservices is designed differently, based on their individual requirements. This",
    "24",
    "24",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "Figure 2-3. Different kinds of microservices.",
    "Figure 2-3. Different kinds of microservices.",
    "Overview of the code",
    "Overview of the code",
    "Because it uses microservices, the eShopOnContainers app includes quite a few separate projects and",
    "Because it uses microservices, the eShopOnContainers app includes quite a few separate projects and",
    "25",
    "25",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "26",
    "26",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "Figure 2-4. Projects in Visual Studio solution.",
    "Figure 2-4. Projects in Visual Studio solution.",
    "The code is organized to support the different microservices, and within each microservice, the code is",
    "The code is organized to support the different microservices, and within each microservice, the code is",
    "Understanding microservices",
    "Understanding microservices",
    "This book focuses on cloud-native applications built using Azure technology. To learn more about",
    "This book focuses on cloud-native applications built using Azure technology. To learn more about",
    "Mapping eShopOnContainers to Azure Services",
    "Mapping eShopOnContainers to Azure Services",
    "Although not required, Azure is well-suited to supporting the eShopOnContainers because the project",
    "Although not required, Azure is well-suited to supporting the eShopOnContainers because the project",
    "The application\u2019s architecture is shown in Figure 2-5. On the left are the client apps, broken up into",
    "The application\u2019s architecture is shown in Figure 2-5. On the left are the client apps, broken up into",
    "27",
    "27",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "Figure 2-5. The eShopOnContainers Architecture.",
    "Figure 2-5. The eShopOnContainers Architecture.",
    "The server-side components of this architecture all map easily to Azure services.",
    "The server-side components of this architecture all map easily to Azure services.",
    "Container orchestration and clustering",
    "Container orchestration and clustering",
    "The application\u2019s container-hosted services, from ASP.NET Core MVC apps to individual Catalog and",
    "The application\u2019s container-hosted services, from ASP.NET Core MVC apps to individual Catalog and",
    "AKS provides management services for individual clusters of containers. The application will deploy",
    "AKS provides management services for individual clusters of containers. The application will deploy",
    "API Gateway",
    "API Gateway",
    "The eShopOnContainers application has multiple front-end clients and multiple different back-end",
    "The eShopOnContainers application has multiple front-end clients and multiple different back-end",
    "Azure API Management (APIM) helps organizations publish APIs in a consistent, manageable fashion.",
    "Azure API Management (APIM) helps organizations publish APIs in a consistent, manageable fashion.",
    "28",
    "28",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "The API Gateway accepts API calls and routes them to the appropriate back-end API. It can also",
    "The API Gateway accepts API calls and routes them to the appropriate back-end API. It can also",
    "The Azure portal is where you define the API schema and package different APIs into products. You",
    "The Azure portal is where you define the API schema and package different APIs into products. You",
    "The developer portal serves as the main resource for developers. It provides developers with API",
    "The developer portal serves as the main resource for developers. It provides developers with API",
    "Using APIM, applications can expose several different groups of services, each providing a back end",
    "Using APIM, applications can expose several different groups of services, each providing a back end",
    "Another option if your application is using AKS is to deploy the Azure Gateway Ingress Controller as a",
    "Another option if your application is using AKS is to deploy the Azure Gateway Ingress Controller as a",
    "Data",
    "Data",
    "The various back-end services used by eShopOnContainers have different storage requirements.",
    "The various back-end services used by eShopOnContainers have different storage requirements.",
    "For SQL Server database support, Azure has products for everything from single databases up to",
    "For SQL Server database support, Azure has products for everything from single databases up to",
    "The eShopOnContainers application stores the user\u2019s current shopping basket between requests. This",
    "The eShopOnContainers application stores the user\u2019s current shopping basket between requests. This",
    "The Locations microservice uses a MongoDB NoSQL database for its persistence. During",
    "The Locations microservice uses a MongoDB NoSQL database for its persistence. During",
    "Distributed data in cloud-native applications is covered in more detail in chapter 5.",
    "Distributed data in cloud-native applications is covered in more detail in chapter 5.",
    "29",
    "29",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "Event Bus",
    "Event Bus",
    "The application uses events to communicate changes between different services. This functionality can",
    "The application uses events to communicate changes between different services. This functionality can",
    "Resiliency",
    "Resiliency",
    "Once deployed to production, the eShopOnContainers application would be able to take advantage",
    "Once deployed to production, the eShopOnContainers application would be able to take advantage",
    "Deploying eShopOnContainers to Azure",
    "Deploying eShopOnContainers to Azure",
    "The eShopOnContainers application can be deployed to various Azure platforms. The recommended",
    "The eShopOnContainers application can be deployed to various Azure platforms. The recommended",
    "Azure Kubernetes Service",
    "Azure Kubernetes Service",
    "To host eShop in AKS, the first step is to create an AKS cluster. To do so, you might use the Azure",
    "To host eShop in AKS, the first step is to create an AKS cluster. To do so, you might use the Azure",
    "You can now deploy the eShop application to the cluster using Helm.",
    "You can now deploy the eShop application to the cluster using Helm.",
    "Deploying to Azure Kubernetes Service using Helm",
    "Deploying to Azure Kubernetes Service using Helm",
    "Helm is an application package manager tool that works directly with Kubernetes. It helps you define,",
    "Helm is an application package manager tool that works directly with Kubernetes. It helps you define,",
    "Using Helm, applications include text-based configuration files, called Helm charts, which declaratively",
    "Using Helm, applications include text-based configuration files, called Helm charts, which declaratively",
    "30",
    "30",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "files to describe a related set of Kubernetes resources. They\u2019re versioned alongside the application",
    "files to describe a related set of Kubernetes resources. They\u2019re versioned alongside the application",
    "Helm is composed of a command-line client tool, which consumes helm charts and launches",
    "Helm is composed of a command-line client tool, which consumes helm charts and launches",
    "The following yaml file presents a Helm template:",
    "The following yaml file presents a Helm template:",
    "apiVersion: v1",
    "apiVersion: v1",
    "Note how the template describes a dynamic set of key/value pairs. When the template is invoked,",
    "Note how the template describes a dynamic set of key/value pairs. When the template is invoked,",
    "You\u2019ll find the eShopOnContainers helm charts in the /k8s/helm folder. Figure 2-6 shows how the",
    "You\u2019ll find the eShopOnContainers helm charts in the /k8s/helm folder. Figure 2-6 shows how the",
    "31",
    "31",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "Figure 2-6. The eShopOnContainers helm folder.",
    "Figure 2-6. The eShopOnContainers helm folder.",
    "Each individual component is installed using a helm install command. eShop includes a \u201cdeploy all\u201d",
    "Each individual component is installed using a helm install command. eShop includes a \u201cdeploy all\u201d",
    "Note that version 3 of Helm officially removes the need for the Tiller server component. More",
    "Note that version 3 of Helm officially removes the need for the Tiller server component. More",
    "Azure Functions and Logic Apps (Serverless)",
    "Azure Functions and Logic Apps (Serverless)",
    "The eShopOnContainers sample includes support for tracking online marketing campaigns. An Azure",
    "The eShopOnContainers sample includes support for tracking online marketing campaigns. An Azure",
    "32",
    "32",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "full microservice, a single Azure Function is simpler and sufficient. Azure Functions have a simple build",
    "full microservice, a single Azure Function is simpler and sufficient. Azure Functions have a simple build",
    "Centralized configuration",
    "Centralized configuration",
    "Unlike a monolithic app in which everything runs within a single instance, a cloud-native application",
    "Unlike a monolithic app in which everything runs within a single instance, a cloud-native application",
    "As discussed in Chapter 1, the Twelve-Factor App recommendations require strict separation between",
    "As discussed in Chapter 1, the Twelve-Factor App recommendations require strict separation between",
    "The Azure cloud presents several great options.",
    "The Azure cloud presents several great options.",
    "Azure App Configuration",
    "Azure App Configuration",
    "Azure App Configuration is a fully managed Azure service that stores non-secret configuration",
    "Azure App Configuration is a fully managed Azure service that stores non-secret configuration",
    "The service is simple to use and provides several benefits:",
    "The service is simple to use and provides several benefits:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Flexible key/value representations and mappings",
    "Flexible key/value representations and mappings",
    "Tagging with Azure labels",
    "Tagging with Azure labels",
    "Dedicated UI for management",
    "Dedicated UI for management",
    "Encryption of sensitive information",
    "Encryption of sensitive information",
    "Querying and batch retrieval",
    "Querying and batch retrieval",
    "Azure App Configuration maintains changes made to key-value settings for seven days. The point-in-",
    "Azure App Configuration maintains changes made to key-value settings for seven days. The point-in-",
    "App Configuration automatically caches each setting to avoid excessive calls to the configuration",
    "App Configuration automatically caches each setting to avoid excessive calls to the configuration",
    "33",
    "33",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "App Configuration encrypts all configuration values in transit and at rest. Key names and labels are",
    "App Configuration encrypts all configuration values in transit and at rest. Key names and labels are",
    "Although App Configuration provides hardened security, Azure Key Vault is still the best place for",
    "Although App Configuration provides hardened security, Azure Key Vault is still the best place for",
    "Azure Key Vault",
    "Azure Key Vault",
    "Key Vault is a managed service for securely storing and accessing secrets. A secret is anything that you",
    "Key Vault is a managed service for securely storing and accessing secrets. A secret is anything that you",
    "Key Vault greatly reduces the chances that secrets may be accidentally leaked. When using Key Vault,",
    "Key Vault greatly reduces the chances that secrets may be accidentally leaked. When using Key Vault,",
    "Your applications can securely access the information they need by using URIs. These URIs allow the",
    "Your applications can securely access the information they need by using URIs. These URIs allow the",
    "Access to Key Vault requires proper caller authentication and authorization. Typically, each cloud-",
    "Access to Key Vault requires proper caller authentication and authorization. Typically, each cloud-",
    "Configuration in eShop",
    "Configuration in eShop",
    "The eShopOnContainers application includes local application settings files with each microservice.",
    "The eShopOnContainers application includes local application settings files with each microservice.",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "34",
    "34",
    "The eShopOnContainers Architecture",
    "The eShopOnContainers Architecture",
    "Orchestrating microservices and multi-container applications for high scalability and",
    "Orchestrating microservices and multi-container applications for high scalability and",
    "Azure API Management",
    "Azure API Management",
    "Azure SQL Database Overview",
    "Azure SQL Database Overview",
    "Azure Cache for Redis",
    "Azure Cache for Redis",
    "Azure Cosmos DB\u2019s API for MongoDB",
    "Azure Cosmos DB\u2019s API for MongoDB",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Azure Service Bus",
    "Azure Service Bus",
    "Azure Monitor overview",
    "Azure Monitor overview",
    "eShopOnContainers: Create Kubernetes cluster in AKS",
    "eShopOnContainers: Create Kubernetes cluster in AKS",
    "eShopOnContainers: Azure Dev Spaces",
    "eShopOnContainers: Azure Dev Spaces",
    "Azure Dev Spaces",
    "Azure Dev Spaces",
    "35",
    "35",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER 2 | Introducing eShopOnContainers reference app",
    "CHAPTER  3",
    "CHAPTER  3",
    "Scaling cloud-native",
    "Scaling cloud-native",
    "One of the most-often touted advantages of moving to a cloud hosting environment is scalability.",
    "One of the most-often touted advantages of moving to a cloud hosting environment is scalability.",
    "In this chapter, we discuss technologies that enable cloud-native applications to scale to meet user",
    "In this chapter, we discuss technologies that enable cloud-native applications to scale to meet user",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Containers",
    "Containers",
    "Orchestrators",
    "Orchestrators",
    "Serverless computing",
    "Serverless computing",
    "Leveraging containers and orchestrators",
    "Leveraging containers and orchestrators",
    "Containers and orchestrators are designed to solve problems common to monolithic deployment",
    "Containers and orchestrators are designed to solve problems common to monolithic deployment",
    "Challenges with monolithic deployments",
    "Challenges with monolithic deployments",
    "Traditionally, most applications have been deployed as a single unit. Such applications are referred to",
    "Traditionally, most applications have been deployed as a single unit. Such applications are referred to",
    "36",
    "36",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Figure 3-1. Monolithic architecture.",
    "Figure 3-1. Monolithic architecture.",
    "Although they have the benefit of simplicity, monolithic architectures face many challenges:",
    "Although they have the benefit of simplicity, monolithic architectures face many challenges:",
    "Deployment",
    "Deployment",
    "Additionally, they require a restart of the application, which may temporarily impact availability if",
    "Additionally, they require a restart of the application, which may temporarily impact availability if",
    "Scaling",
    "Scaling",
    "A monolithic application is hosted entirely on a single machine instance, often requiring high-",
    "A monolithic application is hosted entirely on a single machine instance, often requiring high-",
    "Environment",
    "Environment",
    "Monolithic applications are typically deployed to a hosting environment with a pre-installed operating",
    "Monolithic applications are typically deployed to a hosting environment with a pre-installed operating",
    "Coupling",
    "Coupling",
    "A monolithic application is likely to experience high coupling across its functional components.",
    "A monolithic application is likely to experience high coupling across its functional components.",
    "37",
    "37",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Platform lock-in",
    "Platform lock-in",
    "A monolithic application is constructed with a single technology stack. While offering uniformity, this",
    "A monolithic application is constructed with a single technology stack. While offering uniformity, this",
    "What are the benefits of containers and orchestrators?",
    "What are the benefits of containers and orchestrators?",
    "We introduced containers in Chapter 1. We highlighted how the Cloud Native Computing Foundation",
    "We introduced containers in Chapter 1. We highlighted how the Cloud Native Computing Foundation",
    "Docker is the most popular container management platform. It works with containers on both Linux or",
    "Docker is the most popular container management platform. It works with containers on both Linux or",
    "Containers are defined by simple text-based files that become project artifacts and are checked into",
    "Containers are defined by simple text-based files that become project artifacts and are checked into",
    "Containers are immutable. Once you define a container, you can recreate and run it exactly the same",
    "Containers are immutable. Once you define a container, you can recreate and run it exactly the same",
    "38",
    "38",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Figure 3-2. Decomposing a monolithic app to embrace microservices.",
    "Figure 3-2. Decomposing a monolithic app to embrace microservices.",
    "Each cloud-native service is built and deployed in a separate container. Each can update as needed.",
    "Each cloud-native service is built and deployed in a separate container. Each can update as needed.",
    "Containerized services require automated management. It wouldn\u2019t be feasible to manually administer",
    "Containerized services require automated management. It wouldn\u2019t be feasible to manually administer",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "How will container instances be provisioned across a cluster of many machines?",
    "How will container instances be provisioned across a cluster of many machines?",
    "Once deployed, how will containers discover and communicate with each other?",
    "Once deployed, how will containers discover and communicate with each other?",
    "How can containers scale in or out on-demand?",
    "How can containers scale in or out on-demand?",
    "How do you monitor the health of each container?",
    "How do you monitor the health of each container?",
    "How do you protect a container against hardware and software failures?",
    "How do you protect a container against hardware and software failures?",
    "How do upgrade containers for a live application with zero downtime?",
    "How do upgrade containers for a live application with zero downtime?",
    "Container orchestrators address and automate these and other concerns.",
    "Container orchestrators address and automate these and other concerns.",
    "In the cloud-native eco-system, Kubernetes has become the de facto container orchestrator. It\u2019s an",
    "In the cloud-native eco-system, Kubernetes has become the de facto container orchestrator. It\u2019s an",
    "39",
    "39",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "A much better approach is to leverage Kubernetes as a managed service from a cloud vendor. The",
    "A much better approach is to leverage Kubernetes as a managed service from a cloud vendor. The",
    "AKS is a cluster-based technology. A pool of federated virtual machines, or nodes, is deployed to the",
    "AKS is a cluster-based technology. A pool of federated virtual machines, or nodes, is deployed to the",
    "What are the scaling benefits?",
    "What are the scaling benefits?",
    "Services built on containers can leverage scaling benefits provided by orchestration tools like",
    "Services built on containers can leverage scaling benefits provided by orchestration tools like",
    "Figure 3-3. Kubernetes cluster components.",
    "Figure 3-3. Kubernetes cluster components.",
    "Scaling containerized workloads is a key feature of container orchestrators. AKS supports automatic",
    "Scaling containerized workloads is a key feature of container orchestrators. AKS supports automatic",
    "40",
    "40",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Declarative versus imperative",
    "Declarative versus imperative",
    "Kubernetes supports both declarative and imperative configuration. The imperative approach involves",
    "Kubernetes supports both declarative and imperative configuration. The imperative approach involves",
    "Imperative commands are great for learning and interactive experimentation. However, you\u2019ll want to",
    "Imperative commands are great for learning and interactive experimentation. However, you\u2019ll want to",
    "If you\u2019ve already configured your cluster using imperative commands, you can export a declarative",
    "If you\u2019ve already configured your cluster using imperative commands, you can export a declarative",
    "apiVersion: v1",
    "apiVersion: v1",
    "name: https",
    "name: https",
    "When using declarative configuration, you can preview the changes that will be made before",
    "When using declarative configuration, you can preview the changes that will be made before",
    "You can also use declarative configuration with other Kubernetes features, one of which being",
    "You can also use declarative configuration with other Kubernetes features, one of which being",
    "41",
    "41",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Using declarative configuration allows infrastructure to be represented as code that can be checked in",
    "Using declarative configuration allows infrastructure to be represented as code that can be checked in",
    "What scenarios are ideal for containers and orchestrators?",
    "What scenarios are ideal for containers and orchestrators?",
    "The following scenarios are ideal for using containers and orchestrators.",
    "The following scenarios are ideal for using containers and orchestrators.",
    "Applications requiring high uptime and scalability",
    "Applications requiring high uptime and scalability",
    "Individual applications that have high uptime and scalability requirements are ideal candidates for",
    "Individual applications that have high uptime and scalability requirements are ideal candidates for",
    "Large numbers of applications",
    "Large numbers of applications",
    "Organizations that deploy and maintain large numbers of applications benefit from containers and",
    "Organizations that deploy and maintain large numbers of applications benefit from containers and",
    "When should you avoid using containers and orchestrators?",
    "When should you avoid using containers and orchestrators?",
    "If you\u2019re unable to build your application following the Twelve-Factor App principles, you should",
    "If you\u2019re unable to build your application following the Twelve-Factor App principles, you should",
    "Development resources",
    "Development resources",
    "This section shows a short list of development resources that may help you get started using",
    "This section shows a short list of development resources that may help you get started using",
    "Local Kubernetes Development",
    "Local Kubernetes Development",
    "Kubernetes deployments provide great value in production environments, but can also run locally on",
    "Kubernetes deployments provide great value in production environments, but can also run locally on",
    "42",
    "42",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Minikube",
    "Minikube",
    "What is Minikube? The Minikube project says \u201cMinikube implements a local Kubernetes cluster on",
    "What is Minikube? The Minikube project says \u201cMinikube implements a local Kubernetes cluster on",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "DNS",
    "DNS",
    "NodePorts",
    "NodePorts",
    "ConfigMaps and secrets",
    "ConfigMaps and secrets",
    "Dashboards",
    "Dashboards",
    "Container runtimes: Docker, rkt, CRI-O, and containerd",
    "Container runtimes: Docker, rkt, CRI-O, and containerd",
    "Enabling Container Network Interface (CNI)",
    "Enabling Container Network Interface (CNI)",
    "Ingress",
    "Ingress",
    "After installing Minikube, you can quickly start using it by running the minikube start command, which",
    "After installing Minikube, you can quickly start using it by running the minikube start command, which",
    "Docker Desktop",
    "Docker Desktop",
    "You can also work with Kubernetes directly from Docker Desktop on Windows. It is your only option if",
    "You can also work with Kubernetes directly from Docker Desktop on Windows. It is your only option if",
    "Figure 3-4. Configuring Kubernetes in Docker Desktop.",
    "Figure 3-4. Configuring Kubernetes in Docker Desktop.",
    "43",
    "43",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Docker Desktop is the most popular tool for configuring and running containerized apps locally.",
    "Docker Desktop is the most popular tool for configuring and running containerized apps locally.",
    "Visual Studio Docker Tooling",
    "Visual Studio Docker Tooling",
    "Visual Studio supports Docker development for web-based applications. When you create a new",
    "Visual Studio supports Docker development for web-based applications. When you create a new",
    "Figure 3-5. Visual Studio Enable Docker Support",
    "Figure 3-5. Visual Studio Enable Docker Support",
    "When this option is selected, the project is created with a Dockerfile in its root, which can be used to",
    "When this option is selected, the project is created with a Dockerfile in its root, which can be used to",
    "FROM mcr.microsoft.com/dotnet/aspnet:7.0 AS base",
    "FROM mcr.microsoft.com/dotnet/aspnet:7.0 AS base",
    "FROM mcr.microsoft.com/dotnet/sdk:7.0 AS build",
    "FROM mcr.microsoft.com/dotnet/sdk:7.0 AS build",
    "FROM build AS publish",
    "FROM build AS publish",
    "44",
    "44",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "FROM base AS final",
    "FROM base AS final",
    "Figure 3-6. Visual Studio generated Dockerfile",
    "Figure 3-6. Visual Studio generated Dockerfile",
    "Once support is added, you can run your application in a Docker container in Visual Studio. Figure 3-7",
    "Once support is added, you can run your application in a Docker container in Visual Studio. Figure 3-7",
    "Figure 3-7. Visual Studio Docker Run Options",
    "Figure 3-7. Visual Studio Docker Run Options",
    "Also, at any time you can add Docker support to an existing ASP.NET Core application. From the",
    "Also, at any time you can add Docker support to an existing ASP.NET Core application. From the",
    "45",
    "45",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Figure 3-8. Adding Docker support to Visual Studio",
    "Figure 3-8. Adding Docker support to Visual Studio",
    "Visual Studio Code Docker Tooling",
    "Visual Studio Code Docker Tooling",
    "There are many extensions available for Visual Studio Code that support Docker development.",
    "There are many extensions available for Visual Studio Code that support Docker development.",
    "Microsoft provides the Docker for Visual Studio Code extension. This extension simplifies the process",
    "Microsoft provides the Docker for Visual Studio Code extension. This extension simplifies the process",
    "Leveraging serverless functions",
    "Leveraging serverless functions",
    "In the spectrum from managing physical machines to leveraging cloud capabilities, serverless lives at",
    "In the spectrum from managing physical machines to leveraging cloud capabilities, serverless lives at",
    "46",
    "46",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "What is serverless?",
    "What is serverless?",
    "Serverless is a relatively new service model of cloud computing. It doesn\u2019t mean that servers are",
    "Serverless is a relatively new service model of cloud computing. It doesn\u2019t mean that servers are",
    "Serverless computing uses event-triggered stateless containers to host your services. They can scale",
    "Serverless computing uses event-triggered stateless containers to host your services. They can scale",
    "What challenges are solved by serverless?",
    "What challenges are solved by serverless?",
    "Serverless platforms address many time-consuming and expensive concerns:",
    "Serverless platforms address many time-consuming and expensive concerns:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Purchasing machines and software licenses",
    "Purchasing machines and software licenses",
    "Housing, securing, configuring, and maintaining the machines and their networking, power,",
    "Housing, securing, configuring, and maintaining the machines and their networking, power,",
    "Patching and upgrading operating systems and software",
    "Patching and upgrading operating systems and software",
    "Configuring web servers or machine services to host application software",
    "Configuring web servers or machine services to host application software",
    "Configuring application software within its platform",
    "Configuring application software within its platform",
    "Many companies allocate large budgets to support hardware infrastructure concerns. Moving to the",
    "Many companies allocate large budgets to support hardware infrastructure concerns. Moving to the",
    "What is the difference between a microservice and a serverless",
    "What is the difference between a microservice and a serverless",
    "Typically, a microservice encapsulates a business capability, such as a shopping cart for an online",
    "Typically, a microservice encapsulates a business capability, such as a shopping cart for an online",
    "What scenarios are appropriate for serverless?",
    "What scenarios are appropriate for serverless?",
    "Serverless exposes individual short-running functions that are invoked in response to a trigger. This",
    "Serverless exposes individual short-running functions that are invoked in response to a trigger. This",
    "An application might need to send an email as a step in a workflow. Instead of sending the",
    "An application might need to send an email as a step in a workflow. Instead of sending the",
    "47",
    "47",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Asynchronous messaging from queues and topics is a common pattern to trigger serverless functions.",
    "Asynchronous messaging from queues and topics is a common pattern to trigger serverless functions.",
    "Many services have long-running processes as part of their workflows. Often these tasks are done as",
    "Many services have long-running processes as part of their workflows. Often these tasks are done as",
    "When should you avoid serverless?",
    "When should you avoid serverless?",
    "Serverless solutions provision and scale on demand. When a new instance is invoked, cold starts are a",
    "Serverless solutions provision and scale on demand. When a new instance is invoked, cold starts are a",
    "Figure 3-9 shows a cold-start pattern. Note the extra steps required when the app is cold.",
    "Figure 3-9 shows a cold-start pattern. Note the extra steps required when the app is cold.",
    "Figure 3-9. Cold start versus warm start.",
    "Figure 3-9. Cold start versus warm start.",
    "To avoid cold starts entirely, you might switch from a consumption plan to a dedicated plan. You can",
    "To avoid cold starts entirely, you might switch from a consumption plan to a dedicated plan. You can",
    "48",
    "48",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Cloud providers bill for serverless based on compute execution time and consumed memory. Long",
    "Cloud providers bill for serverless based on compute execution time and consumed memory. Long",
    "Finally, leveraging Azure Functions for application tasks adds complexity. It\u2019s wise to first architect",
    "Finally, leveraging Azure Functions for application tasks adds complexity. It\u2019s wise to first architect",
    "Combining containers and serverless approaches",
    "Combining containers and serverless approaches",
    "Cloud-native applications typically implement services leveraging containers and orchestration. There",
    "Cloud-native applications typically implement services leveraging containers and orchestration. There",
    "When does it make sense to use containers with serverless?",
    "When does it make sense to use containers with serverless?",
    "Your Azure Function has no knowledge of the platform on which it\u2019s deployed. For some scenarios,",
    "Your Azure Function has no knowledge of the platform on which it\u2019s deployed. For some scenarios,",
    "When should you avoid using containers with Azure Functions?",
    "When should you avoid using containers with Azure Functions?",
    "If you want to use consumption billing, you can\u2019t run your function in a container. What\u2019s more, if you",
    "If you want to use consumption billing, you can\u2019t run your function in a container. What\u2019s more, if you",
    "How to combine serverless and Docker containers",
    "How to combine serverless and Docker containers",
    "To wrap an Azure Function in a Docker container, install the Azure Functions Core Tools and then run",
    "To wrap an Azure Function in a Docker container, install the Azure Functions Core Tools and then run",
    "func init ProjectName --worker-runtime dotnet --docker",
    "func init ProjectName --worker-runtime dotnet --docker",
    "When the project is created, it will include a Dockerfile and the worker runtime configured to dotnet.",
    "When the project is created, it will include a Dockerfile and the worker runtime configured to dotnet.",
    "49",
    "49",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "run commands. For detailed steps to get started building Azure Functions with Docker support, see",
    "run commands. For detailed steps to get started building Azure Functions with Docker support, see",
    "How to combine serverless and Kubernetes with KEDA",
    "How to combine serverless and Kubernetes with KEDA",
    "In this chapter, you\u2019ve seen that the Azure Functions\u2019 platform automatically scales out to meet",
    "In this chapter, you\u2019ve seen that the Azure Functions\u2019 platform automatically scales out to meet",
    "KEDA provides event-driven scaling functionality to the Functions\u2019 runtime in a Docker container.",
    "KEDA provides event-driven scaling functionality to the Functions\u2019 runtime in a Docker container.",
    "It\u2019s worth noting that the KEDA project is now managed by the Cloud Native Computing Foundation",
    "It\u2019s worth noting that the KEDA project is now managed by the Cloud Native Computing Foundation",
    "Deploying containers in Azure",
    "Deploying containers in Azure",
    "We\u2019ve discussed containers in this chapter and in chapter 1. We\u2019ve seen that containers provide many",
    "We\u2019ve discussed containers in this chapter and in chapter 1. We\u2019ve seen that containers provide many",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Azure Kubernetes Services (AKS)",
    "Azure Kubernetes Services (AKS)",
    "Azure Container Instance (ACI)",
    "Azure Container Instance (ACI)",
    "Azure Web Apps for Containers",
    "Azure Web Apps for Containers",
    "Azure Container Registry",
    "Azure Container Registry",
    "When containerizing a microservice, you first build a container \u201cimage.\u201d The image is a binary",
    "When containerizing a microservice, you first build a container \u201cimage.\u201d The image is a binary",
    "Once created, container images are stored in container registries. They enable you to build, store, and",
    "Once created, container images are stored in container registries. They enable you to build, store, and",
    "You create an Azure Container Registry using the Azure portal, Azure CLI, or PowerShell tools.",
    "You create an Azure Container Registry using the Azure portal, Azure CLI, or PowerShell tools.",
    "50",
    "50",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "name. Figure 3-10 shows the basic options for creating a registry, which will be hosted at",
    "name. Figure 3-10 shows the basic options for creating a registry, which will be hosted at",
    "Figure 3-10. Create container registry",
    "Figure 3-10. Create container registry",
    "Once you\u2019ve created the registry, you\u2019ll need to authenticate with it before you can use it. Typically,",
    "Once you\u2019ve created the registry, you\u2019ll need to authenticate with it before you can use it. Typically,",
    "az acr login --name ",
    "az acr login --name ",
    "Once authenticated, you can use docker commands to push container images to it. Before you can do",
    "Once authenticated, you can use docker commands to push container images to it. Before you can do",
    "docker tag mycontainer myregistry.azurecr.io/mycontainer:v1",
    "docker tag mycontainer myregistry.azurecr.io/mycontainer:v1",
    "After you\u2019ve tagged the image, you use the docker push command to push the image to your ACR",
    "After you\u2019ve tagged the image, you use the docker push command to push the image to your ACR",
    "docker push myregistry.azurecr.io/mycontainer:v1",
    "docker push myregistry.azurecr.io/mycontainer:v1",
    "51",
    "51",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "After you push an image to the registry, it\u2019s a good idea to remove the image from your local Docker",
    "After you push an image to the registry, it\u2019s a good idea to remove the image from your local Docker",
    "docker rmi myregistry.azurecr.io/mycontainer:v1",
    "docker rmi myregistry.azurecr.io/mycontainer:v1",
    "As a best practice, you shouldn\u2019t manually push images to a container registry. Instead, use a build",
    "As a best practice, you shouldn\u2019t manually push images to a container registry. Instead, use a build",
    "ACR Tasks",
    "ACR Tasks",
    "ACR Tasks is a set of features available from the Azure Container Registry. It extends your inner-loop",
    "ACR Tasks is a set of features available from the Azure Container Registry. It extends your inner-loop",
    "The following AZ CLI command both builds a container image and pushes it to ACR:",
    "The following AZ CLI command both builds a container image and pushes it to ACR:",
    "az acr create --resource-group myResourceGroup --name myContainerRegistry008 --sku",
    "az acr create --resource-group myResourceGroup --name myContainerRegistry008 --sku",
    "az acr build --image sample/hello-world:v1  --registry myContainerRegistry008 --file",
    "az acr build --image sample/hello-world:v1  --registry myContainerRegistry008 --file",
    "As you can see from the previous command block, there\u2019s no need to install Docker Desktop on your",
    "As you can see from the previous command block, there\u2019s no need to install Docker Desktop on your",
    "Azure Kubernetes Service",
    "Azure Kubernetes Service",
    "We discussed Azure Kubernetes Service (AKS) at length in this chapter. We\u2019ve seen that it\u2019s the de",
    "We discussed Azure Kubernetes Service (AKS) at length in this chapter. We\u2019ve seen that it\u2019s the de",
    "Once you deploy an image to a registry, such as ACR, you can configure AKS to automatically pull and",
    "Once you deploy an image to a registry, such as ACR, you can configure AKS to automatically pull and",
    "As with most resources in Azure, you can create an Azure Kubernetes Service cluster using the portal,",
    "As with most resources in Azure, you can create an Azure Kubernetes Service cluster using the portal,",
    "Azure subscription",
    "Azure subscription",
    "Resource group",
    "Resource group",
    "Kubernetes cluster name",
    "Kubernetes cluster name",
    "Region",
    "Region",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "52",
    "52",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Kubernetes version",
    "Kubernetes version",
    "DNS name prefix",
    "DNS name prefix",
    "Node size",
    "Node size",
    "Node count",
    "Node count",
    "This information is sufficient to get started. As part of the creation process in the Azure portal, you can",
    "This information is sufficient to get started. As part of the creation process in the Azure portal, you can",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Scale",
    "Scale",
    "Authentication",
    "Authentication",
    "Networking",
    "Networking",
    "\u2022  Monitoring",
    "\u2022  Monitoring",
    "\u2022",
    "\u2022",
    "Tags",
    "Tags",
    "This quickstart walks through deploying an AKS cluster using the Azure portal.",
    "This quickstart walks through deploying an AKS cluster using the Azure portal.",
    "Azure Bridge to Kubernetes",
    "Azure Bridge to Kubernetes",
    "Cloud-native applications can grow large and complex, requiring significant compute resources to",
    "Cloud-native applications can grow large and complex, requiring significant compute resources to",
    "When ready, developers test their changes locally while running against the full application in the AKS",
    "When ready, developers test their changes locally while running against the full application in the AKS",
    "Gabe Monroy, former VP of Product Management at Microsoft, describes it well:",
    "Gabe Monroy, former VP of Product Management at Microsoft, describes it well:",
    "Imagine you\u2019re a new employee trying to fix a bug in a complex microservices application consisting",
    "Imagine you\u2019re a new employee trying to fix a bug in a complex microservices application consisting",
    "Scaling containers and serverless applications",
    "Scaling containers and serverless applications",
    "There are two ways to scale an application: up or out. The former refers to adding capacity to a single",
    "There are two ways to scale an application: up or out. The former refers to adding capacity to a single",
    "The simple solution: scaling up",
    "The simple solution: scaling up",
    "Upgrading an existing host server with increased CPU, memory, disk I/O speed, and network I/O",
    "Upgrading an existing host server with increased CPU, memory, disk I/O speed, and network I/O",
    "53",
    "53",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "resources from the cloud vendor. For example, you can create a new node pool with larger VMs in",
    "resources from the cloud vendor. For example, you can create a new node pool with larger VMs in",
    "Serverless apps scale up by choosing the premium Functions plan or premium instance sizes from a",
    "Serverless apps scale up by choosing the premium Functions plan or premium instance sizes from a",
    "Scaling out cloud-native apps",
    "Scaling out cloud-native apps",
    "Cloud-native applications often experience large fluctuations in demand and require scale on a",
    "Cloud-native applications often experience large fluctuations in demand and require scale on a",
    "AKS clusters can autoscale in one of two ways:",
    "AKS clusters can autoscale in one of two ways:",
    "First, the Horizontal Pod Autoscaler monitors resource demand and automatically scales your POD",
    "First, the Horizontal Pod Autoscaler monitors resource demand and automatically scales your POD",
    "Next, the AKS Cluster Autoscaler feature enables you to automatically scale compute nodes across a",
    "Next, the AKS Cluster Autoscaler feature enables you to automatically scale compute nodes across a",
    "Figure 3-11 shows the relationship between these two scaling services.",
    "Figure 3-11 shows the relationship between these two scaling services.",
    "Figure 3-11. Scaling out an App Service plan.",
    "Figure 3-11. Scaling out an App Service plan.",
    "54",
    "54",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Working together, both ensure an optimal number of container instances and compute nodes to",
    "Working together, both ensure an optimal number of container instances and compute nodes to",
    "Scaling Azure Functions",
    "Scaling Azure Functions",
    "Azure Functions automatically scale out upon demand. Server resources are dynamically allocated and",
    "Azure Functions automatically scale out upon demand. Server resources are dynamically allocated and",
    "While the default consumption plan provides an economical and scalable solution for most apps, the",
    "While the default consumption plan provides an economical and scalable solution for most apps, the",
    "Other container deployment options",
    "Other container deployment options",
    "Aside from Azure Kubernetes Service (AKS), you can also deploy containers to Azure App Service for",
    "Aside from Azure Kubernetes Service (AKS), you can also deploy containers to Azure App Service for",
    "When does it make sense to deploy to App Service for Containers?",
    "When does it make sense to deploy to App Service for Containers?",
    "Simple production applications that don\u2019t require orchestration are well suited to Azure App Service",
    "Simple production applications that don\u2019t require orchestration are well suited to Azure App Service",
    "How to deploy to App Service for Containers",
    "How to deploy to App Service for Containers",
    "To deploy to Azure App Service for Containers, you\u2019ll need an Azure Container Registry (ACR) instance",
    "To deploy to Azure App Service for Containers, you\u2019ll need an Azure Container Registry (ACR) instance",
    "When does it make sense to deploy to Azure Container Instances?",
    "When does it make sense to deploy to Azure Container Instances?",
    "Azure Container Instances (ACI) enables you to run Docker containers in a managed, serverless cloud",
    "Azure Container Instances (ACI) enables you to run Docker containers in a managed, serverless cloud",
    "How to deploy an app to Azure Container Instances",
    "How to deploy an app to Azure Container Instances",
    "To deploy to Azure Container Instances (ACI), you need an Azure Container Registry (ACR) and",
    "To deploy to Azure Container Instances (ACI), you need an Azure Container Registry (ACR) and",
    "55",
    "55",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "Figure 3-12. Azure Container Registry Run Instance",
    "Figure 3-12. Azure Container Registry Run Instance",
    "Creating an instance in ACI can be done quickly. Specify the image registry, Azure resource group",
    "Creating an instance in ACI can be done quickly. Specify the image registry, Azure resource group",
    "Once the deployment completes, find the newly deployed container\u2019s IP address and communicate",
    "Once the deployment completes, find the newly deployed container\u2019s IP address and communicate",
    "Azure Container Instances offers the fastest way to run simple container workloads in Azure. You don\u2019t",
    "Azure Container Instances offers the fastest way to run simple container workloads in Azure. You don\u2019t",
    "References",
    "References",
    "\u2022  What is Kubernetes?",
    "\u2022  What is Kubernetes?",
    "\u2022",
    "\u2022",
    "Installing Kubernetes with Minikube",
    "Installing Kubernetes with Minikube",
    "\u2022  MiniKube vs Docker Desktop",
    "\u2022  MiniKube vs Docker Desktop",
    "\u2022",
    "\u2022",
    "Visual Studio Tools for Docker",
    "Visual Studio Tools for Docker",
    "56",
    "56",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Understanding serverless cold start",
    "Understanding serverless cold start",
    "Pre-warmed Azure Functions instances",
    "Pre-warmed Azure Functions instances",
    "Create a function on Linux using a custom image",
    "Create a function on Linux using a custom image",
    "Run Azure Functions in a Docker Container",
    "Run Azure Functions in a Docker Container",
    "Create a function on Linux using a custom image",
    "Create a function on Linux using a custom image",
    "Azure Functions with Kubernetes Event Driven Autoscaling",
    "Azure Functions with Kubernetes Event Driven Autoscaling",
    "Canary Release",
    "Canary Release",
    "Azure Dev Spaces with VS Code",
    "Azure Dev Spaces with VS Code",
    "Azure Dev Spaces with Visual Studio",
    "Azure Dev Spaces with Visual Studio",
    "AKS Multiple Node Pools",
    "AKS Multiple Node Pools",
    "AKS Cluster Autoscaler",
    "AKS Cluster Autoscaler",
    "Tutorial: Scale applications in AKS",
    "Tutorial: Scale applications in AKS",
    "Azure Functions scale and hosting",
    "Azure Functions scale and hosting",
    "Azure Container Instances Docs",
    "Azure Container Instances Docs",
    "Deploy Container Instance from ACR",
    "Deploy Container Instance from ACR",
    "57",
    "57",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER 3 | Scaling cloud-native applications",
    "CHAPTER  4",
    "CHAPTER  4",
    "Cloud-native",
    "Cloud-native",
    "When constructing a cloud-native system, communication becomes a significant design decision. How",
    "When constructing a cloud-native system, communication becomes a significant design decision. How",
    "Communication considerations",
    "Communication considerations",
    "In a monolithic application, communication is straightforward. The code modules execute together in",
    "In a monolithic application, communication is straightforward. The code modules execute together in",
    "Cloud-native systems implement a microservice-based architecture with many small, independent",
    "Cloud-native systems implement a microservice-based architecture with many small, independent",
    "A cluster groups a pool of virtual machines together to form a highly available environment. They\u2019re",
    "A cluster groups a pool of virtual machines together to form a highly available environment. They\u2019re",
    "58",
    "58",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-1. A Kubernetes cluster in Azure",
    "Figure 4-1. A Kubernetes cluster in Azure",
    "Across the cluster, microservices communicate with each other through APIs and messaging",
    "Across the cluster, microservices communicate with each other through APIs and messaging",
    "While they provide many benefits, microservices are no free lunch. Local in-process method calls",
    "While they provide many benefits, microservices are no free lunch. Local in-process method calls",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Network congestion, latency, and transient faults are a constant concern.",
    "Network congestion, latency, and transient faults are a constant concern.",
    "Resiliency (that is, retrying failed requests) is essential.",
    "Resiliency (that is, retrying failed requests) is essential.",
    "Some calls must be idempotent as to keep consistent state.",
    "Some calls must be idempotent as to keep consistent state.",
    "Each microservice must authenticate and authorize calls.",
    "Each microservice must authenticate and authorize calls.",
    "Each message must be serialized and then deserialized - which can be expensive.",
    "Each message must be serialized and then deserialized - which can be expensive.",
    "\u2022  Message encryption/decryption becomes important.",
    "\u2022  Message encryption/decryption becomes important.",
    "The book .NET Microservices: Architecture for Containerized .NET Applications, available for free from",
    "The book .NET Microservices: Architecture for Containerized .NET Applications, available for free from",
    "In this chapter, we\u2019ll first address communication between front-end applications and back-end",
    "In this chapter, we\u2019ll first address communication between front-end applications and back-end",
    "59",
    "59",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "the up and gRPC communication technology. Finally, we\u2019ll look new innovative communication",
    "the up and gRPC communication technology. Finally, we\u2019ll look new innovative communication",
    "Front-end client communication",
    "Front-end client communication",
    "In a cloud-native system, front-end clients (mobile, web, and desktop applications) require a",
    "In a cloud-native system, front-end clients (mobile, web, and desktop applications) require a",
    "What are the options?",
    "What are the options?",
    "To keep things simple, a front-end client could directly communicate with the back-end microservices,",
    "To keep things simple, a front-end client could directly communicate with the back-end microservices,",
    "Figure 4-2. Direct client to service communication",
    "Figure 4-2. Direct client to service communication",
    "With this approach, each microservice has a public endpoint that is accessible by front-end clients. In",
    "With this approach, each microservice has a public endpoint that is accessible by front-end clients. In",
    "While simple to implement, direct client communication would be acceptable only for simple",
    "While simple to implement, direct client communication would be acceptable only for simple",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "60",
    "60",
    "Client susceptibility to back-end service refactoring.",
    "Client susceptibility to back-end service refactoring.",
    "A wider attack surface as core back-end services are directly exposed.",
    "A wider attack surface as core back-end services are directly exposed.",
    "Duplication of cross-cutting concerns across each microservice.",
    "Duplication of cross-cutting concerns across each microservice.",
    "Overly complex client code - clients must keep track of multiple endpoints and handle failures",
    "Overly complex client code - clients must keep track of multiple endpoints and handle failures",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Instead, a widely accepted cloud design pattern is to implement an API Gateway Service between the",
    "Instead, a widely accepted cloud design pattern is to implement an API Gateway Service between the",
    "Figure 4-3. API gateway pattern",
    "Figure 4-3. API gateway pattern",
    "In the previous figure, note how the API Gateway service abstracts the back-end core microservices.",
    "In the previous figure, note how the API Gateway service abstracts the back-end core microservices.",
    "The gateway insulates the client from internal service partitioning and refactoring. If you change a",
    "The gateway insulates the client from internal service partitioning and refactoring. If you change a",
    "Care must be taken to keep the API Gateway simple and fast. Typically, business logic is kept out of",
    "Care must be taken to keep the API Gateway simple and fast. Typically, business logic is kept out of",
    "61",
    "61",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-4. Backend for frontend pattern",
    "Figure 4-4. Backend for frontend pattern",
    "Note in the previous figure how incoming traffic is sent to a specific API gateway - based upon client",
    "Note in the previous figure how incoming traffic is sent to a specific API gateway - based upon client",
    "Simple Gateways",
    "Simple Gateways",
    "To start, you could build your own API Gateway service. A quick search of GitHub will provide many",
    "To start, you could build your own API Gateway service. A quick search of GitHub will provide many",
    "For simple .NET cloud-native applications, you might consider the Ocelot Gateway. Open source and",
    "For simple .NET cloud-native applications, you might consider the Ocelot Gateway. Open source and",
    "YARP (Yet Another Reverse proxy) is another open source reverse proxy led by a group of Microsoft",
    "YARP (Yet Another Reverse proxy) is another open source reverse proxy led by a group of Microsoft",
    "For enterprise cloud-native applications, there are several managed Azure services that can help",
    "For enterprise cloud-native applications, there are several managed Azure services that can help",
    "62",
    "62",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Azure Application Gateway",
    "Azure Application Gateway",
    "For simple gateway requirements, you may consider Azure Application Gateway. Available as an Azure",
    "For simple gateway requirements, you may consider Azure Application Gateway. Available as an Azure",
    "Throughout this book, we evangelize hosting cloud-native systems in Kubernetes. A container",
    "Throughout this book, we evangelize hosting cloud-native systems in Kubernetes. A container",
    "The Application Gateway Ingress Controller enables Azure Application Gateway to work directly with",
    "The Application Gateway Ingress Controller enables Azure Application Gateway to work directly with",
    "Figure 4-5. Application Gateway Ingress Controller",
    "Figure 4-5. Application Gateway Ingress Controller",
    "Kubernetes includes a built-in feature that supports HTTP (Level 7) load balancing, called Ingress.",
    "Kubernetes includes a built-in feature that supports HTTP (Level 7) load balancing, called Ingress.",
    "Azure API Management",
    "Azure API Management",
    "For moderate to large-scale cloud-native systems, you may consider Azure API Management. It\u2019s a",
    "For moderate to large-scale cloud-native systems, you may consider Azure API Management. It\u2019s a",
    "63",
    "63",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-6. Azure API Management",
    "Figure 4-6. Azure API Management",
    "To start, API Management exposes a gateway server that allows controlled access to back-end",
    "To start, API Management exposes a gateway server that allows controlled access to back-end",
    "For developers, API Management offers a developer portal that provides access to services,",
    "For developers, API Management offers a developer portal that provides access to services,",
    "The publisher portal exposes a management dashboard where administrators expose APIs and",
    "The publisher portal exposes a management dashboard where administrators expose APIs and",
    "Here are examples of how policies can affect the behavior of your cloud-native services:",
    "Here are examples of how policies can affect the behavior of your cloud-native services:",
    "Restrict service access.",
    "Restrict service access.",
    "Enforce authentication.",
    "Enforce authentication.",
    "Throttle calls from a single source, if necessary.",
    "Throttle calls from a single source, if necessary.",
    "Enable caching.",
    "Enable caching.",
    "Block calls from specific IP addresses.",
    "Block calls from specific IP addresses.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "64",
    "64",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Control the flow of the service.",
    "Control the flow of the service.",
    "Convert requests from SOAP to REST or between different data formats, such as from XML to",
    "Convert requests from SOAP to REST or between different data formats, such as from XML to",
    "Azure API Management can expose back-end services that are hosted anywhere \u2013 in the cloud or your",
    "Azure API Management can expose back-end services that are hosted anywhere \u2013 in the cloud or your",
    "Azure API Management is available across four different tiers:",
    "Azure API Management is available across four different tiers:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Developer",
    "Developer",
    "Basic",
    "Basic",
    "Standard",
    "Standard",
    "Premium",
    "Premium",
    "The Developer tier is meant for non-production workloads and evaluation. The other tiers offer",
    "The Developer tier is meant for non-production workloads and evaluation. The other tiers offer",
    "The Azure cloud also offers a serverless tier for Azure API Management. Referred to as the",
    "The Azure cloud also offers a serverless tier for Azure API Management. Referred to as the",
    "It enables API Gateway features for the following use cases:",
    "It enables API Gateway features for the following use cases:",
    "\u2022  Microservices implemented using serverless technologies such as Azure Functions and Azure",
    "\u2022  Microservices implemented using serverless technologies such as Azure Functions and Azure",
    "Logic Apps.",
    "Logic Apps.",
    "\u2022",
    "\u2022",
    "Azure backing service resources such as Service Bus queues and topics, Azure storage, and",
    "Azure backing service resources such as Service Bus queues and topics, Azure storage, and",
    "\u2022  Microservices where traffic has occasional large spikes but remains low most the time.",
    "\u2022  Microservices where traffic has occasional large spikes but remains low most the time.",
    "The consumption tier uses the same underlying service API Management components, but employs",
    "The consumption tier uses the same underlying service API Management components, but employs",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "No infrastructure to manage.",
    "No infrastructure to manage.",
    "No idle capacity.",
    "No idle capacity.",
    "High-availability.",
    "High-availability.",
    "Automatic scaling.",
    "Automatic scaling.",
    "Cost is based on actual usage.",
    "Cost is based on actual usage.",
    "The new consumption tier is a great choice for cloud-native systems that expose serverless resources",
    "The new consumption tier is a great choice for cloud-native systems that expose serverless resources",
    "65",
    "65",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Real-time communication",
    "Real-time communication",
    "Real-time, or push, communication is another option for front-end applications that communicate",
    "Real-time, or push, communication is another option for front-end applications that communicate",
    "Real-time systems are often characterized by high-frequency data flows and large numbers of",
    "Real-time systems are often characterized by high-frequency data flows and large numbers of",
    "Azure SignalR Service is a fully managed Azure service that simplifies real-time communication for",
    "Azure SignalR Service is a fully managed Azure service that simplifies real-time communication for",
    "Once enabled, a cloud-based HTTP service can push content updates directly to connected clients,",
    "Once enabled, a cloud-based HTTP service can push content updates directly to connected clients,",
    "Figure 4-7 shows a set of HTTP Clients connecting to a Cloud-native application with Azure SignalR",
    "Figure 4-7 shows a set of HTTP Clients connecting to a Cloud-native application with Azure SignalR",
    "66",
    "66",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-7. Azure SignalR",
    "Figure 4-7. Azure SignalR",
    "Another advantage of Azure SignalR Service comes with implementing Serverless cloud-native",
    "Another advantage of Azure SignalR Service comes with implementing Serverless cloud-native",
    "Azure SignalR Service closely integrates with other Azure services, such as Azure SQL Database,",
    "Azure SignalR Service closely integrates with other Azure services, such as Azure SQL Database,",
    "Service-to-service communication",
    "Service-to-service communication",
    "Moving from the front-end client, we now address back-end microservices communicate with each",
    "Moving from the front-end client, we now address back-end microservices communicate with each",
    "When constructing a cloud-native application, you\u2019ll want to be sensitive to how back-end services",
    "When constructing a cloud-native application, you\u2019ll want to be sensitive to how back-end services",
    "There are several widely accepted approaches to implementing cross-service communication. The type",
    "There are several widely accepted approaches to implementing cross-service communication. The type",
    "Consider the following interaction types:",
    "Consider the following interaction types:",
    "\u2022",
    "\u2022",
    "Query \u2013 when a calling microservice requires a response from a called microservice, such as,",
    "Query \u2013 when a calling microservice requires a response from a called microservice, such as,",
    "67",
    "67",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Command \u2013 when the calling microservice needs another microservice to execute an action",
    "Command \u2013 when the calling microservice needs another microservice to execute an action",
    "Event \u2013 when a microservice, called the publisher, raises an event that state has changed or an",
    "Event \u2013 when a microservice, called the publisher, raises an event that state has changed or an",
    "Microservice systems typically use a combination of these interaction types when executing",
    "Microservice systems typically use a combination of these interaction types when executing",
    "Queries",
    "Queries",
    "Many times, one microservice might need to query another, requiring an immediate response to",
    "Many times, one microservice might need to query another, requiring an immediate response to",
    "Request/Response Messaging",
    "Request/Response Messaging",
    "One option for implementing this scenario is for the calling back-end microservice to make direct",
    "One option for implementing this scenario is for the calling back-end microservice to make direct",
    "Figure 4-8. Direct HTTP communication",
    "Figure 4-8. Direct HTTP communication",
    "While direct HTTP calls between microservices are relatively simple to implement, care should be",
    "While direct HTTP calls between microservices are relatively simple to implement, care should be",
    "68",
    "68",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Executing an infrequent request that makes a single direct HTTP call to another microservice might be",
    "Executing an infrequent request that makes a single direct HTTP call to another microservice might be",
    "Figure 4-9. Chaining HTTP queries",
    "Figure 4-9. Chaining HTTP queries",
    "You can certainly imagine the risk in the design shown in the previous image. What happens if Step",
    "You can certainly imagine the risk in the design shown in the previous image. What happens if Step",
    "The large degree of coupling in the previous image suggests the services weren\u2019t optimally modeled.",
    "The large degree of coupling in the previous image suggests the services weren\u2019t optimally modeled.",
    "Materialized View pattern",
    "Materialized View pattern",
    "A popular option for removing microservice coupling is the Materialized View pattern. With this",
    "A popular option for removing microservice coupling is the Materialized View pattern. With this",
    "Service Aggregator Pattern",
    "Service Aggregator Pattern",
    "Another option for eliminating microservice-to-microservice coupling is an Aggregator microservice,",
    "Another option for eliminating microservice-to-microservice coupling is an Aggregator microservice,",
    "69",
    "69",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-10. Aggregator microservice",
    "Figure 4-10. Aggregator microservice",
    "The pattern isolates an operation that makes calls to multiple back-end microservices, centralizing its",
    "The pattern isolates an operation that makes calls to multiple back-end microservices, centralizing its",
    "Request/Reply Pattern",
    "Request/Reply Pattern",
    "Another approach for decoupling synchronous HTTP messages is a Request-Reply Pattern, which uses",
    "Another approach for decoupling synchronous HTTP messages is a Request-Reply Pattern, which uses",
    "70",
    "70",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-11. Request-reply pattern",
    "Figure 4-11. Request-reply pattern",
    "Here, the message producer creates a query-based message that contains a unique correlation ID and",
    "Here, the message producer creates a query-based message that contains a unique correlation ID and",
    "Commands",
    "Commands",
    "Another type of communication interaction is a command. A microservice may need another",
    "Another type of communication interaction is a command. A microservice may need another",
    "71",
    "71",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-12. Command interaction with a queue",
    "Figure 4-12. Command interaction with a queue",
    "Most often, the Producer doesn\u2019t require a response and can fire-and-forget the message. If a reply is",
    "Most often, the Producer doesn\u2019t require a response and can fire-and-forget the message. If a reply is",
    "A message queue is an intermediary construct through which a producer and consumer pass a",
    "A message queue is an intermediary construct through which a producer and consumer pass a",
    "In chapter 1, we talked about backing services. Backing services are ancillary resources upon which",
    "In chapter 1, we talked about backing services. Backing services are ancillary resources upon which",
    "Azure Storage Queues",
    "Azure Storage Queues",
    "Azure storage queues offer a simple queueing infrastructure that is fast, affordable, and backed by",
    "Azure storage queues offer a simple queueing infrastructure that is fast, affordable, and backed by",
    "Azure Storage Queues feature a REST-based queuing mechanism with reliable and persistent",
    "Azure Storage Queues feature a REST-based queuing mechanism with reliable and persistent",
    "You can access messages from anywhere in the world via authenticated calls using HTTP or HTTPS.",
    "You can access messages from anywhere in the world via authenticated calls using HTTP or HTTPS.",
    "72",
    "72",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "That said, there are limitations with the service:",
    "That said, there are limitations with the service:",
    "\u2022  Message order isn\u2019t guaranteed.",
    "\u2022  Message order isn\u2019t guaranteed.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "A message can only persist for seven days before it\u2019s automatically removed.",
    "A message can only persist for seven days before it\u2019s automatically removed.",
    "Support for state management, duplicate detection, or transactions isn\u2019t available.",
    "Support for state management, duplicate detection, or transactions isn\u2019t available.",
    "Figure 4-13 shows the hierarchy of an Azure Storage Queue.",
    "Figure 4-13 shows the hierarchy of an Azure Storage Queue.",
    "Figure 4-13. Storage queue hierarchy",
    "Figure 4-13. Storage queue hierarchy",
    "In the previous figure, note how storage queues store their messages in the underlying Azure Storage",
    "In the previous figure, note how storage queues store their messages in the underlying Azure Storage",
    "For developers, Microsoft provides several client and server-side libraries for Storage queue",
    "For developers, Microsoft provides several client and server-side libraries for Storage queue",
    "Azure Storage queues are an economical option to implement command messaging in your cloud-",
    "Azure Storage queues are an economical option to implement command messaging in your cloud-",
    "Azure Service Bus Queues",
    "Azure Service Bus Queues",
    "For more complex messaging requirements, consider Azure Service Bus queues.",
    "For more complex messaging requirements, consider Azure Service Bus queues.",
    "Sitting atop a robust message infrastructure, Azure Service Bus supports a brokered messaging model.",
    "Sitting atop a robust message infrastructure, Azure Service Bus supports a brokered messaging model.",
    "The size of a message can be much larger, up to 256 KB. Messages are persisted in the queue for an",
    "The size of a message can be much larger, up to 256 KB. Messages are persisted in the queue for an",
    "73",
    "73",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "support for the AMQP protocol. AMQP is an open-standard across vendors that supports a binary",
    "support for the AMQP protocol. AMQP is an open-standard across vendors that supports a binary",
    "Service Bus provides a rich set of features, including transaction support and a duplicate detection",
    "Service Bus provides a rich set of features, including transaction support and a duplicate detection",
    "Two more enterprise features are partitioning and sessions. A conventional Service Bus queue is",
    "Two more enterprise features are partitioning and sessions. A conventional Service Bus queue is",
    "Service Bus Sessions provide a way to group-related messages. Imagine a workflow scenario where",
    "Service Bus Sessions provide a way to group-related messages. Imagine a workflow scenario where",
    "However, there are some important caveats: Service Bus queues size is limited to 80 GB, which is much",
    "However, there are some important caveats: Service Bus queues size is limited to 80 GB, which is much",
    "Figure 4-14 outlines the high-level architecture of a Service Bus queue.",
    "Figure 4-14 outlines the high-level architecture of a Service Bus queue.",
    "Figure 4-14. Service Bus queue",
    "Figure 4-14. Service Bus queue",
    "In the previous figure, note the point-to-point relationship. Two instances of the same provider are",
    "In the previous figure, note the point-to-point relationship. Two instances of the same provider are",
    "Events",
    "Events",
    "Message queuing is an effective way to implement communication where a producer can",
    "Message queuing is an effective way to implement communication where a producer can",
    "74",
    "74",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "are interested in the same message? A dedicated message queue for each consumer wouldn\u2019t scale",
    "are interested in the same message? A dedicated message queue for each consumer wouldn\u2019t scale",
    "To address this scenario, we move to the third type of message interaction, the event. One",
    "To address this scenario, we move to the third type of message interaction, the event. One",
    "Eventing is a two-step process. For a given state change, a microservice publishes an event to a",
    "Eventing is a two-step process. For a given state change, a microservice publishes an event to a",
    "Figure 4-15 shows a shopping basket microservice publishing an event with two other microservices",
    "Figure 4-15 shows a shopping basket microservice publishing an event with two other microservices",
    "Figure 4-15. Event-Driven messaging",
    "Figure 4-15. Event-Driven messaging",
    "Note the event bus component that sits in the middle of the communication channel. It\u2019s a custom",
    "Note the event bus component that sits in the middle of the communication channel. It\u2019s a custom",
    "With eventing, we move from queuing technology to topics. A topic is similar to a queue, but supports",
    "With eventing, we move from queuing technology to topics. A topic is similar to a queue, but supports",
    "75",
    "75",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-16. Topic architecture",
    "Figure 4-16. Topic architecture",
    "In the previous figure, publishers send messages to the topic. At the end, subscribers receive",
    "In the previous figure, publishers send messages to the topic. At the end, subscribers receive",
    "The Azure cloud supports two different topic services: Azure Service Bus Topics and Azure EventGrid.",
    "The Azure cloud supports two different topic services: Azure Service Bus Topics and Azure EventGrid.",
    "Azure Service Bus Topics",
    "Azure Service Bus Topics",
    "Sitting on top of the same robust brokered message model of Azure Service Bus queues are Azure",
    "Sitting on top of the same robust brokered message model of Azure Service Bus queues are Azure",
    "Many advanced features from Azure Service Bus queues are also available for topics, including",
    "Many advanced features from Azure Service Bus queues are also available for topics, including",
    "Scheduled Message Delivery tags a message with a specific time for processing. The message won\u2019t",
    "Scheduled Message Delivery tags a message with a specific time for processing. The message won\u2019t",
    "Service Bus topics are a robust and proven technology for enabling publish/subscribe communication",
    "Service Bus topics are a robust and proven technology for enabling publish/subscribe communication",
    "Azure Event Grid",
    "Azure Event Grid",
    "While Azure Service Bus is a battle-tested messaging broker with a full set of enterprise features,",
    "While Azure Service Bus is a battle-tested messaging broker with a full set of enterprise features,",
    "76",
    "76",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "At first glance, Event Grid may look like just another topic-based messaging system. However, it\u2019s",
    "At first glance, Event Grid may look like just another topic-based messaging system. However, it\u2019s",
    "As a centralized eventing backplane, or pipe, Event Grid reacts to events inside Azure resources and",
    "As a centralized eventing backplane, or pipe, Event Grid reacts to events inside Azure resources and",
    "Event notifications are published to an Event Grid Topic, which, in turn, routes each event to a",
    "Event notifications are published to an Event Grid Topic, which, in turn, routes each event to a",
    "A sweet spot for Event Grid is its deep integration into the fabric of Azure infrastructure. An Azure",
    "A sweet spot for Event Grid is its deep integration into the fabric of Azure infrastructure. An Azure",
    "When publishing and subscribing to native events from Azure resources, no coding is required. With",
    "When publishing and subscribing to native events from Azure resources, no coding is required. With",
    "Figure 4-17. Event Grid anatomy",
    "Figure 4-17. Event Grid anatomy",
    "77",
    "77",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "A major difference between EventGrid and Service Bus is the underlying message exchange pattern.",
    "A major difference between EventGrid and Service Bus is the underlying message exchange pattern.",
    "Service Bus implements an older style pull model in which the downstream subscriber actively polls",
    "Service Bus implements an older style pull model in which the downstream subscriber actively polls",
    "EventGrid, however, is different. It implements a push model in which events are sent to the",
    "EventGrid, however, is different. It implements a push model in which events are sent to the",
    "Event Grid is a fully managed serverless cloud service. It dynamically scales based on your traffic and",
    "Event Grid is a fully managed serverless cloud service. It dynamically scales based on your traffic and",
    "Streaming messages in the Azure cloud",
    "Streaming messages in the Azure cloud",
    "Azure Service Bus and Event Grid provide great support for applications that expose single, discrete",
    "Azure Service Bus and Event Grid provide great support for applications that expose single, discrete",
    "Azure Event Hub is a data streaming platform and event ingestion service that collects, transforms,",
    "Azure Event Hub is a data streaming platform and event ingestion service that collects, transforms,",
    "78",
    "78",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-18. Azure Event Hub",
    "Figure 4-18. Azure Event Hub",
    "Event Hub supports low latency and configurable time retention. Unlike queues and topics, Event",
    "Event Hub supports low latency and configurable time retention. Unlike queues and topics, Event",
    "Event Hub supports common event publishing protocols including HTTPS and AMQP. It also supports",
    "Event Hub supports common event publishing protocols including HTTPS and AMQP. It also supports",
    "Event Hubs implements message streaming through a partitioned consumer model in which each",
    "Event Hubs implements message streaming through a partitioned consumer model in which each",
    "Figure 4-19. Event Hub partitioning",
    "Figure 4-19. Event Hub partitioning",
    "Instead of reading from the same resource, each consumer group reads across a subset, or partition,",
    "Instead of reading from the same resource, each consumer group reads across a subset, or partition,",
    "79",
    "79",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "For cloud-native applications that must stream large numbers of events, Azure Event Hub can be a",
    "For cloud-native applications that must stream large numbers of events, Azure Event Hub can be a",
    "gRPC",
    "gRPC",
    "So far in this book, we\u2019ve focused on REST-based communication. We\u2019ve seen that REST is a flexible",
    "So far in this book, we\u2019ve focused on REST-based communication. We\u2019ve seen that REST is a flexible",
    "What is gRPC?",
    "What is gRPC?",
    "gRPC is a modern, high-performance framework that evolves the age-old remote procedure call (RPC)",
    "gRPC is a modern, high-performance framework that evolves the age-old remote procedure call (RPC)",
    "A typical gRPC client app will expose a local, in-process function that implements a business",
    "A typical gRPC client app will expose a local, in-process function that implements a business",
    "In cloud-native applications, developers often work across programming languages, frameworks, and",
    "In cloud-native applications, developers often work across programming languages, frameworks, and",
    "gRPC offers comprehensive support across most popular development stacks, including Java,",
    "gRPC offers comprehensive support across most popular development stacks, including Java,",
    "gRPC Benefits",
    "gRPC Benefits",
    "gRPC uses HTTP/2 for its transport protocol. While compatible with HTTP 1.1, HTTP/2 features many",
    "gRPC uses HTTP/2 for its transport protocol. While compatible with HTTP 1.1, HTTP/2 features many",
    "\u2022",
    "\u2022",
    "A binary framing protocol for data transport - unlike HTTP 1.1, which is text based.",
    "A binary framing protocol for data transport - unlike HTTP 1.1, which is text based.",
    "\u2022  Multiplexing support for sending multiple parallel requests over the same connection - HTTP",
    "\u2022  Multiplexing support for sending multiple parallel requests over the same connection - HTTP",
    "1.1 limits processing to one request/response message at a time.",
    "1.1 limits processing to one request/response message at a time.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "80",
    "80",
    "Bidirectional full-duplex communication for sending both client requests and server responses",
    "Bidirectional full-duplex communication for sending both client requests and server responses",
    "Built-in streaming enabling requests and responses to asynchronously stream large data sets.",
    "Built-in streaming enabling requests and responses to asynchronously stream large data sets.",
    "Header compression that reduces network usage.",
    "Header compression that reduces network usage.",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "gRPC is lightweight and highly performant. It can be up to 8x faster than JSON serialization with",
    "gRPC is lightweight and highly performant. It can be up to 8x faster than JSON serialization with",
    "Protocol Buffers",
    "Protocol Buffers",
    "gRPC embraces an open-source technology called Protocol Buffers. They provide a highly efficient",
    "gRPC embraces an open-source technology called Protocol Buffers. They provide a highly efficient",
    "Using the proto file, the Protobuf compiler, protoc, generates both client and service code for your",
    "Using the proto file, the Protobuf compiler, protoc, generates both client and service code for your",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Strongly typed objects, shared by the client and service, that represent the service operations",
    "Strongly typed objects, shared by the client and service, that represent the service operations",
    "A strongly typed base class with the required network plumbing that the remote gRPC service",
    "A strongly typed base class with the required network plumbing that the remote gRPC service",
    "A client stub that contains the required plumbing to invoke the remote gRPC service.",
    "A client stub that contains the required plumbing to invoke the remote gRPC service.",
    "At run time, each message is serialized as a standard Protobuf representation and exchanged between",
    "At run time, each message is serialized as a standard Protobuf representation and exchanged between",
    "The book, gRPC for WCF Developers, available from the Microsoft Architecture site, provides in-depth",
    "The book, gRPC for WCF Developers, available from the Microsoft Architecture site, provides in-depth",
    "gRPC support in .NET",
    "gRPC support in .NET",
    "gRPC is integrated into .NET Core 3.0 SDK and later. The following tools support it:",
    "gRPC is integrated into .NET Core 3.0 SDK and later. The following tools support it:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Visual Studio 2022 with the ASP.NET and web development workload installed",
    "Visual Studio 2022 with the ASP.NET and web development workload installed",
    "Visual Studio Code",
    "Visual Studio Code",
    "The dotnet CLI",
    "The dotnet CLI",
    "The SDK includes tooling for endpoint routing, built-in IoC, and logging. The open-source Kestrel web",
    "The SDK includes tooling for endpoint routing, built-in IoC, and logging. The open-source Kestrel web",
    "81",
    "81",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Figure 4-20. gRPC support in Visual Studio 2022",
    "Figure 4-20. gRPC support in Visual Studio 2022",
    "Figure 4-21 shows the skeleton gRPC service generated from the built-in scaffolding included in",
    "Figure 4-21 shows the skeleton gRPC service generated from the built-in scaffolding included in",
    "Figure 4-21. gRPC project in Visual Studio 2022",
    "Figure 4-21. gRPC project in Visual Studio 2022",
    "In the previous figure, note the proto description file and service code. As you\u2019ll see shortly, Visual",
    "In the previous figure, note the proto description file and service code. As you\u2019ll see shortly, Visual",
    "gRPC usage",
    "gRPC usage",
    "Favor gRPC for the following scenarios:",
    "Favor gRPC for the following scenarios:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "82",
    "82",
    "Synchronous backend microservice-to-microservice communication where an immediate",
    "Synchronous backend microservice-to-microservice communication where an immediate",
    "Polyglot environments that need to support mixed programming platforms.",
    "Polyglot environments that need to support mixed programming platforms.",
    "Low latency and high throughput communication where performance is critical.",
    "Low latency and high throughput communication where performance is critical.",
    "Point-to-point real-time communication - gRPC can push messages in real time without",
    "Point-to-point real-time communication - gRPC can push messages in real time without",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "\u2022",
    "\u2022",
    "Network constrained environments \u2013 binary gRPC messages are always smaller than an",
    "Network constrained environments \u2013 binary gRPC messages are always smaller than an",
    "At the time, of this writing, gRPC is primarily used with backend services. Modern browsers can\u2019t",
    "At the time, of this writing, gRPC is primarily used with backend services. Modern browsers can\u2019t",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Strongly typed, code-generated clients",
    "Strongly typed, code-generated clients",
    "Compact Protobuf messages",
    "Compact Protobuf messages",
    "Server streaming",
    "Server streaming",
    "gRPC implementation",
    "gRPC implementation",
    "The microservice reference architecture, eShop on Containers, from Microsoft, shows how to",
    "The microservice reference architecture, eShop on Containers, from Microsoft, shows how to",
    "Figure 4-22. Backend architecture for eShop on Containers",
    "Figure 4-22. Backend architecture for eShop on Containers",
    "In the previous figure, note how eShop embraces the Backend for Frontends pattern (BFF) by",
    "In the previous figure, note how eShop embraces the Backend for Frontends pattern (BFF) by",
    "83",
    "83",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "attention to the Aggregator microservice (in gray) that sits between the Web-Shopping API Gateway",
    "attention to the Aggregator microservice (in gray) that sits between the Web-Shopping API Gateway",
    "Figure 4-23. gRPC in eShop on Containers",
    "Figure 4-23. gRPC in eShop on Containers",
    "gRPC communication requires both client and server components. In the previous figure, note how",
    "gRPC communication requires both client and server components. In the previous figure, note how",
    "Microservices that expose both a RESTful API and gRPC communication require multiple endpoints to",
    "Microservices that expose both a RESTful API and gRPC communication require multiple endpoints to",
    "While we strive to decouple microservices with asynchronous communication patterns, some",
    "While we strive to decouple microservices with asynchronous communication patterns, some",
    "84",
    "84",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Looking ahead",
    "Looking ahead",
    "Looking ahead, gRPC will continue to gain traction for cloud-native systems. The performance",
    "Looking ahead, gRPC will continue to gain traction for cloud-native systems. The performance",
    "Service Mesh communication infrastructure",
    "Service Mesh communication infrastructure",
    "Throughout this chapter, we\u2019ve explored the challenges of microservice communication. We said that",
    "Throughout this chapter, we\u2019ve explored the challenges of microservice communication. We said that",
    "We explored different approaches for implementing synchronous HTTP communication and",
    "We explored different approaches for implementing synchronous HTTP communication and",
    "A more modern approach to microservice communication centers around a new and rapidly evolving",
    "A more modern approach to microservice communication centers around a new and rapidly evolving",
    "A key component of a service mesh is a proxy. In a cloud-native application, an instance of a proxy is",
    "A key component of a service mesh is a proxy. In a cloud-native application, an instance of a proxy is",
    "Figure 4-24. Service mesh with a side car",
    "Figure 4-24. Service mesh with a side car",
    "85",
    "85",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "Note in the previous figure how messages are intercepted by a proxy that runs alongside each",
    "Note in the previous figure how messages are intercepted by a proxy that runs alongside each",
    "Along with managing service-to-service communication, the Service Mesh provides support for",
    "Along with managing service-to-service communication, the Service Mesh provides support for",
    "Once configured, a service mesh is highly functional. The mesh retrieves a corresponding pool of",
    "Once configured, a service mesh is highly functional. The mesh retrieves a corresponding pool of",
    "A service mesh manages traffic, communication, and networking concerns at the application level. It",
    "A service mesh manages traffic, communication, and networking concerns at the application level. It",
    "In chapter 6, we deep-dive into Service Mesh technologies including a discussion on its architecture",
    "In chapter 6, we deep-dive into Service Mesh technologies including a discussion on its architecture",
    "Summary",
    "Summary",
    "In this chapter, we discussed cloud-native communication patterns. We started by examining how",
    "In this chapter, we discussed cloud-native communication patterns. We started by examining how",
    "Special emphasis was on managed Azure services that can help implement communication in cloud-",
    "Special emphasis was on managed Azure services that can help implement communication in cloud-",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Azure Application Gateway",
    "Azure Application Gateway",
    "Azure API Management",
    "Azure API Management",
    "Azure SignalR Service",
    "Azure SignalR Service",
    "Azure Storage Queues",
    "Azure Storage Queues",
    "Azure Service Bus",
    "Azure Service Bus",
    "Azure Event Grid",
    "Azure Event Grid",
    "Azure Event Hub",
    "Azure Event Hub",
    "We next move to distributed data in cloud-native systems and the benefits and challenges that it",
    "We next move to distributed data in cloud-native systems and the benefits and challenges that it",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "86",
    "86",
    ".NET Microservices: Architecture for Containerized .NET applications",
    ".NET Microservices: Architecture for Containerized .NET applications",
    "Designing Interservice Communication for Microservices",
    "Designing Interservice Communication for Microservices",
    "Azure SignalR Service, a fully managed service to add real-time functionality",
    "Azure SignalR Service, a fully managed service to add real-time functionality",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Azure API Gateway Ingress Controller",
    "Azure API Gateway Ingress Controller",
    "gRPC Documentation",
    "gRPC Documentation",
    "gRPC for WCF Developers",
    "gRPC for WCF Developers",
    "Comparing gRPC Services with HTTP APIs",
    "Comparing gRPC Services with HTTP APIs",
    "Building gRPC Services with .NET video",
    "Building gRPC Services with .NET video",
    "87",
    "87",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER 4 | Cloud-native communication patterns",
    "CHAPTER  5",
    "CHAPTER  5",
    "Cloud-native data patterns",
    "Cloud-native data patterns",
    "As we\u2019ve seen throughout this book, a cloud-native approach changes the way you design, deploy,",
    "As we\u2019ve seen throughout this book, a cloud-native approach changes the way you design, deploy,",
    "Figure 5-1 contrasts the differences.",
    "Figure 5-1 contrasts the differences.",
    "Figure 5-1. Data management in cloud-native applications",
    "Figure 5-1. Data management in cloud-native applications",
    "Experienced developers will easily recognize the architecture on the left-side of figure 5-1. In this",
    "Experienced developers will easily recognize the architecture on the left-side of figure 5-1. In this",
    "In many ways, a single database keeps data management simple. Querying data across multiple tables",
    "In many ways, a single database keeps data management simple. Querying data across multiple tables",
    "Designing for cloud-native, we take a different approach. On the right-side of Figure 5-1, note how",
    "Designing for cloud-native, we take a different approach. On the right-side of Figure 5-1, note how",
    "88",
    "88",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "into a distributed data model with many smaller databases, each aligning with a microservice. When",
    "into a distributed data model with many smaller databases, each aligning with a microservice. When",
    "Database-per-microservice, why?",
    "Database-per-microservice, why?",
    "This database per microservice provides many benefits, especially for systems that must evolve rapidly",
    "This database per microservice provides many benefits, especially for systems that must evolve rapidly",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Domain data is encapsulated within the service",
    "Domain data is encapsulated within the service",
    "Data schema can evolve without directly impacting other services",
    "Data schema can evolve without directly impacting other services",
    "Each data store can independently scale",
    "Each data store can independently scale",
    "A data store failure in one service won\u2019t directly impact other services",
    "A data store failure in one service won\u2019t directly impact other services",
    "Segregating data also enables each microservice to implement the data store type that is best",
    "Segregating data also enables each microservice to implement the data store type that is best",
    "Figure 5-2 presents the principle of polyglot persistence in a cloud-native system.",
    "Figure 5-2 presents the principle of polyglot persistence in a cloud-native system.",
    "Figure 5-2. Polyglot data persistence",
    "Figure 5-2. Polyglot data persistence",
    "Note in the previous figure how each microservice supports a different type of data store.",
    "Note in the previous figure how each microservice supports a different type of data store.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "89",
    "89",
    "The product catalog microservice consumes a relational database to accommodate the rich",
    "The product catalog microservice consumes a relational database to accommodate the rich",
    "The shopping cart microservice consumes a distributed cache that supports its simple, key-",
    "The shopping cart microservice consumes a distributed cache that supports its simple, key-",
    "The ordering microservice consumes both a NoSql document database for write operations",
    "The ordering microservice consumes both a NoSql document database for write operations",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "While relational databases remain relevant for microservices with complex data, NoSQL databases",
    "While relational databases remain relevant for microservices with complex data, NoSQL databases",
    "While encapsulating data into separate microservices can increase agility, performance, and scalability,",
    "While encapsulating data into separate microservices can increase agility, performance, and scalability,",
    "Cross-service queries",
    "Cross-service queries",
    "While microservices are independent and focus on specific functional capabilities, like inventory,",
    "While microservices are independent and focus on specific functional capabilities, like inventory,",
    "Figure 5-3. Querying across microservices",
    "Figure 5-3. Querying across microservices",
    "In the preceding figure, we see a shopping basket microservice that adds an item to a user\u2019s shopping",
    "In the preceding figure, we see a shopping basket microservice that adds an item to a user\u2019s shopping",
    "One option discussed in Chapter 4 is a direct HTTP call from the shopping basket to the catalog and",
    "One option discussed in Chapter 4 is a direct HTTP call from the shopping basket to the catalog and",
    "We could also implement a request-reply pattern with separate inbound and outbound queues for",
    "We could also implement a request-reply pattern with separate inbound and outbound queues for",
    "90",
    "90",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Instead, a widely accepted pattern for removing cross-service dependencies is the Materialized View",
    "Instead, a widely accepted pattern for removing cross-service dependencies is the Materialized View",
    "Figure 5-4. Materialized View Pattern",
    "Figure 5-4. Materialized View Pattern",
    "With this pattern, you place a local data table (known as a read model) in the shopping basket service.",
    "With this pattern, you place a local data table (known as a read model) in the shopping basket service.",
    "The catch with this approach is that you now have duplicate data in your system. However,",
    "The catch with this approach is that you now have duplicate data in your system. However,",
    "Distributed transactions",
    "Distributed transactions",
    "While querying data across microservices is difficult, implementing a transaction across several",
    "While querying data across microservices is difficult, implementing a transaction across several",
    "Figure 5-5 shows the problem.",
    "Figure 5-5 shows the problem.",
    "91",
    "91",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Figure 5-5. Implementing a transaction across microservices",
    "Figure 5-5. Implementing a transaction across microservices",
    "In the preceding figure, five independent microservices participate in a distributed transaction that",
    "In the preceding figure, five independent microservices participate in a distributed transaction that",
    "Instead, you must construct this distributed transaction programmatically.",
    "Instead, you must construct this distributed transaction programmatically.",
    "A popular pattern for adding distributed transactional support is the Saga pattern. It\u2019s implemented",
    "A popular pattern for adding distributed transactional support is the Saga pattern. It\u2019s implemented",
    "Figure 5-6. Rolling back a transaction",
    "Figure 5-6. Rolling back a transaction",
    "92",
    "92",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "In the previous figure, the Update Inventory operation has failed in the Inventory microservice. The",
    "In the previous figure, the Update Inventory operation has failed in the Inventory microservice. The",
    "Saga patterns are typically choreographed as a series of related events, or orchestrated as a set of",
    "Saga patterns are typically choreographed as a series of related events, or orchestrated as a set of",
    "High volume data",
    "High volume data",
    "Large cloud-native applications often support high-volume data requirements. In these scenarios,",
    "Large cloud-native applications often support high-volume data requirements. In these scenarios,",
    "CQRS",
    "CQRS",
    "CQRS, is an architectural pattern that can help maximize performance, scalability, and security. The",
    "CQRS, is an architectural pattern that can help maximize performance, scalability, and security. The",
    "For normal scenarios, the same entity model and data repository object are used for both read and",
    "For normal scenarios, the same entity model and data repository object are used for both read and",
    "However, a high volume data scenario can benefit from separate models and data tables for reads",
    "However, a high volume data scenario can benefit from separate models and data tables for reads",
    "Figure 5-7 shows an implementation of the CQRS pattern.",
    "Figure 5-7 shows an implementation of the CQRS pattern.",
    "Figure 5-7. CQRS implementation",
    "Figure 5-7. CQRS implementation",
    "93",
    "93",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "In the previous figure, separate command and query models are implemented. Each data write",
    "In the previous figure, separate command and query models are implemented. Each data write",
    "This separation enables reads and writes to scale independently. Read operations use a schema",
    "This separation enables reads and writes to scale independently. Read operations use a schema",
    "Implementing CQRS can improve application performance for cloud-native services. However, it does",
    "Implementing CQRS can improve application performance for cloud-native services. However, it does",
    "Event sourcing",
    "Event sourcing",
    "Another approach to optimizing high volume data scenarios involves Event Sourcing.",
    "Another approach to optimizing high volume data scenarios involves Event Sourcing.",
    "A system typically stores the current state of a data entity. If a user changes their phone number, for",
    "A system typically stores the current state of a data entity. If a user changes their phone number, for",
    "In most cases, this model works fine. In high volume systems, however, overhead from transactional",
    "In most cases, this model works fine. In high volume systems, however, overhead from transactional",
    "Event Sourcing takes a different approach to capturing data. Each operation that affects data is",
    "Event Sourcing takes a different approach to capturing data. Each operation that affects data is",
    "94",
    "94",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Figure 5-8. Event Sourcing",
    "Figure 5-8. Event Sourcing",
    "In the previous figure, note how each entry (in blue) for a user\u2019s shopping cart is appended to an",
    "In the previous figure, note how each entry (in blue) for a user\u2019s shopping cart is appended to an",
    "Mechanically speaking, event sourcing simplifies the write model. There are no updates or deletes.",
    "Mechanically speaking, event sourcing simplifies the write model. There are no updates or deletes.",
    "For this pattern, consider a data store that directly supports event sourcing. Azure Cosmos DB,",
    "For this pattern, consider a data store that directly supports event sourcing. Azure Cosmos DB,",
    "As with all patterns and technologies, implement strategically and when needed. While event sourcing",
    "As with all patterns and technologies, implement strategically and when needed. While event sourcing",
    "95",
    "95",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Relational vs. NoSQL data",
    "Relational vs. NoSQL data",
    "Relational and NoSQL are two types of database systems commonly implemented in cloud-native",
    "Relational and NoSQL are two types of database systems commonly implemented in cloud-native",
    "Relational databases have been a prevalent technology for decades. They\u2019re mature, proven, and",
    "Relational databases have been a prevalent technology for decades. They\u2019re mature, proven, and",
    "No-SQL databases refer to high-performance, non-relational data stores. They excel in their ease-of-",
    "No-SQL databases refer to high-performance, non-relational data stores. They excel in their ease-of-",
    "The impact of NoSQL technologies for distributed cloud-native systems can\u2019t be overstated. The",
    "The impact of NoSQL technologies for distributed cloud-native systems can\u2019t be overstated. The",
    "NoSQL databases include several different models for accessing and managing data, each suited to",
    "NoSQL databases include several different models for accessing and managing data, each suited to",
    "Figure 5-9: Data models for NoSQL databases",
    "Figure 5-9: Data models for NoSQL databases",
    "Model",
    "Model",
    "Characteristics",
    "Characteristics",
    "Document Store",
    "Document Store",
    "Key Value Store",
    "Key Value Store",
    "Wide-Column Store",
    "Wide-Column Store",
    "Graph Store",
    "Graph Store",
    "Data and metadata are stored hierarchically in",
    "Data and metadata are stored hierarchically in",
    "The simplest of the NoSQL databases, data is",
    "The simplest of the NoSQL databases, data is",
    "Related data is stored as a set of nested-",
    "Related data is stored as a set of nested-",
    "Data is stored in a graph structure as node,",
    "Data is stored in a graph structure as node,",
    "96",
    "96",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "The CAP theorem",
    "The CAP theorem",
    "As a way to understand the differences between these types of databases, consider the CAP theorem,",
    "As a way to understand the differences between these types of databases, consider the CAP theorem,",
    "Figure 5-10. The CAP theorem",
    "Figure 5-10. The CAP theorem",
    "The theorem states that distributed data systems will offer a trade-off between consistency,",
    "The theorem states that distributed data systems will offer a trade-off between consistency,",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Consistency. Every node in the cluster responds with the most recent data, even if the system",
    "Consistency. Every node in the cluster responds with the most recent data, even if the system",
    "Availability. Every node returns an immediate response, even if that response isn\u2019t the most",
    "Availability. Every node returns an immediate response, even if that response isn\u2019t the most",
    "Partition Tolerance. Guarantees the system continues to operate even if a replicated data",
    "Partition Tolerance. Guarantees the system continues to operate even if a replicated data",
    "CAP theorem explains the tradeoffs associated with managing consistency and availability during a",
    "CAP theorem explains the tradeoffs associated with managing consistency and availability during a",
    "Relational databases typically provide consistency and availability, but not partition tolerance. They\u2019re",
    "Relational databases typically provide consistency and availability, but not partition tolerance. They\u2019re",
    "97",
    "97",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Many relational database systems support built-in replication features where copies of the primary",
    "Many relational database systems support built-in replication features where copies of the primary",
    "Data can also be horizontally partitioned across multiple nodes, such as with sharding. But, sharding",
    "Data can also be horizontally partitioned across multiple nodes, such as with sharding. But, sharding",
    "Replication consistency and recovery point objectives can be tuned by configuring whether replication",
    "Replication consistency and recovery point objectives can be tuned by configuring whether replication",
    "NoSQL databases typically support high availability and partition tolerance. They scale out",
    "NoSQL databases typically support high availability and partition tolerance. They scale out",
    "If data replicas were to lose connectivity in a \u201chighly available\u201d NoSQL database cluster, you could still",
    "If data replicas were to lose connectivity in a \u201chighly available\u201d NoSQL database cluster, you could still",
    "Modern NoSQL databases typically implement partitioning capabilities as a feature of their system",
    "Modern NoSQL databases typically implement partitioning capabilities as a feature of their system",
    "High availability and massive scalability are often more critical to the business than relational table",
    "High availability and massive scalability are often more critical to the business than relational table",
    "Nowadays, care must be taken when considering the CAP theorem constraints. A new type of",
    "Nowadays, care must be taken when considering the CAP theorem constraints. A new type of",
    "98",
    "98",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Considerations for relational vs. NoSQL systems",
    "Considerations for relational vs. NoSQL systems",
    "Based upon specific data requirements, a cloud-native-based microservice can implement a relational,",
    "Based upon specific data requirements, a cloud-native-based microservice can implement a relational,",
    "Consider a NoSQL datastore when:",
    "Consider a NoSQL datastore when:",
    "Consider a relational database when:",
    "Consider a relational database when:",
    "You have high volume workloads that require",
    "You have high volume workloads that require",
    "Your data is dynamic and frequently changes",
    "Your data is dynamic and frequently changes",
    "Your workload volume generally fits within",
    "Your workload volume generally fits within",
    "Your data is highly structured and requires",
    "Your data is highly structured and requires",
    "Relationships can be de-normalized data",
    "Relationships can be de-normalized data",
    "Relationships are expressed through table joins",
    "Relationships are expressed through table joins",
    "Data retrieval is simple and expressed without",
    "Data retrieval is simple and expressed without",
    "Data is typically replicated across geographies",
    "Data is typically replicated across geographies",
    "You work with complex queries and reports",
    "You work with complex queries and reports",
    "Data is typically centralized, or can be replicated",
    "Data is typically centralized, or can be replicated",
    "Your application will be deployed to commodity",
    "Your application will be deployed to commodity",
    "Your application will be deployed to large, high-",
    "Your application will be deployed to large, high-",
    "In the next sections, we\u2019ll explore the options available in the Azure cloud for storing and managing",
    "In the next sections, we\u2019ll explore the options available in the Azure cloud for storing and managing",
    "Database as a Service",
    "Database as a Service",
    "To start, you could provision an Azure virtual machine and install your database of choice for each",
    "To start, you could provision an Azure virtual machine and install your database of choice for each",
    "Instead, cloud-native applications favor data services exposed as a Database as a Service (DBaaS).",
    "Instead, cloud-native applications favor data services exposed as a Database as a Service (DBaaS).",
    "They can be configured across cloud availability zones and regions to achieve high availability. They",
    "They can be configured across cloud availability zones and regions to achieve high availability. They",
    "We\u2019ll first look at relational DBaaS services available in Azure. You\u2019ll see that Microsoft\u2019s flagship SQL",
    "We\u2019ll first look at relational DBaaS services available in Azure. You\u2019ll see that Microsoft\u2019s flagship SQL",
    "99",
    "99",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Azure relational databases",
    "Azure relational databases",
    "For cloud-native microservices that require relational data, Azure offers four managed relational",
    "For cloud-native microservices that require relational data, Azure offers four managed relational",
    "Figure 5-11. Managed relational databases available in Azure",
    "Figure 5-11. Managed relational databases available in Azure",
    "In the previous figure, note how each sits upon a common DBaaS infrastructure which features key",
    "In the previous figure, note how each sits upon a common DBaaS infrastructure which features key",
    "These features are especially important to organizations who provision large numbers of databases,",
    "These features are especially important to organizations who provision large numbers of databases,",
    "Azure SQL Database",
    "Azure SQL Database",
    "Development teams with expertise in Microsoft SQL Server should consider Azure SQL Database. It\u2019s a",
    "Development teams with expertise in Microsoft SQL Server should consider Azure SQL Database. It\u2019s a",
    "For use with a cloud-native microservice, Azure SQL Database is available with three deployment",
    "For use with a cloud-native microservice, Azure SQL Database is available with three deployment",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "100",
    "100",
    "A Single Database represents a fully managed SQL Database running on an Azure SQL",
    "A Single Database represents a fully managed SQL Database running on an Azure SQL",
    "A Managed Instance is a fully managed instance of the Microsoft SQL Server Database Engine",
    "A Managed Instance is a fully managed instance of the Microsoft SQL Server Database Engine",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "\u2022",
    "\u2022",
    "Azure SQL Database serverless is a compute tier for a single database that automatically",
    "Azure SQL Database serverless is a compute tier for a single database that automatically",
    "Beyond the traditional Microsoft SQL Server stack, Azure also features managed versions of three",
    "Beyond the traditional Microsoft SQL Server stack, Azure also features managed versions of three",
    "Open-source databases in Azure",
    "Open-source databases in Azure",
    "Open-source relational databases have become a popular choice for cloud-native applications. Many",
    "Open-source relational databases have become a popular choice for cloud-native applications. Many",
    "Developers can easily self-host any open-source database on an Azure VM. While providing full",
    "Developers can easily self-host any open-source database on an Azure VM. While providing full",
    "However, Microsoft continues its commitment to keeping Azure an \u201copen platform\u201d by offering",
    "However, Microsoft continues its commitment to keeping Azure an \u201copen platform\u201d by offering",
    "Azure Database for MySQL",
    "Azure Database for MySQL",
    "MySQL is an open-source relational database and a pillar for applications built on the LAMP software",
    "MySQL is an open-source relational database and a pillar for applications built on the LAMP software",
    "Azure Database for MySQL is a managed relational database service based on the open-source",
    "Azure Database for MySQL is a managed relational database service based on the open-source",
    "Azure Database for MariaDB",
    "Azure Database for MariaDB",
    "MariaDB Server is another popular open-source database server. It was created as a fork of MySQL",
    "MariaDB Server is another popular open-source database server. It was created as a fork of MySQL",
    "101",
    "101",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "MariaDB has a strong community and is used by many large enterprises. While Oracle continues to",
    "MariaDB has a strong community and is used by many large enterprises. While Oracle continues to",
    "Azure Database for MariaDB is a fully managed relational database as a service in the Azure cloud. The",
    "Azure Database for MariaDB is a fully managed relational database as a service in the Azure cloud. The",
    "Azure Database for PostgreSQL",
    "Azure Database for PostgreSQL",
    "PostgreSQL is an open-source relational database with over 30 years of active development.",
    "PostgreSQL is an open-source relational database with over 30 years of active development.",
    "Azure Database for PostgreSQL is a fully managed relational database service, based on the open-",
    "Azure Database for PostgreSQL is a fully managed relational database service, based on the open-",
    "Azure Database for PostgreSQL is available with two deployment options:",
    "Azure Database for PostgreSQL is available with two deployment options:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "The Single Server deployment option is a central administrative point for multiple databases",
    "The Single Server deployment option is a central administrative point for multiple databases",
    "The Hyperscale (Citus) option is powered by Citus Data technology. It enables high",
    "The Hyperscale (Citus) option is powered by Citus Data technology. It enables high",
    "NoSQL data in Azure",
    "NoSQL data in Azure",
    "Cosmos DB is a fully managed, globally distributed NoSQL database service in the Azure cloud. It has",
    "Cosmos DB is a fully managed, globally distributed NoSQL database service in the Azure cloud. It has",
    "If your services require fast response from anywhere in the world, high availability, or elastic",
    "If your services require fast response from anywhere in the world, high availability, or elastic",
    "102",
    "102",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Figure 5-12: Overview of Azure Cosmos DB",
    "Figure 5-12: Overview of Azure Cosmos DB",
    "The previous figure presents many of the built-in cloud-native capabilities available in Cosmos DB. In",
    "The previous figure presents many of the built-in cloud-native capabilities available in Cosmos DB. In",
    "Global support",
    "Global support",
    "Cloud-native applications often have a global audience and require global scale.",
    "Cloud-native applications often have a global audience and require global scale.",
    "You can distribute Cosmos databases across regions or around the world, placing data close to your",
    "You can distribute Cosmos databases across regions or around the world, placing data close to your",
    "Cosmos DB supports active/active clustering at the global level, enabling you to configure any of your",
    "Cosmos DB supports active/active clustering at the global level, enabling you to configure any of your",
    "The Multi-region write protocol is an important feature in Cosmos DB that enables the following",
    "The Multi-region write protocol is an important feature in Cosmos DB that enables the following",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Unlimited elastic write and read scalability.",
    "Unlimited elastic write and read scalability.",
    "99.999% read and write availability all around the world.",
    "99.999% read and write availability all around the world.",
    "Guaranteed reads and writes served in less than 10 milliseconds at the 99th percentile.",
    "Guaranteed reads and writes served in less than 10 milliseconds at the 99th percentile.",
    "With the Cosmos DB Multi-Homing APIs, your microservice is automatically aware of the nearest",
    "With the Cosmos DB Multi-Homing APIs, your microservice is automatically aware of the nearest",
    "Multi-model support",
    "Multi-model support",
    "When replatforming monolithic applications to a cloud-native architecture, development teams",
    "When replatforming monolithic applications to a cloud-native architecture, development teams",
    "103",
    "103",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "investment in these NoSQL datastores with its multi-model data platform. The following table shows",
    "investment in these NoSQL datastores with its multi-model data platform. The following table shows",
    "Provider",
    "Provider",
    "Description",
    "Description",
    "NoSQL API",
    "NoSQL API",
    "Mongo DB API",
    "Mongo DB API",
    "Gremlin API",
    "Gremlin API",
    "Cassandra API",
    "Cassandra API",
    "Table API",
    "Table API",
    "PostgreSQL API",
    "PostgreSQL API",
    "API for NoSQL stores data in document format",
    "API for NoSQL stores data in document format",
    "Supports Mongo DB APIs and JSON documents",
    "Supports Mongo DB APIs and JSON documents",
    "Supports Gremlin API with graph-based nodes",
    "Supports Gremlin API with graph-based nodes",
    "Supports Casandra API for wide-column data",
    "Supports Casandra API for wide-column data",
    "Supports Azure Table Storage with premium",
    "Supports Azure Table Storage with premium",
    "Managed service for running PostgreSQL at any",
    "Managed service for running PostgreSQL at any",
    "Development teams can migrate existing Mongo, Gremlin, or Cassandra databases into Cosmos DB",
    "Development teams can migrate existing Mongo, Gremlin, or Cassandra databases into Cosmos DB",
    "Internally, Cosmos stores the data in a simple struct format made up of primitive data types. For each",
    "Internally, Cosmos stores the data in a simple struct format made up of primitive data types. For each",
    "In the previous table, note the Table API option. This API is an evolution of Azure Table Storage. Both",
    "In the previous table, note the Table API option. This API is an evolution of Azure Table Storage. Both",
    "Feature",
    "Feature",
    "Azure Table Storage",
    "Azure Table Storage",
    "Azure Cosmos DB",
    "Azure Cosmos DB",
    "Latency",
    "Latency",
    "Fast",
    "Fast",
    "Single-digit millisecond latency for reads and",
    "Single-digit millisecond latency for reads and",
    "Throughp",
    "Throughp",
    "Global",
    "Global",
    "Indexing",
    "Indexing",
    "Limit of 20,000 operations per table",
    "Limit of 20,000 operations per table",
    "Unlimited operations per table",
    "Unlimited operations per table",
    "Single region with optional single",
    "Single region with optional single",
    "Turnkey distributions to all regions with",
    "Turnkey distributions to all regions with",
    "Available for partition and row key",
    "Available for partition and row key",
    "Automatic indexing of all properties",
    "Automatic indexing of all properties",
    "Pricing",
    "Pricing",
    "Optimized for cold workloads (low",
    "Optimized for cold workloads (low",
    "Optimized for hot workloads (high",
    "Optimized for hot workloads (high",
    "Microservices that consume Azure Table storage can easily migrate to the Cosmos DB Table API. No",
    "Microservices that consume Azure Table storage can easily migrate to the Cosmos DB Table API. No",
    "104",
    "104",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Tunable consistency",
    "Tunable consistency",
    "Earlier in the Relational vs. NoSQL section, we discussed the subject of data consistency. Data",
    "Earlier in the Relational vs. NoSQL section, we discussed the subject of data consistency. Data",
    "Most distributed databases allow developers to choose between two consistency",
    "Most distributed databases allow developers to choose between two consistency",
    "Azure Cosmos DB offers five well-defined consistency models shown in Figure 5-13.",
    "Azure Cosmos DB offers five well-defined consistency models shown in Figure 5-13.",
    "Figure 5-13: Cosmos DB Consistency Levels",
    "Figure 5-13: Cosmos DB Consistency Levels",
    "These options enable you to make precise choices and granular tradeoffs for consistency, availability,",
    "These options enable you to make precise choices and granular tradeoffs for consistency, availability,",
    "Consistency Level",
    "Consistency Level",
    "Description",
    "Description",
    "Eventual",
    "Eventual",
    "Constant Prefix",
    "Constant Prefix",
    "Session",
    "Session",
    "Bounded Staleness",
    "Bounded Staleness",
    "Strong",
    "Strong",
    "No ordering guarantee for reads. Replicas will",
    "No ordering guarantee for reads. Replicas will",
    "Reads are still eventual, but data is returned in",
    "Reads are still eventual, but data is returned in",
    "Guarantees you can read any data written",
    "Guarantees you can read any data written",
    "Reads trail writes by interval that you specify.",
    "Reads trail writes by interval that you specify.",
    "Reads are guaranteed to return most recent",
    "Reads are guaranteed to return most recent",
    "In the article Getting Behind the 9-Ball: Cosmos DB Consistency Levels Explained, Microsoft Program",
    "In the article Getting Behind the 9-Ball: Cosmos DB Consistency Levels Explained, Microsoft Program",
    "Partitioning",
    "Partitioning",
    "Azure Cosmos DB embraces automatic partitioning to scale a database to meet the performance",
    "Azure Cosmos DB embraces automatic partitioning to scale a database to meet the performance",
    "You manage data in Cosmos DB data by creating databases, containers, and items.",
    "You manage data in Cosmos DB data by creating databases, containers, and items.",
    "105",
    "105",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Containers live in a Cosmos DB database and represent a schema-agnostic grouping of items. Items",
    "Containers live in a Cosmos DB database and represent a schema-agnostic grouping of items. Items",
    "To partition the container, items are divided into distinct subsets called logical partitions. Logical",
    "To partition the container, items are divided into distinct subsets called logical partitions. Logical",
    "Figure 5-14: Cosmos DB partitioning mechanics",
    "Figure 5-14: Cosmos DB partitioning mechanics",
    "Note in the previous figure how each item includes a partition key of either \u2018city\u2019 or \u2018airport\u2019. The key",
    "Note in the previous figure how each item includes a partition key of either \u2018city\u2019 or \u2018airport\u2019. The key",
    "Internally, Cosmos DB automatically manages the placement of logical partitions on physical",
    "Internally, Cosmos DB automatically manages the placement of logical partitions on physical",
    "NewSQL databases",
    "NewSQL databases",
    "NewSQL is an emerging database technology that combines the distributed scalability of NoSQL with",
    "NewSQL is an emerging database technology that combines the distributed scalability of NoSQL with",
    "The Cloud Native Computing Foundation (CNCF) features several NewSQL database projects.",
    "The Cloud Native Computing Foundation (CNCF) features several NewSQL database projects.",
    "106",
    "106",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Cockroach DB",
    "Cockroach DB",
    "TiDB",
    "TiDB",
    "YugabyteDB",
    "YugabyteDB",
    "Vitess",
    "Vitess",
    "Project",
    "Project",
    "Characteristics",
    "Characteristics",
    "An ACID-compliant, relational database that",
    "An ACID-compliant, relational database that",
    "An open-source database that supports Hybrid",
    "An open-source database that supports Hybrid",
    "An open source, high-performance, distributed",
    "An open source, high-performance, distributed",
    "Vitess is a database solution for deploying,",
    "Vitess is a database solution for deploying,",
    "The open-source projects in the previous figure are available from the Cloud Native Computing",
    "The open-source projects in the previous figure are available from the Cloud Native Computing",
    "A key design goal for NewSQL databases is to work natively in Kubernetes, taking advantage of the",
    "A key design goal for NewSQL databases is to work natively in Kubernetes, taking advantage of the",
    "NewSQL databases are designed to thrive in ephemeral cloud environments where underlying virtual",
    "NewSQL databases are designed to thrive in ephemeral cloud environments where underlying virtual",
    "Kubernetes uses a Services construct to allow a client to address a group of identical NewSQL",
    "Kubernetes uses a Services construct to allow a client to address a group of identical NewSQL",
    "107",
    "107",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "of the service with which it\u2019s associated, we can scale without disrupting existing application instances.",
    "of the service with which it\u2019s associated, we can scale without disrupting existing application instances.",
    "In this scenario, all database instances are equal. There are no primary or secondary relationships.",
    "In this scenario, all database instances are equal. There are no primary or secondary relationships.",
    "For a detailed look at the mechanics behind NewSQL databases, see the DASH: Four Properties of",
    "For a detailed look at the mechanics behind NewSQL databases, see the DASH: Four Properties of",
    "Data migration to the cloud",
    "Data migration to the cloud",
    "One of the more time-consuming tasks is migrating data from one data platform to another. The",
    "One of the more time-consuming tasks is migrating data from one data platform to another. The",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Azure SQL Database",
    "Azure SQL Database",
    "Azure Database for MySQL",
    "Azure Database for MySQL",
    "Azure Database for MariaDB",
    "Azure Database for MariaDB",
    "Azure Database for PostgreSQL",
    "Azure Database for PostgreSQL",
    "Azure Cosmos DB",
    "Azure Cosmos DB",
    "The service provides recommendations to guide you through the changes required to execute a",
    "The service provides recommendations to guide you through the changes required to execute a",
    "Caching in a cloud-native app",
    "Caching in a cloud-native app",
    "The benefits of caching are well understood. The technique works by temporarily copying frequently",
    "The benefits of caching are well understood. The technique works by temporarily copying frequently",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Data remains relatively static.",
    "Data remains relatively static.",
    "Data access is slow, especially compared to the speed of the cache.",
    "Data access is slow, especially compared to the speed of the cache.",
    "Data is subject to high levels of contention.",
    "Data is subject to high levels of contention.",
    "Why?",
    "Why?",
    "As discussed in the Microsoft caching guidance, caching can increase performance, scalability, and",
    "As discussed in the Microsoft caching guidance, caching can increase performance, scalability, and",
    "108",
    "108",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "Caching is most effective when a client repeatedly reads data that is immutable or that changes",
    "Caching is most effective when a client repeatedly reads data that is immutable or that changes",
    "While microservices should be stateless, a distributed cache can support concurrent access to session",
    "While microservices should be stateless, a distributed cache can support concurrent access to session",
    "Also consider caching to avoid repetitive computations. If an operation transforms data or performs a",
    "Also consider caching to avoid repetitive computations. If an operation transforms data or performs a",
    "Caching architecture",
    "Caching architecture",
    "Cloud native applications typically implement a distributed caching architecture. The cache is hosted",
    "Cloud native applications typically implement a distributed caching architecture. The cache is hosted",
    "Figure 5-15: Caching in a cloud native app",
    "Figure 5-15: Caching in a cloud native app",
    "In the previous figure, note how the cache is independent of and shared by the microservices. In this",
    "In the previous figure, note how the cache is independent of and shared by the microservices. In this",
    "The previous figure presents a common caching pattern known as the cache-aside pattern. For an",
    "The previous figure presents a common caching pattern known as the cache-aside pattern. For an",
    "As a shared cache grows, it might prove beneficial to partition its data across multiple nodes. Doing",
    "As a shared cache grows, it might prove beneficial to partition its data across multiple nodes. Doing",
    "109",
    "109",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "dynamically add and remove nodes and rebalance data across partitions. This approach typically",
    "dynamically add and remove nodes and rebalance data across partitions. This approach typically",
    "Azure Cache for Redis",
    "Azure Cache for Redis",
    "Azure Cache for Redis is a secure data caching and messaging broker service, fully managed by",
    "Azure Cache for Redis is a secure data caching and messaging broker service, fully managed by",
    "The Azure Cache for Redis service manages access to open-source Redis servers hosted across Azure",
    "The Azure Cache for Redis service manages access to open-source Redis servers hosted across Azure",
    "Azure Cache for Redis is more than a simple cache server. It can support a number of scenarios to",
    "Azure Cache for Redis is more than a simple cache server. It can support a number of scenarios to",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "An in-memory data store",
    "An in-memory data store",
    "A distributed non-relational database",
    "A distributed non-relational database",
    "A message broker",
    "A message broker",
    "A configuration or discovery server",
    "A configuration or discovery server",
    "For advanced scenarios, a copy of the cached data can be persisted to disk. If a catastrophic event",
    "For advanced scenarios, a copy of the cached data can be persisted to disk. If a catastrophic event",
    "Azure Redis Cache is available across a number of predefined configurations and pricing tiers. The",
    "Azure Redis Cache is available across a number of predefined configurations and pricing tiers. The",
    "Elasticsearch in a cloud-native app",
    "Elasticsearch in a cloud-native app",
    "Elasticsearch is a distributed search and analytics system that enables complex search capabilities",
    "Elasticsearch is a distributed search and analytics system that enables complex search capabilities",
    "\u2022  Wikipedia for full-text and incremental (search as you type) searching.",
    "\u2022  Wikipedia for full-text and incremental (search as you type) searching.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "GitHub to index and expose over 8 million code repositories.",
    "GitHub to index and expose over 8 million code repositories.",
    "Docker for making its container library discoverable.",
    "Docker for making its container library discoverable.",
    "Elasticsearch is built on top of the Apache Lucene full-text search engine. Lucene provides high-",
    "Elasticsearch is built on top of the Apache Lucene full-text search engine. Lucene provides high-",
    "110",
    "110",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Term (a full word)",
    "Term (a full word)",
    "Prefix (starts-with word)",
    "Prefix (starts-with word)",
    "\u2022  Wildcard (using \u201c",
    "\u2022  Wildcard (using \u201c",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Phrase (a sequence of text in a document)",
    "Phrase (a sequence of text in a document)",
    "Boolean value (complex searches combining queries)",
    "Boolean value (complex searches combining queries)",
    "While Lucene provides low-level plumbing for searching, Elasticsearch provides the server that sits on",
    "While Lucene provides low-level plumbing for searching, Elasticsearch provides the server that sits on",
    "For larger cloud-native applications with complex search requirements, Elasticsearch is available as",
    "For larger cloud-native applications with complex search requirements, Elasticsearch is available as",
    "From the Microsoft Azure Marketplace, developers can use preconfigured templates built to quickly",
    "From the Microsoft Azure Marketplace, developers can use preconfigured templates built to quickly",
    "Summary",
    "Summary",
    "This chapter presented a detailed look at data in cloud-native systems. We started by contrasting data",
    "This chapter presented a detailed look at data in cloud-native systems. We started by contrasting data",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Command and Query Responsibility Segregation (CQRS) pattern",
    "Command and Query Responsibility Segregation (CQRS) pattern",
    "Event Sourcing pattern",
    "Event Sourcing pattern",
    "\u2022  Why isn\u2019t RDBMS Partition Tolerant in CAP Theorem and why is it Available?",
    "\u2022  Why isn\u2019t RDBMS Partition Tolerant in CAP Theorem and why is it Available?",
    "\u2022  Materialized View",
    "\u2022  Materialized View",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "111",
    "111",
    "All you really need to know about open source databases",
    "All you really need to know about open source databases",
    "Compensating Transaction pattern",
    "Compensating Transaction pattern",
    "Saga Pattern",
    "Saga Pattern",
    "Saga Patterns | How to implement business transactions using microservices",
    "Saga Patterns | How to implement business transactions using microservices",
    "Compensating Transaction pattern",
    "Compensating Transaction pattern",
    "Getting Behind the 9-Ball: Cosmos DB Consistency Levels Explained",
    "Getting Behind the 9-Ball: Cosmos DB Consistency Levels Explained",
    "On RDBMS, NoSQL and NewSQL databases. Interview with John Ryan",
    "On RDBMS, NoSQL and NewSQL databases. Interview with John Ryan",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "SQL vs NoSQL vs NewSQL: The Full Comparison",
    "SQL vs NoSQL vs NewSQL: The Full Comparison",
    "DASH: Four Properties of Kubernetes-Native Databases",
    "DASH: Four Properties of Kubernetes-Native Databases",
    "CockroachDB",
    "CockroachDB",
    "TiDB",
    "TiDB",
    "YugabyteDB",
    "YugabyteDB",
    "Vitess",
    "Vitess",
    "Elasticsearch: The Definitive Guide",
    "Elasticsearch: The Definitive Guide",
    "Introduction to Apache Lucene",
    "Introduction to Apache Lucene",
    "112",
    "112",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER 5 | Cloud-native data patterns",
    "CHAPTER  6",
    "CHAPTER  6",
    "Cloud-native resiliency",
    "Cloud-native resiliency",
    "Resiliency is the ability of your system to react to failure and still remain functional. It\u2019s not about",
    "Resiliency is the ability of your system to react to failure and still remain functional. It\u2019s not about",
    "Unlike traditional monolithic applications, where everything runs together in a single process, cloud-",
    "Unlike traditional monolithic applications, where everything runs together in a single process, cloud-",
    "Figure 6-1. Distributed cloud-native environment",
    "Figure 6-1. Distributed cloud-native environment",
    "In the previous figure, each microservice and cloud-based backing service execute in a separate",
    "In the previous figure, each microservice and cloud-based backing service execute in a separate",
    "Operating in this environment, a service must be sensitive to many different challenges:",
    "Operating in this environment, a service must be sensitive to many different challenges:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "113",
    "113",
    "Unexpected network latency - the time for a service request to travel to the receiver and back.",
    "Unexpected network latency - the time for a service request to travel to the receiver and back.",
    "Transient faults - short-lived network connectivity errors.",
    "Transient faults - short-lived network connectivity errors.",
    "Blockage by a long-running synchronous operation.",
    "Blockage by a long-running synchronous operation.",
    "A host process that has crashed and is being restarted or moved.",
    "A host process that has crashed and is being restarted or moved.",
    "An overloaded microservice that can\u2019t respond for a short time.",
    "An overloaded microservice that can\u2019t respond for a short time.",
    "An in-flight orchestrator operation such as a rolling upgrade or moving a service from one",
    "An in-flight orchestrator operation such as a rolling upgrade or moving a service from one",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "\u2022",
    "\u2022",
    "Hardware failures.",
    "Hardware failures.",
    "Cloud platforms can detect and mitigate many of these infrastructure issues. It may restart, scale out,",
    "Cloud platforms can detect and mitigate many of these infrastructure issues. It may restart, scale out,",
    "In the following sections, we\u2019ll explore defensive techniques that your service and managed cloud",
    "In the following sections, we\u2019ll explore defensive techniques that your service and managed cloud",
    "Application resiliency patterns",
    "Application resiliency patterns",
    "The first line of defense is application resiliency.",
    "The first line of defense is application resiliency.",
    "While you could invest considerable time writing your own resiliency framework, such products",
    "While you could invest considerable time writing your own resiliency framework, such products",
    "Policy",
    "Policy",
    "Experience",
    "Experience",
    "Retry",
    "Retry",
    "Circuit Breaker",
    "Circuit Breaker",
    "Timeout",
    "Timeout",
    "Bulkhead",
    "Bulkhead",
    "Cache",
    "Cache",
    "Fallback",
    "Fallback",
    "Configures retry operations on designated",
    "Configures retry operations on designated",
    "Blocks requested operations for a predefined",
    "Blocks requested operations for a predefined",
    "Places limit on the duration for which a caller",
    "Places limit on the duration for which a caller",
    "Constrains actions to fixed-size resource pool to",
    "Constrains actions to fixed-size resource pool to",
    "Stores responses automatically.",
    "Stores responses automatically.",
    "Defines structured behavior upon a failure.",
    "Defines structured behavior upon a failure.",
    "Note how in the previous figure the resiliency policies apply to request messages, whether coming",
    "Note how in the previous figure the resiliency policies apply to request messages, whether coming",
    "HTTP Status Code",
    "HTTP Status Code",
    "Cause",
    "Cause",
    "404",
    "404",
    "408",
    "408",
    "429",
    "429",
    "502",
    "502",
    "503",
    "503",
    "114",
    "114",
    "Not Found",
    "Not Found",
    "Request timeout",
    "Request timeout",
    "Too many requests (you\u2019ve most likely been throttled)",
    "Too many requests (you\u2019ve most likely been throttled)",
    "Bad gateway",
    "Bad gateway",
    "Service unavailable",
    "Service unavailable",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "HTTP Status Code",
    "HTTP Status Code",
    "Cause",
    "Cause",
    "504",
    "504",
    "Gateway timeout",
    "Gateway timeout",
    "Question: Would you retry an HTTP Status Code of 403 - Forbidden? No. Here, the system is",
    "Question: Would you retry an HTTP Status Code of 403 - Forbidden? No. Here, the system is",
    "As recommended in Chapter 1, Microsoft developers constructing cloud-native applications should",
    "As recommended in Chapter 1, Microsoft developers constructing cloud-native applications should",
    "Next, let\u2019s expand on retry and circuit breaker patterns.",
    "Next, let\u2019s expand on retry and circuit breaker patterns.",
    "Retry pattern",
    "Retry pattern",
    "In a distributed cloud-native environment, calls to services and cloud resources can fail because of",
    "In a distributed cloud-native environment, calls to services and cloud resources can fail because of",
    "The Retry pattern enables a service to retry a failed request operation a (configurable) number of",
    "The Retry pattern enables a service to retry a failed request operation a (configurable) number of",
    "Figure 6-2. Retry pattern in action",
    "Figure 6-2. Retry pattern in action",
    "In the previous figure, a retry pattern has been implemented for a request operation. It\u2019s configured to",
    "In the previous figure, a retry pattern has been implemented for a request operation. It\u2019s configured to",
    "\u2022",
    "\u2022",
    "The first invocation fails and returns an HTTP status code of 500. The application waits for two",
    "The first invocation fails and returns an HTTP status code of 500. The application waits for two",
    "115",
    "115",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "The second invocation also fails and returns an HTTP status code of 500. The application now",
    "The second invocation also fails and returns an HTTP status code of 500. The application now",
    "Finally, the third call succeeds.",
    "Finally, the third call succeeds.",
    "In this scenario, the retry operation would have attempted up to four retries while doubling",
    "In this scenario, the retry operation would have attempted up to four retries while doubling",
    "Had the 4th retry attempt failed, a fallback policy would be invoked to gracefully handle the",
    "Had the 4th retry attempt failed, a fallback policy would be invoked to gracefully handle the",
    "It\u2019s important to increase the backoff period before retrying the call to allow the service time to self-",
    "It\u2019s important to increase the backoff period before retrying the call to allow the service time to self-",
    "Circuit breaker pattern",
    "Circuit breaker pattern",
    "While the retry pattern can help salvage a request entangled in a partial failure, there are situations",
    "While the retry pattern can help salvage a request entangled in a partial failure, there are situations",
    "To make things worse, executing continual retry operations on a non-responsive service can move",
    "To make things worse, executing continual retry operations on a non-responsive service can move",
    "In these situations, it would be preferable for the operation to fail immediately and only attempt to",
    "In these situations, it would be preferable for the operation to fail immediately and only attempt to",
    "The Circuit Breaker pattern can prevent an application from repeatedly trying to execute an operation",
    "The Circuit Breaker pattern can prevent an application from repeatedly trying to execute an operation",
    "116",
    "116",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "Figure 6-3. Circuit breaker pattern in action",
    "Figure 6-3. Circuit breaker pattern in action",
    "In the previous figure, a Circuit Breaker pattern has been added to the original retry pattern. Note how",
    "In the previous figure, a Circuit Breaker pattern has been added to the original retry pattern. Note how",
    "Keep in mind that the intent of the Circuit Breaker pattern is different than that of the Retry pattern.",
    "Keep in mind that the intent of the Circuit Breaker pattern is different than that of the Retry pattern.",
    "Testing for resiliency",
    "Testing for resiliency",
    "Testing for resiliency cannot always be done the same way that you test application functionality (by",
    "Testing for resiliency cannot always be done the same way that you test application functionality (by",
    "Application resiliency is a must for handling problematic requested operations. But, it\u2019s only half of the",
    "Application resiliency is a must for handling problematic requested operations. But, it\u2019s only half of the",
    "Azure platform resiliency",
    "Azure platform resiliency",
    "Building a reliable application in the cloud is different from traditional on-premises application",
    "Building a reliable application in the cloud is different from traditional on-premises application",
    "117",
    "117",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "That said, reliable cloud applications display distinct characteristics:",
    "That said, reliable cloud applications display distinct characteristics:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "They\u2019re resilient, recover gracefully from problems, and continue to function.",
    "They\u2019re resilient, recover gracefully from problems, and continue to function.",
    "They\u2019re highly available (HA) and run as designed in a healthy state with no significant",
    "They\u2019re highly available (HA) and run as designed in a healthy state with no significant",
    "Understanding how these characteristics work together - and how they affect cost - is essential to",
    "Understanding how these characteristics work together - and how they affect cost - is essential to",
    "Design with resiliency",
    "Design with resiliency",
    "We\u2019ve said resiliency enables your application to react to failure and still remain functional. The",
    "We\u2019ve said resiliency enables your application to react to failure and still remain functional. The",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Hardware failure. Build redundancy into the application by deploying components across",
    "Hardware failure. Build redundancy into the application by deploying components across",
    "Datacenter failure. Build redundancy into the application with fault isolation zones across",
    "Datacenter failure. Build redundancy into the application with fault isolation zones across",
    "Regional failure. Replicate the data and components into another region so that applications",
    "Regional failure. Replicate the data and components into another region so that applications",
    "Heavy load. Load balance across instances to handle spikes in usage. For example, put two or",
    "Heavy load. Load balance across instances to handle spikes in usage. For example, put two or",
    "Accidental data deletion or corruption. Back up data so it can be restored if there\u2019s any",
    "Accidental data deletion or corruption. Back up data so it can be restored if there\u2019s any",
    "Design with redundancy",
    "Design with redundancy",
    "Failures vary in scope of impact. A hardware failure, such as a failed disk, can affect a single node in a",
    "Failures vary in scope of impact. A hardware failure, such as a failed disk, can affect a single node in a",
    "Redundancy is one way to provide application resilience. The exact level of redundancy needed",
    "Redundancy is one way to provide application resilience. The exact level of redundancy needed",
    "To architect redundancy, you need to identify the critical paths in your application, and then",
    "To architect redundancy, you need to identify the critical paths in your application, and then",
    "118",
    "118",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "into the Azure cloud platform that you can leverage to meet your redundancy requirements. Here are",
    "into the Azure cloud platform that you can leverage to meet your redundancy requirements. Here are",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Deploy multiple instances of services. If your application depends on a single instance of a",
    "Deploy multiple instances of services. If your application depends on a single instance of a",
    "Leveraging a load balancer. Load-balancing distributes your application\u2019s requests to healthy",
    "Leveraging a load balancer. Load-balancing distributes your application\u2019s requests to healthy",
    "Plan for multiregion deployment. If you deploy your application to a single region, and that",
    "Plan for multiregion deployment. If you deploy your application to a single region, and that",
    "Enable geo-replication. Geo-replication for services such as Azure SQL Database and Cosmos",
    "Enable geo-replication. Geo-replication for services such as Azure SQL Database and Cosmos",
    "Figure 6-4. Replicated resources across regions",
    "Figure 6-4. Replicated resources across regions",
    "119",
    "119",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "\u2022",
    "\u2022",
    "Implement a DNS traffic load balancer. Azure Traffic Manager provides high-availability for",
    "Implement a DNS traffic load balancer. Azure Traffic Manager provides high-availability for",
    "Figure 6-5. AKS and Azure Traffic Manager",
    "Figure 6-5. AKS and Azure Traffic Manager",
    "Design for scalability",
    "Design for scalability",
    "The cloud thrives on scaling. The ability to increase/decrease system resources to address",
    "The cloud thrives on scaling. The ability to increase/decrease system resources to address",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "120",
    "120",
    "Design for scaling. An application must be designed for scaling. To start, services should be",
    "Design for scaling. An application must be designed for scaling. To start, services should be",
    "Partition workloads. Decomposing domains into independent, self-contained microservices",
    "Partition workloads. Decomposing domains into independent, self-contained microservices",
    "Favor scale-out. Cloud-based applications favor scaling out resources as opposed to scaling",
    "Favor scale-out. Cloud-based applications favor scaling out resources as opposed to scaling",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "as vertical scaling) involves replacing existing resources with more powerful hardware (more",
    "as vertical scaling) involves replacing existing resources with more powerful hardware (more",
    "Figure 6-6. Scale up versus scale out",
    "Figure 6-6. Scale up versus scale out",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Scale proportionally. When scaling a service, think in terms of resource sets. If you were to",
    "Scale proportionally. When scaling a service, think in terms of resource sets. If you were to",
    "Avoid affinity. A best practice is to ensure a node doesn\u2019t require local affinity, often referred",
    "Avoid affinity. A best practice is to ensure a node doesn\u2019t require local affinity, often referred",
    "Take advantage of platform autoscaling features. Use built-in autoscaling features whenever",
    "Take advantage of platform autoscaling features. Use built-in autoscaling features whenever",
    "Scale out aggressively. A final practice would be to scale out aggressively so that you can",
    "Scale out aggressively. A final practice would be to scale out aggressively so that you can",
    "Built-in retry in services",
    "Built-in retry in services",
    "We encouraged the best practice of implementing programmatic retry operations in an earlier section.",
    "We encouraged the best practice of implementing programmatic retry operations in an earlier section.",
    "121",
    "121",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "mechanisms. The following list summarizes retry features in the many of the Azure services that are",
    "mechanisms. The following list summarizes retry features in the many of the Azure services that are",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Azure Cosmos DB. The DocumentClient class from the client API automatically retires failed",
    "Azure Cosmos DB. The DocumentClient class from the client API automatically retires failed",
    "Azure Redis Cache. The Redis StackExchange client uses a connection manager class that",
    "Azure Redis Cache. The Redis StackExchange client uses a connection manager class that",
    "Azure Service Bus. The Service Bus client exposes a RetryPolicy class that can be configured",
    "Azure Service Bus. The Service Bus client exposes a RetryPolicy class that can be configured",
    "Azure SQL Database. Retry support is provided when using the Entity Framework Core library.",
    "Azure SQL Database. Retry support is provided when using the Entity Framework Core library.",
    "Azure Storage. The storage client library support retry operations. The strategies vary across",
    "Azure Storage. The storage client library support retry operations. The strategies vary across",
    "Azure Event Hubs. The Event Hub client library features a RetryPolicy property, which includes",
    "Azure Event Hubs. The Event Hub client library features a RetryPolicy property, which includes",
    "Resilient communications",
    "Resilient communications",
    "Throughout this book, we\u2019ve embraced a microservice-based architectural approach. While such an",
    "Throughout this book, we\u2019ve embraced a microservice-based architectural approach. While such an",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Out-of-process network communication. Each microservice communicates over a network",
    "Out-of-process network communication. Each microservice communicates over a network",
    "Service discovery. How do microservices discover and communicate with each other when",
    "Service discovery. How do microservices discover and communicate with each other when",
    "Resiliency. How do you manage short-lived failures and keep the system stable?",
    "Resiliency. How do you manage short-lived failures and keep the system stable?",
    "Load balancing. How does inbound traffic get distributed across multiple instances of a",
    "Load balancing. How does inbound traffic get distributed across multiple instances of a",
    "Security. How are security concerns such as transport-level encryption and certificate",
    "Security. How are security concerns such as transport-level encryption and certificate",
    "Distributed Monitoring. - How do you correlate and capture traceability and monitoring for a",
    "Distributed Monitoring. - How do you correlate and capture traceability and monitoring for a",
    "You can address these concerns with different libraries and frameworks, but the implementation can",
    "You can address these concerns with different libraries and frameworks, but the implementation can",
    "122",
    "122",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "Service mesh",
    "Service mesh",
    "A better approach is an evolving technology entitled Service Mesh. A service mesh is a configurable",
    "A better approach is an evolving technology entitled Service Mesh. A service mesh is a configurable",
    "Figure 6-7. Service mesh with a side car",
    "Figure 6-7. Service mesh with a side car",
    "In the previous figure, note how the proxy intercepts and manages communication among the",
    "In the previous figure, note how the proxy intercepts and manages communication among the",
    "A service mesh is logically split into two disparate components: A data plane and control plane. Figure",
    "A service mesh is logically split into two disparate components: A data plane and control plane. Figure",
    "123",
    "123",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "Figure 6-8. Service mesh control and data plane",
    "Figure 6-8. Service mesh control and data plane",
    "Once configured, a service mesh is highly functional. It can retrieve a corresponding pool of instances",
    "Once configured, a service mesh is highly functional. It can retrieve a corresponding pool of instances",
    "If an instance is unresponsive or fails, the mesh will retry the request on another instance. If it returns",
    "If an instance is unresponsive or fails, the mesh will retry the request on another instance. If it returns",
    "Istio and Envoy",
    "Istio and Envoy",
    "While a few service mesh options currently exist, Istio is the most popular at the time of this writing.",
    "While a few service mesh options currently exist, Istio is the most popular at the time of this writing.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Secure service-to-service communication in a cluster with strong identity-based",
    "Secure service-to-service communication in a cluster with strong identity-based",
    "Automatic load balancing for HTTP, gRPC, WebSocket, and TCP traffic.",
    "Automatic load balancing for HTTP, gRPC, WebSocket, and TCP traffic.",
    "Fine-grained control of traffic behavior with rich routing rules, retries, failovers, and fault",
    "Fine-grained control of traffic behavior with rich routing rules, retries, failovers, and fault",
    "A pluggable policy layer and configuration API supporting access controls, rate limits, and",
    "A pluggable policy layer and configuration API supporting access controls, rate limits, and",
    "Automatic metrics, logs, and traces for all traffic within a cluster, including cluster ingress and",
    "Automatic metrics, logs, and traces for all traffic within a cluster, including cluster ingress and",
    "A key component for an Istio implementation is a proxy service entitled the Envoy proxy. It runs",
    "A key component for an Istio implementation is a proxy service entitled the Envoy proxy. It runs",
    "Dynamic service discovery.",
    "Dynamic service discovery.",
    "Load balancing.",
    "Load balancing.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "124",
    "124",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "TLS termination.",
    "TLS termination.",
    "HTTP and gRPC proxies.",
    "HTTP and gRPC proxies.",
    "Circuit breaker resiliency.",
    "Circuit breaker resiliency.",
    "Health checks.",
    "Health checks.",
    "Rolling updates with canary deployments.",
    "Rolling updates with canary deployments.",
    "As previously discussed, Envoy is deployed as a sidecar to each microservice in the cluster.",
    "As previously discussed, Envoy is deployed as a sidecar to each microservice in the cluster.",
    "Integration with Azure Kubernetes Services",
    "Integration with Azure Kubernetes Services",
    "The Azure cloud embraces Istio and provides direct support for it within Azure Kubernetes Services.",
    "The Azure cloud embraces Istio and provides direct support for it within Azure Kubernetes Services.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Installing Istio in AKS",
    "Installing Istio in AKS",
    "Using AKS and Istio",
    "Using AKS and Istio",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Polly",
    "Polly",
    "Retry pattern",
    "Retry pattern",
    "Circuit Breaker pattern",
    "Circuit Breaker pattern",
    "Resilience in Azure whitepaper",
    "Resilience in Azure whitepaper",
    "network latency",
    "network latency",
    "Redundancy",
    "Redundancy",
    "geo-replication",
    "geo-replication",
    "Azure Traffic Manager",
    "Azure Traffic Manager",
    "Autoscaling guidance",
    "Autoscaling guidance",
    "Istio",
    "Istio",
    "Envoy proxy",
    "Envoy proxy",
    "125",
    "125",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER 6 | Cloud-native resiliency",
    "CHAPTER  7",
    "CHAPTER  7",
    "Monitoring and health",
    "Monitoring and health",
    "Microservices and cloud-native applications go hand in hand with good DevOps practices. DevOps is",
    "Microservices and cloud-native applications go hand in hand with good DevOps practices. DevOps is",
    "\u201cDevOps is the union of people, process, and products to enable continuous delivery of value to our",
    "\u201cDevOps is the union of people, process, and products to enable continuous delivery of value to our",
    "Unfortunately, with terse definitions, there\u2019s always room to say more things. One of the key",
    "Unfortunately, with terse definitions, there\u2019s always room to say more things. One of the key",
    "Observability patterns",
    "Observability patterns",
    "Just as patterns have been developed to aid in the layout of code in applications, there are patterns",
    "Just as patterns have been developed to aid in the layout of code in applications, there are patterns",
    "When to use logging",
    "When to use logging",
    "No matter how careful we are, applications almost always behave in unexpected ways in production.",
    "No matter how careful we are, applications almost always behave in unexpected ways in production.",
    "Challenges when logging with cloud-native applications",
    "Challenges when logging with cloud-native applications",
    "In traditional applications, log files are typically stored on the local machine. In fact, on Unix-like",
    "In traditional applications, log files are typically stored on the local machine. In fact, on Unix-like",
    "126",
    "126",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "Figure 7-1. Logging to a file in a monolithic app.",
    "Figure 7-1. Logging to a file in a monolithic app.",
    "The usefulness of logging to a flat file on a single machine is vastly reduced in a cloud environment.",
    "The usefulness of logging to a flat file on a single machine is vastly reduced in a cloud environment.",
    "Figure 7-2. Logging to files in a scaled monolithic app.",
    "Figure 7-2. Logging to files in a scaled monolithic app.",
    "Cloud-native applications developed using a microservices architecture also pose some challenges for",
    "Cloud-native applications developed using a microservices architecture also pose some challenges for",
    "127",
    "127",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "and may include serverless functions with no access to a local file system at all. It would be very",
    "and may include serverless functions with no access to a local file system at all. It would be very",
    "Figure 7-3. Logging to local files in a microservices app.",
    "Figure 7-3. Logging to local files in a microservices app.",
    "Finally, the number of users in some cloud-native applications is high. Imagine that each user",
    "Finally, the number of users in some cloud-native applications is high. Imagine that each user",
    "Logging in cloud-native applications",
    "Logging in cloud-native applications",
    "Every programming language has tooling that permits writing logs, and typically the overhead for",
    "Every programming language has tooling that permits writing logs, and typically the overhead for",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Verbose",
    "Verbose",
    "Debug",
    "Debug",
    "Information",
    "Information",
    "\u2022  Warning",
    "\u2022  Warning",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Error",
    "Error",
    "Fatal",
    "Fatal",
    "These different log levels provide granularity in logging. When the application is functioning properly",
    "These different log levels provide granularity in logging. When the application is functioning properly",
    "128",
    "128",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "misbehaving, then the log level can be increased so more verbose logs are gathered. This balances",
    "misbehaving, then the log level can be increased so more verbose logs are gathered. This balances",
    "The high performance of logging tools and the tunability of verbosity should encourage developers to",
    "The high performance of logging tools and the tunability of verbosity should encourage developers to",
    "Because of the challenges associated with using file-based logs in cloud-native apps, centralized logs",
    "Because of the challenges associated with using file-based logs in cloud-native apps, centralized logs",
    "It\u2019s also helpful to follow some standard practices when building logging that spans many services.",
    "It\u2019s also helpful to follow some standard practices when building logging that spans many services.",
    "Figure 7-4. Logs from various sources are ingested into a centralized log store.",
    "Figure 7-4. Logs from various sources are ingested into a centralized log store.",
    "129",
    "129",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "Challenges with detecting and responding to potential app health",
    "Challenges with detecting and responding to potential app health",
    "Some applications aren\u2019t mission critical. Maybe they\u2019re only used internally, and when a problem",
    "Some applications aren\u2019t mission critical. Maybe they\u2019re only used internally, and when a problem",
    "Some scenarios you may need to consider include:",
    "Some scenarios you may need to consider include:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "One service in your application keeps failing and restarting, resulting in intermittent slow",
    "One service in your application keeps failing and restarting, resulting in intermittent slow",
    "At some times of the day, your application\u2019s response time is slow.",
    "At some times of the day, your application\u2019s response time is slow.",
    "After a recent deployment, load on the database has tripled.",
    "After a recent deployment, load on the database has tripled.",
    "Implemented properly, monitoring can let you know about conditions that will lead to problems,",
    "Implemented properly, monitoring can let you know about conditions that will lead to problems,",
    "Monitoring cloud-native apps",
    "Monitoring cloud-native apps",
    "Some centralized logging systems take on an additional role of collecting telemetry outside of pure",
    "Some centralized logging systems take on an additional role of collecting telemetry outside of pure",
    "The metric-gathering capabilities of the monitoring tools can also be fed manually from within the",
    "The metric-gathering capabilities of the monitoring tools can also be fed manually from within the",
    "Queries can be constructed in the log aggregation tools to look for certain statistics or patterns, which",
    "Queries can be constructed in the log aggregation tools to look for certain statistics or patterns, which",
    "Cloud-native monitoring tools provide real-time telemetry and insight into apps regardless of whether",
    "Cloud-native monitoring tools provide real-time telemetry and insight into apps regardless of whether",
    "Challenges with reacting to critical problems in cloud-native apps",
    "Challenges with reacting to critical problems in cloud-native apps",
    "If you need to react to problems with your application, you need some way to alert the right",
    "If you need to react to problems with your application, you need some way to alert the right",
    "130",
    "130",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "in some cases to feed into monitoring tools. It needs monitoring to aggregate application metrics and",
    "in some cases to feed into monitoring tools. It needs monitoring to aggregate application metrics and",
    "Generally, alerts are layered on top of monitoring such that certain conditions trigger appropriate",
    "Generally, alerts are layered on top of monitoring such that certain conditions trigger appropriate",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "One of your application\u2019s services is not responding after 1 minute of downtime.",
    "One of your application\u2019s services is not responding after 1 minute of downtime.",
    "Your application is returning unsuccessful HTTP responses to more than 1% of requests.",
    "Your application is returning unsuccessful HTTP responses to more than 1% of requests.",
    "Your application\u2019s average response time for key endpoints exceeds 2000 ms.",
    "Your application\u2019s average response time for key endpoints exceeds 2000 ms.",
    "Alerts in cloud-native apps",
    "Alerts in cloud-native apps",
    "You can craft queries against the monitoring tools to look for known failure conditions. For instance,",
    "You can craft queries against the monitoring tools to look for known failure conditions. For instance,",
    "Typically, though, a single 500 error isn\u2019t enough to determine that a problem has occurred. It could",
    "Typically, though, a single 500 error isn\u2019t enough to determine that a problem has occurred. It could",
    "One of the most damaging patterns in alerting is to fire too many alerts for humans to investigate.",
    "One of the most damaging patterns in alerting is to fire too many alerts for humans to investigate.",
    "Logging with Elastic Stack",
    "Logging with Elastic Stack",
    "There are many good centralized logging tools and they vary in cost from being free, open-source",
    "There are many good centralized logging tools and they vary in cost from being free, open-source",
    "Collectively these tools are known as the Elastic Stack or ELK stack.",
    "Collectively these tools are known as the Elastic Stack or ELK stack.",
    "Elastic Stack",
    "Elastic Stack",
    "The Elastic Stack is a powerful option for gathering information from a Kubernetes cluster. Kubernetes",
    "The Elastic Stack is a powerful option for gathering information from a Kubernetes cluster. Kubernetes",
    "KUBE",
    "KUBE",
    "Figure 7-5. Configuration variables for Kubernetes",
    "Figure 7-5. Configuration variables for Kubernetes",
    "This step will install Elasticsearch on the cluster and target sending all the cluster logs to it.",
    "This step will install Elasticsearch on the cluster and target sending all the cluster logs to it.",
    "131",
    "131",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "Figure 7-6. An example of a Kibana dashboard showing the results of a query against logs that are ingested from",
    "Figure 7-6. An example of a Kibana dashboard showing the results of a query against logs that are ingested from",
    "What are the advantages of Elastic Stack?",
    "What are the advantages of Elastic Stack?",
    "Elastic Stack provides centralized logging in a low-cost, scalable, cloud-friendly manner. Its user",
    "Elastic Stack provides centralized logging in a low-cost, scalable, cloud-friendly manner. Its user",
    "Logstash",
    "Logstash",
    "The first component is Logstash. This tool is used to gather log information from a large variety of",
    "The first component is Logstash. This tool is used to gather log information from a large variety of",
    "Serilog is a logging library for .NET languages, which allows for parameterized logging. Instead of",
    "Serilog is a logging library for .NET languages, which allows for parameterized logging. Instead of",
    "var log = new LoggerConfiguration()",
    "var log = new LoggerConfiguration()",
    "Figure 7-7. Serilog config for writing log information directly to logstash over HTTP",
    "Figure 7-7. Serilog config for writing log information directly to logstash over HTTP",
    "Logstash would use a configuration like the one shown in Figure 7-8.",
    "Logstash would use a configuration like the one shown in Figure 7-8.",
    "132",
    "132",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "input {",
    "input {",
    "output {",
    "output {",
    "Figure 7-8. A Logstash configuration for consuming logs from Serilog",
    "Figure 7-8. A Logstash configuration for consuming logs from Serilog",
    "For scenarios where extensive log manipulation isn\u2019t needed there\u2019s an alternative to Logstash known",
    "For scenarios where extensive log manipulation isn\u2019t needed there\u2019s an alternative to Logstash known",
    "Once the logs have been gathered by Logstash, it needs somewhere to put them. While Logstash",
    "Once the logs have been gathered by Logstash, it needs somewhere to put them. While Logstash",
    "Elasticsearch",
    "Elasticsearch",
    "Elasticsearch is a powerful search engine that can index logs as they arrive. It makes running queries",
    "Elasticsearch is a powerful search engine that can index logs as they arrive. It makes running queries",
    "Log messages that have been crafted to contain parameters or that have had parameters split from",
    "Log messages that have been crafted to contain parameters or that have had parameters split from",
    "A query that searches for the top 10 pages visited by jill@example.com, appears in Figure 7-9.",
    "A query that searches for the top 10 pages visited by jill@example.com, appears in Figure 7-9.",
    "\"",
    "\"",
    "Figure 7-9. An Elasticsearch query for finding top 10 pages visited by a user",
    "Figure 7-9. An Elasticsearch query for finding top 10 pages visited by a user",
    "Visualizing information with Kibana web dashboards",
    "Visualizing information with Kibana web dashboards",
    "The final component of the stack is Kibana. This tool is used to provide interactive visualizations in a",
    "The final component of the stack is Kibana. This tool is used to provide interactive visualizations in a",
    "133",
    "133",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "have different dashboard desires and Kibana enables this customization through allowing user-",
    "have different dashboard desires and Kibana enables this customization through allowing user-",
    "Installing Elastic Stack on Azure",
    "Installing Elastic Stack on Azure",
    "The Elastic stack can be installed on Azure in many ways. As always, it\u2019s possible to provision virtual",
    "The Elastic stack can be installed on Azure in many ways. As always, it\u2019s possible to provision virtual",
    "An option with less overhead is to make use of one of the many Docker containers on which the",
    "An option with less overhead is to make use of one of the many Docker containers on which the",
    "Another option is a recently announced ELK-as-a-service offering.",
    "Another option is a recently announced ELK-as-a-service offering.",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "Install Elastic Stack on Azure",
    "Install Elastic Stack on Azure",
    "Monitoring in Azure Kubernetes Services",
    "Monitoring in Azure Kubernetes Services",
    "The built-in logging in Kubernetes is primitive. However, there are some great options for getting the",
    "The built-in logging in Kubernetes is primitive. However, there are some great options for getting the",
    "Azure Monitor for Containers",
    "Azure Monitor for Containers",
    "Azure Monitor for Containers supports consuming logs from not just Kubernetes but also from other",
    "Azure Monitor for Containers supports consuming logs from not just Kubernetes but also from other",
    "134",
    "134",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "Figure 7-10. Consuming logs from various containers",
    "Figure 7-10. Consuming logs from various containers",
    "Prometheus is a popular open source metric monitoring solution. It is part of the Cloud Native",
    "Prometheus is a popular open source metric monitoring solution. It is part of the Cloud Native",
    "Log and metric information is gathered not just from the containers running in the cluster but also",
    "Log and metric information is gathered not just from the containers running in the cluster but also",
    "Installing the log collectors differs on Windows and Linux clusters. But in both cases the log collection",
    "Installing the log collectors differs on Windows and Linux clusters. But in both cases the log collection",
    "No matter which orchestrator or operating system is running the Azure Monitor daemon, the log",
    "No matter which orchestrator or operating system is running the Azure Monitor daemon, the log",
    "135",
    "135",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "Figure 7-11. A sample dashboard showing logging and metric information from many running containers.",
    "Figure 7-11. A sample dashboard showing logging and metric information from many running containers.",
    "Log.Finalize()",
    "Log.Finalize()",
    "Logging is one of the most overlooked and yet most important parts of deploying any application at",
    "Logging is one of the most overlooked and yet most important parts of deploying any application at",
    "Azure Monitor",
    "Azure Monitor",
    "No other cloud provider has as mature of a cloud application monitoring solution than that found in",
    "No other cloud provider has as mature of a cloud application monitoring solution than that found in",
    "136",
    "136",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "Figure 7-12. High-level view of Azure Monitor.",
    "Figure 7-12. High-level view of Azure Monitor.",
    "Gathering logs and metrics",
    "Gathering logs and metrics",
    "The first step in any monitoring solution is to gather as much data as possible. The more data",
    "The first step in any monitoring solution is to gather as much data as possible. The more data",
    "Application level metrics and events aren\u2019t possible to instrument automatically because they\u2019re",
    "Application level metrics and events aren\u2019t possible to instrument automatically because they\u2019re",
    "The ultimate goal of gathering information about the state of your application is to ensure that your",
    "The ultimate goal of gathering information about the state of your application is to ensure that your",
    "Reporting data",
    "Reporting data",
    "Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow",
    "Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow",
    "137",
    "137",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "No modern application would be complete without some artificial intelligence or machine learning. To",
    "No modern application would be complete without some artificial intelligence or machine learning. To",
    "Application Insights provides a powerful (SQL-like) query language called Kusto that can query",
    "Application Insights provides a powerful (SQL-like) query language called Kusto that can query",
    "StormEvents",
    "StormEvents",
    "Figure 7-13 shows the results of this Application Insights Query.",
    "Figure 7-13 shows the results of this Application Insights Query.",
    "Figure 7-13. Application Insights query results.",
    "Figure 7-13. Application Insights query results.",
    "There is a playground for experimenting with Kusto queries. Reading sample queries can also be",
    "There is a playground for experimenting with Kusto queries. Reading sample queries can also be",
    "Dashboards",
    "Dashboards",
    "There are several different dashboard technologies that may be used to surface the information from",
    "There are several different dashboard technologies that may be used to surface the information from",
    "138",
    "138",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "Figure 7-14. An example of Application Insights charts embedded in the main Azure Dashboard.",
    "Figure 7-14. An example of Application Insights charts embedded in the main Azure Dashboard.",
    "These charts can then be embedded in the Azure portal proper through use of the dashboard feature.",
    "These charts can then be embedded in the Azure portal proper through use of the dashboard feature.",
    "139",
    "139",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "Figure 7-15. An example Power BI dashboard.",
    "Figure 7-15. An example Power BI dashboard.",
    "Alerts",
    "Alerts",
    "Sometimes, having data dashboards is insufficient. If nobody is awake to watch the dashboards, then",
    "Sometimes, having data dashboards is insufficient. If nobody is awake to watch the dashboards, then",
    "\u2022  Metric values",
    "\u2022  Metric values",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Log search queries",
    "Log search queries",
    "Activity Log events",
    "Activity Log events",
    "Health of the underlying Azure platform",
    "Health of the underlying Azure platform",
    "Tests for web site availability",
    "Tests for web site availability",
    "When triggered, the alerts can perform a wide variety of tasks. On the simple side, the alerts may just",
    "When triggered, the alerts can perform a wide variety of tasks. On the simple side, the alerts may just",
    "140",
    "140",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular",
    "might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular",
    "As common causes of alerts are identified, the alerts can be enhanced with details about the common",
    "As common causes of alerts are identified, the alerts can be enhanced with details about the common",
    "Azure Monitor automatically leverages machine learning to understand the normal operating",
    "Azure Monitor automatically leverages machine learning to understand the normal operating",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "Azure Monitor",
    "Azure Monitor",
    "141",
    "141",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER 7 | Monitoring and health",
    "CHAPTER  8",
    "CHAPTER  8",
    "Cloud-native identity",
    "Cloud-native identity",
    "Most software applications need to have some knowledge of the user or process that is calling them.",
    "Most software applications need to have some knowledge of the user or process that is calling them.",
    "While this solution is effective within corporate networks, it isn\u2019t designed for use by users or",
    "While this solution is effective within corporate networks, it isn\u2019t designed for use by users or",
    "In today\u2019s cloud-native identity model, architecture is assumed to be distributed. Apps can be",
    "In today\u2019s cloud-native identity model, architecture is assumed to be distributed. Apps can be",
    "Modern cloud-native identity solutions typically use access tokens that are issued by a secure token",
    "Modern cloud-native identity solutions typically use access tokens that are issued by a secure token",
    "Typically, the STS is only responsible for authenticating the principal. Determining their level of access",
    "Typically, the STS is only responsible for authenticating the principal. Determining their level of access",
    "References",
    "References",
    "\u2022  Microsoft identity platform",
    "\u2022  Microsoft identity platform",
    "Authentication and authorization in cloud-native",
    "Authentication and authorization in cloud-native",
    "Authentication is the process of determining the identity of a security principal. Authorization is the act",
    "Authentication is the process of determining the identity of a security principal. Authorization is the act",
    "142",
    "142",
    "CHAPTER 8 | Cloud-native identity",
    "CHAPTER 8 | Cloud-native identity",
    "native applications need to rely on open HTTP-based protocols to authenticate security principals",
    "native applications need to rely on open HTTP-based protocols to authenticate security principals",
    "Many organizations still rely on local authentication services like Active Directory Federation Services",
    "Many organizations still rely on local authentication services like Active Directory Federation Services",
    "\u2022",
    "\u2022",
    "Access to full set of Microsoft credential protection technologies.",
    "Access to full set of Microsoft credential protection technologies.",
    "\u2022  Most organizations are already relying on Azure AD to some extent.",
    "\u2022  Most organizations are already relying on Azure AD to some extent.",
    "\u2022",
    "\u2022",
    "Double hashing of NTLM hashes ensures compromise won\u2019t allow credentials that work in",
    "Double hashing of NTLM hashes ensures compromise won\u2019t allow credentials that work in",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Authentication basics",
    "Authentication basics",
    "Access tokens and claims",
    "Access tokens and claims",
    "It may be time to ditch your on premises authentication services",
    "It may be time to ditch your on premises authentication services",
    "Azure Active Directory",
    "Azure Active Directory",
    "Microsoft Azure Active Directory (Azure AD) offers identity and access management as a service.",
    "Microsoft Azure Active Directory (Azure AD) offers identity and access management as a service.",
    "Azure AD is built for the cloud. It\u2019s truly a cloud-native identity solution that uses a REST-based Graph",
    "Azure AD is built for the cloud. It\u2019s truly a cloud-native identity solution that uses a REST-based Graph",
    "Azure AD supports company branded sign-in screens, multi-factory authentication, and cloud-based",
    "Azure AD supports company branded sign-in screens, multi-factory authentication, and cloud-based",
    "References",
    "References",
    "\u2022  Microsoft identity platform",
    "\u2022  Microsoft identity platform",
    "143",
    "143",
    "CHAPTER 8 | Cloud-native identity",
    "CHAPTER 8 | Cloud-native identity",
    "IdentityServer for cloud-native applications",
    "IdentityServer for cloud-native applications",
    "IdentityServer is an authentication server that implements OpenID Connect (OIDC) and OAuth 2.0",
    "IdentityServer is an authentication server that implements OpenID Connect (OIDC) and OAuth 2.0",
    "Common web app scenarios",
    "Common web app scenarios",
    "Typically, applications need to support some or all of the following scenarios:",
    "Typically, applications need to support some or all of the following scenarios:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Human users accessing web applications with a browser.",
    "Human users accessing web applications with a browser.",
    "Human users accessing back-end Web APIs from browser-based apps.",
    "Human users accessing back-end Web APIs from browser-based apps.",
    "Human users on mobile/native clients accessing back-end Web APIs.",
    "Human users on mobile/native clients accessing back-end Web APIs.",
    "Other applications accessing back-end Web APIs (without an active user or user interface).",
    "Other applications accessing back-end Web APIs (without an active user or user interface).",
    "Any application may need to interact with other Web APIs, using its own identity or",
    "Any application may need to interact with other Web APIs, using its own identity or",
    "Figure 8-1. Application types and scenarios.",
    "Figure 8-1. Application types and scenarios.",
    "In each of these scenarios, the exposed functionality needs to be secured against unauthorized use. At",
    "In each of these scenarios, the exposed functionality needs to be secured against unauthorized use. At",
    "144",
    "144",
    "CHAPTER 8 | Cloud-native identity",
    "CHAPTER 8 | Cloud-native identity",
    "Outsourcing these concerns to a dedicated product like IdentityServer helps the requirement for every",
    "Outsourcing these concerns to a dedicated product like IdentityServer helps the requirement for every",
    "IdentityServer provides middleware that runs within an ASP.NET Core application and adds support",
    "IdentityServer provides middleware that runs within an ASP.NET Core application and adds support",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Authorize (authenticate the end user)",
    "Authorize (authenticate the end user)",
    "Token (request a token programmatically)",
    "Token (request a token programmatically)",
    "Discovery (metadata about the server)",
    "Discovery (metadata about the server)",
    "User Info (get user information with a valid access token)",
    "User Info (get user information with a valid access token)",
    "Device Authorization (used to start device flow authorization)",
    "Device Authorization (used to start device flow authorization)",
    "Introspection (token validation)",
    "Introspection (token validation)",
    "Revocation (token revocation)",
    "Revocation (token revocation)",
    "End Session (trigger single sign-out across all apps)",
    "End Session (trigger single sign-out across all apps)",
    "Getting started",
    "Getting started",
    "IdentityServer4 is available under dual license:",
    "IdentityServer4 is available under dual license:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "RPL - lets you use the IdentityServer4 free if used in open-source work",
    "RPL - lets you use the IdentityServer4 free if used in open-source work",
    "Paid - lets you use the IdentityServer4 in a commercial scenario",
    "Paid - lets you use the IdentityServer4 in a commercial scenario",
    "For more information about pricing, see the official product\u2019s pricing page.",
    "For more information about pricing, see the official product\u2019s pricing page.",
    "You can add it to your applications using its NuGet packages. The main package is IdentityServer4,",
    "You can add it to your applications using its NuGet packages. The main package is IdentityServer4,",
    "Configuration",
    "Configuration",
    "IdentityServer supports different kinds of protocols and social authentication providers that can be",
    "IdentityServer supports different kinds of protocols and social authentication providers that can be",
    "public class Startup",
    "public class Startup",
    "145",
    "145",
    "CHAPTER 8 | Cloud-native identity",
    "CHAPTER 8 | Cloud-native identity",
    "// some details omitted",
    "// some details omitted",
    "IdentityServerConstants.ExternalCookieAuthenticationScheme;",
    "IdentityServerConstants.ExternalCookieAuthenticationScheme;",
    "IdentityServerConstants.ExternalCookieAuthenticationScheme;",
    "IdentityServerConstants.ExternalCookieAuthenticationScheme;",
    "}",
    "}",
    "Figure 8-2. Configuring IdentityServer.",
    "Figure 8-2. Configuring IdentityServer.",
    "JavaScript clients",
    "JavaScript clients",
    "Many cloud-native applications use server-side APIs and rich client single page applications (SPAs) on",
    "Many cloud-native applications use server-side APIs and rich client single page applications (SPAs) on",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "IdentityServer documentation",
    "IdentityServer documentation",
    "Application types",
    "Application types",
    "JavaScript OIDC client",
    "JavaScript OIDC client",
    "146",
    "146",
    "CHAPTER 8 | Cloud-native identity",
    "CHAPTER 8 | Cloud-native identity",
    "CHAPTER  9",
    "CHAPTER  9",
    "Cloud-native security",
    "Cloud-native security",
    "Not a day goes by where the news doesn\u2019t contain some story about a company being hacked or",
    "Not a day goes by where the news doesn\u2019t contain some story about a company being hacked or",
    "However, there are starting to be real-world consequences for not maintaining a security mindset",
    "However, there are starting to be real-world consequences for not maintaining a security mindset",
    "Even governments aren\u2019t immune to hacking incidents. The city of Baltimore was held ransom by",
    "Even governments aren\u2019t immune to hacking incidents. The city of Baltimore was held ransom by",
    "There has also been an increase in legislation that mandates certain data protections for personal",
    "There has also been an increase in legislation that mandates certain data protections for personal",
    "In short, security is serious business.",
    "In short, security is serious business.",
    "Azure security for cloud-native apps",
    "Azure security for cloud-native apps",
    "Cloud-native applications can be both easier and more difficult to secure than traditional applications.",
    "Cloud-native applications can be both easier and more difficult to secure than traditional applications.",
    "On the flip side, smaller services, each with their own data store, limit the scope of an attack. If an",
    "On the flip side, smaller services, each with their own data store, limit the scope of an attack. If an",
    "147",
    "147",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "Threat modeling",
    "Threat modeling",
    "No matter if the advantages outweigh the disadvantages of cloud-native applications, the same",
    "No matter if the advantages outweigh the disadvantages of cloud-native applications, the same",
    "\u2022  What would be the impact of this data being lost?",
    "\u2022  What would be the impact of this data being lost?",
    "\u2022",
    "\u2022",
    "How can we limit the damage from bad data being injected into this service?",
    "How can we limit the damage from bad data being injected into this service?",
    "\u2022  Who should have access to this data?",
    "\u2022  Who should have access to this data?",
    "\u2022",
    "\u2022",
    "Are there auditing policies in place around the development and release process?",
    "Are there auditing policies in place around the development and release process?",
    "All these questions are part of a process called threat modeling. This process tries to answer the",
    "All these questions are part of a process called threat modeling. This process tries to answer the",
    "Once the list of threats has been established, you need to decide whether they\u2019re worth mitigating.",
    "Once the list of threats has been established, you need to decide whether they\u2019re worth mitigating.",
    "The altered processors are difficult to detect without a microscope and advanced knowledge of the on",
    "The altered processors are difficult to detect without a microscope and advanced knowledge of the on",
    "More likely threats, such as broken access controls permitting Id incrementing attacks (replacing Id=2",
    "More likely threats, such as broken access controls permitting Id incrementing attacks (replacing Id=2",
    "Principle of least privilege",
    "Principle of least privilege",
    "One of the founding ideas in computer security is the Principle of Least Privilege (POLP). It\u2019s actually a",
    "One of the founding ideas in computer security is the Principle of Least Privilege (POLP). It\u2019s actually a",
    "As an example, think of the tellers at a bank: accessing the safe is an uncommon activity. So, the",
    "As an example, think of the tellers at a bank: accessing the safe is an uncommon activity. So, the",
    "In a computer system, a fantastic example is the rights of a user connecting to a database. In many",
    "In a computer system, a fantastic example is the rights of a user connecting to a database. In many",
    "148",
    "148",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "Almost every part of building a cloud-native application can benefit from remembering the principle",
    "Almost every part of building a cloud-native application can benefit from remembering the principle",
    "Penetration testing",
    "Penetration testing",
    "As applications become more complicated the number of attack vectors increases at an alarming rate.",
    "As applications become more complicated the number of attack vectors increases at an alarming rate.",
    "Penetration testing or \u201cpen testing\u201d involves bringing in external actors to attempt to attack the",
    "Penetration testing or \u201cpen testing\u201d involves bringing in external actors to attempt to attack the",
    "Azure itself is constantly undergoing attacks from a team of hackers inside Microsoft. Over the years,",
    "Azure itself is constantly undergoing attacks from a team of hackers inside Microsoft. Over the years,",
    "Monitoring",
    "Monitoring",
    "Should an attacker attempt to penetrate an application, there should be some warning of it.",
    "Should an attacker attempt to penetrate an application, there should be some warning of it.",
    "Securing the build",
    "Securing the build",
    "One place where security is often overlooked is around the build process. Not only should the build",
    "One place where security is often overlooked is around the build process. Not only should the build",
    "Imagine that an attacker is looking to steal the passwords of people signing into a web application.",
    "Imagine that an attacker is looking to steal the passwords of people signing into a web application.",
    "149",
    "149",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "catch it in a code review because the build steps live on the build server. The exploited code will go to",
    "catch it in a code review because the build steps live on the build server. The exploited code will go to",
    "This scenario is a perfect example of a seemingly low-value target that can be used to break into the",
    "This scenario is a perfect example of a seemingly low-value target that can be used to break into the",
    "Building secure code",
    "Building secure code",
    ".NET Framework is already a quite secure framework. It avoids some of the pitfalls of unmanaged",
    ".NET Framework is already a quite secure framework. It avoids some of the pitfalls of unmanaged",
    "There are many ways to make .NET code more secure. Following guidelines such as the Secure coding",
    "There are many ways to make .NET code more secure. Following guidelines such as the Secure coding",
    "The build process is a good place to put scanning tools to detect problems in source code before they",
    "The build process is a good place to put scanning tools to detect problems in source code before they",
    "Built-in security",
    "Built-in security",
    "Azure is designed to balance usability and security for most users. Different users are going to have",
    "Azure is designed to balance usability and security for most users. Different users are going to have",
    "Within the Azure portal, the Azure Advisor is a system that is constantly scanning an environment and",
    "Within the Azure portal, the Azure Advisor is a system that is constantly scanning an environment and",
    "Azure network infrastructure",
    "Azure network infrastructure",
    "In an on-premises deployment environment, a great deal of energy is dedicated to setting up",
    "In an on-premises deployment environment, a great deal of energy is dedicated to setting up",
    "Out of the box, most PaaS Azure resources have only the most basic and permissive networking setup.",
    "Out of the box, most PaaS Azure resources have only the most basic and permissive networking setup.",
    "150",
    "150",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "come restricted, so that external parties can\u2019t access them, but the IP address ranges used by Azure",
    "come restricted, so that external parties can\u2019t access them, but the IP address ranges used by Azure",
    "Fortunately, most Azure resources can be placed into an Azure Virtual Network that allows fine-",
    "Fortunately, most Azure resources can be placed into an Azure Virtual Network that allows fine-",
    "Figure 9-1. A virtual network in Azure.",
    "Figure 9-1. A virtual network in Azure.",
    "In the same way that on-premises networks have a firewall governing access to the network, you can",
    "In the same way that on-premises networks have a firewall governing access to the network, you can",
    "With the network established, internal resources like storage accounts can be set up to only allow for",
    "With the network established, internal resources like storage accounts can be set up to only allow for",
    "The nodes in an Azure Kubernetes cluster can participate in a virtual network just like other resources",
    "The nodes in an Azure Kubernetes cluster can participate in a virtual network just like other resources",
    "Continuing down the path of illustrating the principle of least privilege, not every resource within a",
    "Continuing down the path of illustrating the principle of least privilege, not every resource within a",
    "151",
    "151",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "web API over a storage account and a SQL database, it\u2019s unlikely that the database and the storage",
    "web API over a storage account and a SQL database, it\u2019s unlikely that the database and the storage",
    "A policy of denying communication between resources can be annoying to implement, especially",
    "A policy of denying communication between resources can be annoying to implement, especially",
    "Virtual Networks can also be useful when setting up communication between on-premises and cloud",
    "Virtual Networks can also be useful when setting up communication between on-premises and cloud",
    "Role-based access control for restricting access to Azure resources",
    "Role-based access control for restricting access to Azure resources",
    "RBAC is a system that provides an identity to applications running in Azure. Applications can access",
    "RBAC is a system that provides an identity to applications running in Azure. Applications can access",
    "Security Principals",
    "Security Principals",
    "The first component in RBAC is a security principal. A security principal can be a user, group, service",
    "The first component in RBAC is a security principal. A security principal can be a user, group, service",
    "Figure 9-2. Different types of security principals.",
    "Figure 9-2. Different types of security principals.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "152",
    "152",
    "User - Any user who has an account in Azure Active Directory is a user.",
    "User - Any user who has an account in Azure Active Directory is a user.",
    "Group - A collection of users from Azure Active Directory. As a member of a group, a user",
    "Group - A collection of users from Azure Active Directory. As a member of a group, a user",
    "Service principal - A security identity under which services or applications run.",
    "Service principal - A security identity under which services or applications run.",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "\u2022  Managed identity - An Azure Active Directory identity managed by Azure. Managed identities",
    "\u2022  Managed identity - An Azure Active Directory identity managed by Azure. Managed identities",
    "The security principal can be applied to most any resource. This aspect means that it\u2019s possible to",
    "The security principal can be applied to most any resource. This aspect means that it\u2019s possible to",
    "Roles",
    "Roles",
    "A security principal can take on many roles or, using a more sartorial analogy, wear many hats. Each",
    "A security principal can take on many roles or, using a more sartorial analogy, wear many hats. Each",
    "Figure 9-3. RBAC role definitions.",
    "Figure 9-3. RBAC role definitions.",
    "Built into Azure are also a number of high-level roles such as Owner, Contributor, Reader, and User",
    "Built into Azure are also a number of high-level roles such as Owner, Contributor, Reader, and User",
    "More granular built-in roles such as DNS Zone Contributor have rights limited to a single service.",
    "More granular built-in roles such as DNS Zone Contributor have rights limited to a single service.",
    "153",
    "153",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "Scopes",
    "Scopes",
    "Roles can be applied to a restricted set of resources within Azure. For instance, applying scope to the",
    "Roles can be applied to a restricted set of resources within Azure. For instance, applying scope to the",
    "The scope can be as narrow as a single resource or it can be applied to an entire resource group,",
    "The scope can be as narrow as a single resource or it can be applied to an entire resource group,",
    "When testing if a security principal has certain permission, the combination of role and scope are",
    "When testing if a security principal has certain permission, the combination of role and scope are",
    "Deny",
    "Deny",
    "Previously, only \u201callow\u201d rules were permitted for RBAC. This behavior made some scopes complicated",
    "Previously, only \u201callow\u201d rules were permitted for RBAC. This behavior made some scopes complicated",
    "Deny rules take precedence over allow rules. Now representing the same \u201callow all but one\u201d scope",
    "Deny rules take precedence over allow rules. Now representing the same \u201callow all but one\u201d scope",
    "Checking access",
    "Checking access",
    "As you can imagine, having a large number of roles and scopes can make figuring out the effective",
    "As you can imagine, having a large number of roles and scopes can make figuring out the effective",
    "Figure 9-4. Permission calculator for an app service.",
    "Figure 9-4. Permission calculator for an app service.",
    "154",
    "154",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "Securing secrets",
    "Securing secrets",
    "Passwords and certificates are a common attack vector for attackers. Password-cracking hardware can",
    "Passwords and certificates are a common attack vector for attackers. Password-cracking hardware can",
    "Many security experts suggest that using a password manager to keep your own passwords is the",
    "Many security experts suggest that using a password manager to keep your own passwords is the",
    "Azure Key Vault",
    "Azure Key Vault",
    "Azure Key Vault provides a centralized location to store passwords for things such as databases, API",
    "Azure Key Vault provides a centralized location to store passwords for things such as databases, API",
    "Access to the key vault is provided through RBACs, meaning that not just any user can access the",
    "Access to the key vault is provided through RBACs, meaning that not just any user can access the",
    "Access to the key vault can be monitored to ensure that only the expected applications are accessing",
    "Access to the key vault can be monitored to ensure that only the expected applications are accessing",
    "Kubernetes",
    "Kubernetes",
    "Within Kubernetes, there\u2019s a similar service for maintaining small pieces of secret information.",
    "Within Kubernetes, there\u2019s a similar service for maintaining small pieces of secret information.",
    "Creating a secret is as simple as finding the base64 version of the values to be stored:",
    "Creating a secret is as simple as finding the base64 version of the values to be stored:",
    "echo -n ",
    "echo -n ",
    "Then adding it to a secrets file named secret.yml for example that looks similar to the following",
    "Then adding it to a secrets file named secret.yml for example that looks similar to the following",
    "apiVersion: v1",
    "apiVersion: v1",
    "155",
    "155",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "type: Opaque",
    "type: Opaque",
    "Finally, this file can be loaded into Kubernetes by running the following command:",
    "Finally, this file can be loaded into Kubernetes by running the following command:",
    "kubectl apply -f ./secret.yaml",
    "kubectl apply -f ./secret.yaml",
    "These secrets can then be mounted into volumes or exposed to container processes through",
    "These secrets can then be mounted into volumes or exposed to container processes through",
    "An alternative to use the built-in Kubernetes secrets is to access the secrets in Azure Key Vault from",
    "An alternative to use the built-in Kubernetes secrets is to access the secrets in Azure Key Vault from",
    "Encryption in transit and at rest",
    "Encryption in transit and at rest",
    "Keeping data safe is important whether it\u2019s on disk or transiting between various different services.",
    "Keeping data safe is important whether it\u2019s on disk or transiting between various different services.",
    "In transit",
    "In transit",
    "There are several ways to encrypt traffic on the network in Azure. The access to Azure services is",
    "There are several ways to encrypt traffic on the network in Azure. The access to Azure services is",
    "TLS is a complicated protocol and simply knowing that the connection is using TLS isn\u2019t sufficient to",
    "TLS is a complicated protocol and simply knowing that the connection is using TLS isn\u2019t sufficient to",
    "This check can be done by an external service such as SSL labs\u2019 SSL Server Test. A test run against a",
    "This check can be done by an external service such as SSL labs\u2019 SSL Server Test. A test run against a",
    "Even services like Azure SQL databases use TLS encryption to keep data hidden. The interesting part",
    "Even services like Azure SQL databases use TLS encryption to keep data hidden. The interesting part",
    "156",
    "156",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "Figure 9-5. SSL labs report showing a score of A for a Service Bus endpoint.",
    "Figure 9-5. SSL labs report showing a score of A for a Service Bus endpoint.",
    "While this level of encryption isn\u2019t going to be sufficient for all time, it should inspire confidence that",
    "While this level of encryption isn\u2019t going to be sufficient for all time, it should inspire confidence that",
    "At rest",
    "At rest",
    "In any application, there are a number of places where data rests on the disk. The application code",
    "In any application, there are a number of places where data rests on the disk. The application code",
    "Storage",
    "Storage",
    "The underpinning of much of Azure is the Azure Storage engine. Virtual machine disks are mounted",
    "The underpinning of much of Azure is the Azure Storage engine. Virtual machine disks are mounted",
    "If Azure Storage is well encrypted, then it provides for a foundation for most everything else to also",
    "If Azure Storage is well encrypted, then it provides for a foundation for most everything else to also",
    "By default, the keys used for encrypting Azure Storage are managed by Microsoft. There are extensive",
    "By default, the keys used for encrypting Azure Storage are managed by Microsoft. There are extensive",
    "157",
    "157",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "Key Vault. These keys can be revoked at any time, which would effectively render the contents of the",
    "Key Vault. These keys can be revoked at any time, which would effectively render the contents of the",
    "Virtual machines use encrypted storage, but it\u2019s possible to provide another layer of encryption by",
    "Virtual machines use encrypted storage, but it\u2019s possible to provide another layer of encryption by",
    "Azure SQL",
    "Azure SQL",
    "Databases hosted on Azure SQL use a technology called Transparent Data Encryption (TDE) to ensure",
    "Databases hosted on Azure SQL use a technology called Transparent Data Encryption (TDE) to ensure",
    "The encryption parameters are stored in the master database and, on startup, are read into memory",
    "The encryption parameters are stored in the master database and, on startup, are read into memory",
    "The \u201cTransparent\u201d part of TDS comes from the fact that there aren\u2019t client changes needed to use an",
    "The \u201cTransparent\u201d part of TDS comes from the fact that there aren\u2019t client changes needed to use an",
    "Setting up this tier of encryption requires running through a wizard in SQL Server Management Studio",
    "Setting up this tier of encryption requires running through a wizard in SQL Server Management Studio",
    "158",
    "158",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "Figure 9-6. Selecting columns in a table to be encrypted using Always Encrypted.",
    "Figure 9-6. Selecting columns in a table to be encrypted using Always Encrypted.",
    "Client applications that read information from these encrypted columns need to make special",
    "Client applications that read information from these encrypted columns need to make special",
    "The combination of TDE and Always Encrypted, both of which can be used with client-specific keys,",
    "The combination of TDE and Always Encrypted, both of which can be used with client-specific keys,",
    "Cosmos DB",
    "Cosmos DB",
    "Cosmos DB is the newest database provided by Microsoft in Azure. It has been built from the ground",
    "Cosmos DB is the newest database provided by Microsoft in Azure. It has been built from the ground",
    "159",
    "159",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "databases and can\u2019t be disabled. Coupled with the TLS 1.2 requirement for communication, the entire",
    "databases and can\u2019t be disabled. Coupled with the TLS 1.2 requirement for communication, the entire",
    "Figure 9-7. The flow of data encryption within Cosmos DB.",
    "Figure 9-7. The flow of data encryption within Cosmos DB.",
    "While Cosmos DB doesn\u2019t provide for supplying customer encryption keys, there has been significant",
    "While Cosmos DB doesn\u2019t provide for supplying customer encryption keys, there has been significant",
    "Keeping secure",
    "Keeping secure",
    "Azure has all the tools necessary to release a highly secure product. However, a chain is only as strong",
    "Azure has all the tools necessary to release a highly secure product. However, a chain is only as strong",
    "160",
    "160",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER 9 | Cloud-native security",
    "CHAPTER  10",
    "CHAPTER  10",
    "DevOps",
    "DevOps",
    "The favorite mantra of software consultants is to answer \u201cIt depends\u201d to any question posed. It isn\u2019t",
    "The favorite mantra of software consultants is to answer \u201cIt depends\u201d to any question posed. It isn\u2019t",
    "Take, for instance, the two major schools of developing web applications: Single Page Applications",
    "Take, for instance, the two major schools of developing web applications: Single Page Applications",
    "Cloud-native applications aren\u2019t immune to that same dichotomy. They have clear advantages in",
    "Cloud-native applications aren\u2019t immune to that same dichotomy. They have clear advantages in",
    "Years ago, it wasn\u2019t uncommon for the process of moving an application from development to",
    "Years ago, it wasn\u2019t uncommon for the process of moving an application from development to",
    "It\u2019s now fairly well established that being able to release software rapidly gives fast-moving companies",
    "It\u2019s now fairly well established that being able to release software rapidly gives fast-moving companies",
    "The patterns and practices that enable faster, more reliable releases to deliver value to the business",
    "The patterns and practices that enable faster, more reliable releases to deliver value to the business",
    "DevOps emerged before microservices and it\u2019s likely that the movement towards smaller, more fit to",
    "DevOps emerged before microservices and it\u2019s likely that the movement towards smaller, more fit to",
    "161",
    "161",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "Figure 10-1 - DevOps and microservices.",
    "Figure 10-1 - DevOps and microservices.",
    "Through good DevOps practices, it\u2019s possible to realize the advantages of cloud-native applications",
    "Through good DevOps practices, it\u2019s possible to realize the advantages of cloud-native applications",
    "There\u2019s no golden hammer when it comes to DevOps. Nobody can sell a complete and all-",
    "There\u2019s no golden hammer when it comes to DevOps. Nobody can sell a complete and all-",
    "Azure DevOps",
    "Azure DevOps",
    "Azure DevOps has a long pedigree. It can trace its roots back to when Team Foundation Server first",
    "Azure DevOps has a long pedigree. It can trace its roots back to when Team Foundation Server first",
    "Azure DevOps is divided into five major components:",
    "Azure DevOps is divided into five major components:",
    "Figure 10-2 - Azure DevOps.",
    "Figure 10-2 - Azure DevOps.",
    "Azure Repos - Source code management that supports the venerable Team Foundation Version",
    "Azure Repos - Source code management that supports the venerable Team Foundation Version",
    "162",
    "162",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "Azure Boards - Provides an issue and work item tracking tool that strives to allow users to pick the",
    "Azure Boards - Provides an issue and work item tracking tool that strives to allow users to pick the",
    "Azure Pipelines - A build and release management system that supports tight integration with Azure.",
    "Azure Pipelines - A build and release management system that supports tight integration with Azure.",
    "Azure Test Plans - No QA person will be left behind with the test management and exploratory",
    "Azure Test Plans - No QA person will be left behind with the test management and exploratory",
    "Azure Artifacts - An artifact feed that allows companies to create their own, internal, versions of",
    "Azure Artifacts - An artifact feed that allows companies to create their own, internal, versions of",
    "The top-level organizational unit in Azure DevOps is known as a Project. Within each project the",
    "The top-level organizational unit in Azure DevOps is known as a Project. Within each project the",
    "Fortunately, development teams have many options when selecting a repository. One of them is",
    "Fortunately, development teams have many options when selecting a repository. One of them is",
    "GitHub Actions",
    "GitHub Actions",
    "Founded in 2009, GitHub is a widely popular web-based repository for hosting projects,",
    "Founded in 2009, GitHub is a widely popular web-based repository for hosting projects,",
    "As GitHub evolves, it too is adding DevOps features. For example, GitHub has its own continuous",
    "As GitHub evolves, it too is adding DevOps features. For example, GitHub has its own continuous",
    "GitHub has over 40 million users, making it the largest host of source code in the world. In October of",
    "GitHub has over 40 million users, making it the largest host of source code in the world. In October of",
    "Source control",
    "Source control",
    "Organizing the code for a cloud-native application can be challenging. Instead of a single giant",
    "Organizing the code for a cloud-native application can be challenging. Instead of a single giant",
    "163",
    "163",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "question. There are examples of successful applications using different kinds of layouts, but two",
    "question. There are examples of successful applications using different kinds of layouts, but two",
    "Before getting down into the actual source control itself, it\u2019s probably worth deciding on how many",
    "Before getting down into the actual source control itself, it\u2019s probably worth deciding on how many",
    "Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.",
    "Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.",
    "Figure 10-3 - One vs. many repositories.",
    "Figure 10-3 - One vs. many repositories.",
    "Repository per microservice",
    "Repository per microservice",
    "At first glance, this approach seems like the most logical approach to splitting up the source code for",
    "At first glance, this approach seems like the most logical approach to splitting up the source code for",
    "164",
    "164",
    "Instructions for building and maintaining the application can be added to a README file at",
    "Instructions for building and maintaining the application can be added to a README file at",
    "Every service is located in a logical place, easily found by knowing the name of the service.",
    "Every service is located in a logical place, easily found by knowing the name of the service.",
    "Builds can easily be set up such that they\u2019re only triggered when a change is made to the",
    "Builds can easily be set up such that they\u2019re only triggered when a change is made to the",
    "The number of changes coming into a repository is limited to the small number of developers",
    "The number of changes coming into a repository is limited to the small number of developers",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "5.",
    "5.",
    "Security is easy to set up by restricting the repositories to which developers have read and",
    "Security is easy to set up by restricting the repositories to which developers have read and",
    "Repository level settings can be changed by the owning team with a minimum of discussion",
    "Repository level settings can be changed by the owning team with a minimum of discussion",
    "One of the key ideas behind microservices is that services should be siloed and separated from each",
    "One of the key ideas behind microservices is that services should be siloed and separated from each",
    "However, this approach isn\u2019t without its issues. One of the more gnarly development problems of our",
    "However, this approach isn\u2019t without its issues. One of the more gnarly development problems of our",
    "If a dependency is updated, then downstream packages must also update this dependency.",
    "If a dependency is updated, then downstream packages must also update this dependency.",
    "There are libraries that are depended upon by a wide variety of projects. By dividing the microservices",
    "There are libraries that are depended upon by a wide variety of projects. By dividing the microservices",
    "Another disadvantage presents itself when moving code between services. Although it would be nice",
    "Another disadvantage presents itself when moving code between services. Although it would be nice",
    "The final and most important disadvantage is coordinating changes. In a true microservices",
    "The final and most important disadvantage is coordinating changes. In a true microservices",
    "To do a cross-repository change requires a commit to each repository be made in succession. Each",
    "To do a cross-repository change requires a commit to each repository be made in succession. Each",
    "165",
    "165",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "An alternative to using many repositories is to put all the source code together in a giant, all knowing,",
    "An alternative to using many repositories is to put all the source code together in a giant, all knowing,",
    "Single repository",
    "Single repository",
    "In this approach, sometimes referred to as a monorepository, all the source code for every service is",
    "In this approach, sometimes referred to as a monorepository, all the source code for every service is",
    "The first advantage is that it\u2019s easier to manage dependencies between projects. Instead of relying on",
    "The first advantage is that it\u2019s easier to manage dependencies between projects. Instead of relying on",
    "When moving code between projects, it\u2019s now easier to preserve the history as the files will be",
    "When moving code between projects, it\u2019s now easier to preserve the history as the files will be",
    "Another advantage is that wide ranging changes that cross service boundaries can be made in a",
    "Another advantage is that wide ranging changes that cross service boundaries can be made in a",
    "There are many tools that can perform static analysis of code to detect insecure programming",
    "There are many tools that can perform static analysis of code to detect insecure programming",
    "There are also many disadvantages to the single repository approach. One of the most worrying ones",
    "There are also many disadvantages to the single repository approach. One of the most worrying ones",
    "The size of the single repository is likely to become unmanageable rapidly. This presents some",
    "The size of the single repository is likely to become unmanageable rapidly. This presents some",
    "Frequently the argument for using a single repository boils down to an argument that Facebook or",
    "Frequently the argument for using a single repository boils down to an argument that Facebook or",
    "In the end, either solution can be used to host the source code for microservices. However, in most",
    "In the end, either solution can be used to host the source code for microservices. However, in most",
    "166",
    "166",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "Standard directory structure",
    "Standard directory structure",
    "Regardless of the single versus multiple repositories debate each service will have its own directory.",
    "Regardless of the single versus multiple repositories debate each service will have its own directory.",
    "Figure 10-4 - Standard directory structure.",
    "Figure 10-4 - Standard directory structure.",
    "Whenever a new project is created, a template that puts in place the correct structure should be used.",
    "Whenever a new project is created, a template that puts in place the correct structure should be used.",
    "There are many tools that can provide templating for an entire directory, containing several source",
    "There are many tools that can provide templating for an entire directory, containing several source",
    "Task management",
    "Task management",
    "Managing tasks in any project can be difficult. Up front there are countless questions to be answered",
    "Managing tasks in any project can be difficult. Up front there are countless questions to be answered",
    "Cloud-native applications tend to be smaller than traditional software products or at least they\u2019re",
    "Cloud-native applications tend to be smaller than traditional software products or at least they\u2019re",
    "167",
    "167",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "Azure DevOps comes with a number of popular templates pre-configured. In the most basic",
    "Azure DevOps comes with a number of popular templates pre-configured. In the most basic",
    "One of the more important parts of Agile methodologies is self-introspection at regular intervals.",
    "One of the more important parts of Agile methodologies is self-introspection at regular intervals.",
    "The stages in the boards aren\u2019t the only organizational tool. Depending on the configuration of the",
    "The stages in the boards aren\u2019t the only organizational tool. Depending on the configuration of the",
    "Figure 10-5 - Task in Azure DevOps.",
    "Figure 10-5 - Task in Azure DevOps.",
    "The description field supports the normal styles you\u2019d expect (bold, italic underscore and strike",
    "The description field supports the normal styles you\u2019d expect (bold, italic underscore and strike",
    "Tasks can be rolled up into features, which define a larger unit of work. Features, in turn, can be rolled",
    "Tasks can be rolled up into features, which define a larger unit of work. Features, in turn, can be rolled",
    "168",
    "168",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "Figure 10-6 - Work item in Azure DevOps.",
    "Figure 10-6 - Work item in Azure DevOps.",
    "There are different kinds of views into the issues in Azure Boards. Items that aren\u2019t yet scheduled",
    "There are different kinds of views into the issues in Azure Boards. Items that aren\u2019t yet scheduled",
    "Figure 10-7 - Board in Azure DevOps.",
    "Figure 10-7 - Board in Azure DevOps.",
    "By now, it should be apparent that there\u2019s a great deal of power in the Boards in Azure DevOps. For",
    "By now, it should be apparent that there\u2019s a great deal of power in the Boards in Azure DevOps. For",
    "CI/CD pipelines",
    "CI/CD pipelines",
    "Almost no change in the software development life cycle has been so revolutionary as the advent of",
    "Almost no change in the software development life cycle has been so revolutionary as the advent of",
    "169",
    "169",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "repository and find that it didn\u2019t pass tests or couldn\u2019t even be built. This resulted in tracking down",
    "repository and find that it didn\u2019t pass tests or couldn\u2019t even be built. This resulted in tracking down",
    "Traditionally shipping software to the production environment required extensive documentation and",
    "Traditionally shipping software to the production environment required extensive documentation and",
    "Figure 10-8 - Checklist.",
    "Figure 10-8 - Checklist.",
    "The sister of continuous integration is continuous delivery in which the freshly built packages are",
    "The sister of continuous integration is continuous delivery in which the freshly built packages are",
    "The environment to which continuous delivery delivers might be a test environment or, as is being",
    "The environment to which continuous delivery delivers might be a test environment or, as is being",
    "The importance of automating the build and delivery process is accentuated by cloud-native",
    "The importance of automating the build and delivery process is accentuated by cloud-native",
    "Azure Builds",
    "Azure Builds",
    "Azure DevOps provides a set of tools to make continuous integration and deployment easier than",
    "Azure DevOps provides a set of tools to make continuous integration and deployment easier than",
    "170",
    "170",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "wide range of development tools for not just .NET development but for everything from Java to",
    "wide range of development tools for not just .NET development but for everything from Java to",
    "DevOps includes a wide range of out of the box build definitions that can be customized for any build.",
    "DevOps includes a wide range of out of the box build definitions that can be customized for any build.",
    "name: $(rev:r)",
    "name: $(rev:r)",
    "variables:",
    "variables:",
    "pool:",
    "pool:",
    "msbuild",
    "msbuild",
    "visualstudio",
    "visualstudio",
    "vstest",
    "vstest",
    "steps:",
    "steps:",
    "task: NuGetToolInstaller@0",
    "task: NuGetToolInstaller@0",
    "task: NuGetCommand@2",
    "task: NuGetCommand@2",
    "task: VSBuild@1",
    "task: VSBuild@1",
    "task: VSTest@2",
    "task: VSTest@2",
    "task: CopyFiles@2",
    "task: CopyFiles@2",
    "171",
    "171",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "SourceFolder: UITests",
    "SourceFolder: UITests",
    "task: PublishBuildArtifacts@1",
    "task: PublishBuildArtifacts@1",
    "Figure 10-9 - A sample azure-pipelines.yml",
    "Figure 10-9 - A sample azure-pipelines.yml",
    "This build definition uses a number of built-in tasks that make creating builds as simple as building a",
    "This build definition uses a number of built-in tasks that make creating builds as simple as building a",
    "Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build.",
    "Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build.",
    "The end result of a build is a collection of files known as build artifacts. These artifacts can be passed",
    "The end result of a build is a collection of files known as build artifacts. These artifacts can be passed",
    "Azure DevOps releases",
    "Azure DevOps releases",
    "Builds take care of compiling the software into a shippable package, but the artifacts still need to be",
    "Builds take care of compiling the software into a shippable package, but the artifacts still need to be",
    "Figure 10-10 - Release pipeline",
    "Figure 10-10 - Release pipeline",
    "Each stage in the build can be automatically triggered by the completion of the previous phase. In",
    "Each stage in the build can be automatically triggered by the completion of the previous phase. In",
    "172",
    "172",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "makes into production. These gates allow for manual quality checks and also for compliance with any",
    "makes into production. These gates allow for manual quality checks and also for compliance with any",
    "Everybody gets a build pipeline",
    "Everybody gets a build pipeline",
    "There\u2019s no cost to configuring many build pipelines, so it\u2019s advantageous to have at least one build",
    "There\u2019s no cost to configuring many build pipelines, so it\u2019s advantageous to have at least one build",
    "Versioning releases",
    "Versioning releases",
    "One drawback to using the Releases functionality is that it can\u2019t be defined in a checked-in azure-",
    "One drawback to using the Releases functionality is that it can\u2019t be defined in a checked-in azure-",
    "Feature flags",
    "Feature flags",
    "In chapter 1, we affirmed that cloud native is much about speed and agility. Users expect rapid",
    "In chapter 1, we affirmed that cloud native is much about speed and agility. Users expect rapid",
    "Feature flags are built upon conditional logic that control visibility of functionality for users at run",
    "Feature flags are built upon conditional logic that control visibility of functionality for users at run",
    "Other use cases for feature flags include:",
    "Other use cases for feature flags include:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Restrict premium functionality to specific customer groups willing to pay higher subscription",
    "Restrict premium functionality to specific customer groups willing to pay higher subscription",
    "Stabilize a system by quickly deactivating a problem feature, avoiding the risks of a rollback or",
    "Stabilize a system by quickly deactivating a problem feature, avoiding the risks of a rollback or",
    "Disable an optional feature with high resource consumption during peak usage periods.",
    "Disable an optional feature with high resource consumption during peak usage periods.",
    "Conduct experimental feature releases to small user segments to validate feasibility and",
    "Conduct experimental feature releases to small user segments to validate feasibility and",
    "Feature flags also promote trunk-based development. It\u2019s a source-control branching model where",
    "Feature flags also promote trunk-based development. It\u2019s a source-control branching model where",
    "173",
    "173",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "Implementing feature flags",
    "Implementing feature flags",
    "At its core, a feature flag is a reference to a simple decision object. It returns a Boolean state of on or",
    "At its core, a feature flag is a reference to a simple decision object. It returns a Boolean state of on or",
    "if (featureFlag) {",
    "if (featureFlag) {",
    "Figure 10-11 - Simple feature flag implementation.",
    "Figure 10-11 - Simple feature flag implementation.",
    "Note how this approach separates the decision logic from the feature code.",
    "Note how this approach separates the decision logic from the feature code.",
    "In chapter 1, we discussed the Twelve-Factor App. The guidance recommended keeping configuration",
    "In chapter 1, we discussed the Twelve-Factor App. The guidance recommended keeping configuration",
    "Azure App Configuration provides a centralized repository for feature flags. With it, you define",
    "Azure App Configuration provides a centralized repository for feature flags. With it, you define",
    "Feature flags can be easily implemented in an ASP.NET Core service. Installing the .NET Feature",
    "Feature flags can be easily implemented in an ASP.NET Core service. Installing the .NET Feature",
    "Once configured in your Startup class, you can add feature flag functionality at the controller, action,",
    "Once configured in your Startup class, you can add feature flag functionality at the controller, action,",
    "[",
    "[",
    "[",
    "[",
    "Figure 10-12 - Feature flag implementation in a controller and action.",
    "Figure 10-12 - Feature flag implementation in a controller and action.",
    "If a feature flag is disabled, the user will receive a 404 (Not Found) status code with no response body.",
    "If a feature flag is disabled, the user will receive a 404 (Not Found) status code with no response body.",
    "Feature flags can also be injected directly into C# classes. Figure 10-13 shows feature flag injection:",
    "Feature flags can also be injected directly into C# classes. Figure 10-13 shows feature flag injection:",
    "174",
    "174",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "public class ProductController : Controller",
    "public class ProductController : Controller",
    "}",
    "}",
    "Figure 10-13 - Feature flag injection into a class.",
    "Figure 10-13 - Feature flag injection into a class.",
    "The Feature Management libraries manage the feature flag lifecycle behind the scenes. For example,",
    "The Feature Management libraries manage the feature flag lifecycle behind the scenes. For example,",
    "Infrastructure as code",
    "Infrastructure as code",
    "Cloud-native systems embrace microservices, containers, and modern system design to achieve speed",
    "Cloud-native systems embrace microservices, containers, and modern system design to achieve speed",
    "Modern cloud-native applications embrace the widely accepted practice of Infrastructure as Code, or",
    "Modern cloud-native applications embrace the widely accepted practice of Infrastructure as Code, or",
    "Tools like Azure Resource Manager (ARM), Terraform, and the Azure Command Line Interface (CLI)",
    "Tools like Azure Resource Manager (ARM), Terraform, and the Azure Command Line Interface (CLI)",
    "Azure Resource Manager templates",
    "Azure Resource Manager templates",
    "ARM stands for Azure Resource Manager. It\u2019s an API provisioning engine that is built into Azure and",
    "ARM stands for Azure Resource Manager. It\u2019s an API provisioning engine that is built into Azure and",
    "Azure Resource Manager templates are a JSON-based language for defining various resources in",
    "Azure Resource Manager templates are a JSON-based language for defining various resources in",
    "{",
    "{",
    "175",
    "175",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "01/deploymentTemplate.json#",
    "01/deploymentTemplate.json#",
    "Figure 10-14 - The schema for a Resource Manager template",
    "Figure 10-14 - The schema for a Resource Manager template",
    "Within this template, one might define a storage container inside the resources section like so:",
    "Within this template, one might define a storage container inside the resources section like so:",
    "\"",
    "\"",
    "Figure 10-15 - An example of a storage account defined in a Resource Manager template",
    "Figure 10-15 - An example of a storage account defined in a Resource Manager template",
    "An ARM template can be parameterized with dynamic environment and configuration information.",
    "An ARM template can be parameterized with dynamic environment and configuration information.",
    "There are many examples of ARM templates available in the Azure Quickstart Templates project on",
    "There are many examples of ARM templates available in the Azure Quickstart Templates project on",
    "Resource Manager templates can be run in many of ways. Perhaps the simplest way is to simply paste",
    "Resource Manager templates can be run in many of ways. Perhaps the simplest way is to simply paste",
    "Terraform",
    "Terraform",
    "Cloud-native applications are often constructed to be cloud agnostic. Being so means the application",
    "Cloud-native applications are often constructed to be cloud agnostic. Being so means the application",
    "176",
    "176",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "Terraform is a commercial templating tool that can provision cloud-native applications across all the",
    "Terraform is a commercial templating tool that can provision cloud-native applications across all the",
    "An example Terraform file that does the same as the previous Resource Manager template (Figure 10-",
    "An example Terraform file that does the same as the previous Resource Manager template (Figure 10-",
    "provider ",
    "provider ",
    "resource ",
    "resource ",
    "resource ",
    "resource ",
    "}",
    "}",
    "Figure 10-16 - An example of a Resource Manager template",
    "Figure 10-16 - An example of a Resource Manager template",
    "Terraform also provides intuitive error messages for problem templates. There\u2019s also a handy validate",
    "Terraform also provides intuitive error messages for problem templates. There\u2019s also a handy validate",
    "As with Resource Manager templates, command-line tools are available to deploy Terraform",
    "As with Resource Manager templates, command-line tools are available to deploy Terraform",
    "Sometimes Terraform and ARM templates output meaningful values, such as a connection string to a",
    "Sometimes Terraform and ARM templates output meaningful values, such as a connection string to a",
    "Azure CLI Scripts and Tasks",
    "Azure CLI Scripts and Tasks",
    "Finally, you can leverage Azure CLI to declaratively script your cloud infrastructure. Azure CLI scripts",
    "Finally, you can leverage Azure CLI to declaratively script your cloud infrastructure. Azure CLI scripts",
    "Azure CLI scripts work well when you need to tear down and redeploy your infrastructure. Updating",
    "Azure CLI scripts work well when you need to tear down and redeploy your infrastructure. Updating",
    "These scripts can also be embedded in Azure DevOps pipelines as Azure CLI tasks. Executing the",
    "These scripts can also be embedded in Azure DevOps pipelines as Azure CLI tasks. Executing the",
    "177",
    "177",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "Figure 10-17 shows a YAML snippet that lists the version of Azure CLI and the details of the",
    "Figure 10-17 shows a YAML snippet that lists the version of Azure CLI and the details of the",
    "task: AzureCLI@2",
    "task: AzureCLI@2",
    "Figure 10-17 - Azure CLI script",
    "Figure 10-17 - Azure CLI script",
    "In the article, What is Infrastructure as Code, Author Sam Guckenheimer describes how, \u201cTeams who",
    "In the article, What is Infrastructure as Code, Author Sam Guckenheimer describes how, \u201cTeams who",
    "Cloud Native Application Bundles",
    "Cloud Native Application Bundles",
    "A key property of cloud-native applications is that they leverage the capabilities of the cloud to speed",
    "A key property of cloud-native applications is that they leverage the capabilities of the cloud to speed",
    "The Docker containers may run on Kubernetes using a Helm Chart for deployment. The Azure",
    "The Docker containers may run on Kubernetes using a Helm Chart for deployment. The Azure",
    "Cloud Native Application Bundles (CNABs) are a joint effort by many community-minded companies",
    "Cloud Native Application Bundles (CNABs) are a joint effort by many community-minded companies",
    "The effort was announced in December of 2018, so there\u2019s still a fair bit of work to do to expose the",
    "The effort was announced in December of 2018, so there\u2019s still a fair bit of work to do to expose the",
    "The CNABs can contain different kinds of installation technologies. This aspect allows things like Helm",
    "The CNABs can contain different kinds of installation technologies. This aspect allows things like Helm",
    "178",
    "178",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "The core of a CNAB is a file called bundle.json. This file defines the contents of the bundle, be they",
    "The core of a CNAB is a file called bundle.json. This file defines the contents of the bundle, be they",
    "{",
    "{",
    "Figure 10-18 - An example Terraform file",
    "Figure 10-18 - An example Terraform file",
    "The bundle.json also defines a set of parameters that are passed down into the Terraform.",
    "The bundle.json also defines a set of parameters that are passed down into the Terraform.",
    "The CNAB format is also flexible, allowing it to be used against any cloud. It can even be used against",
    "The CNAB format is also flexible, allowing it to be used against any cloud. It can even be used against",
    "179",
    "179",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "DevOps Decisions",
    "DevOps Decisions",
    "There are so many great tools in the DevOps space these days and even more fantastic books and",
    "There are so many great tools in the DevOps space these days and even more fantastic books and",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Azure DevOps",
    "Azure DevOps",
    "Azure Resource Manager",
    "Azure Resource Manager",
    "Terraform",
    "Terraform",
    "Azure CLI",
    "Azure CLI",
    "180",
    "180",
    "CHAPTER 10 | DevOps",
    "CHAPTER 10 | DevOps",
    "CHAPTER  11",
    "CHAPTER  11",
    "Summary: Architecting",
    "Summary: Architecting",
    "In summary, here are important conclusions from this guide:",
    "In summary, here are important conclusions from this guide:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Cloud-native is about designing modern applications that embrace rapid change, large scale,",
    "Cloud-native is about designing modern applications that embrace rapid change, large scale,",
    "The Cloud Native Computing Foundation (CNCF) is an influential open-source consortium",
    "The Cloud Native Computing Foundation (CNCF) is an influential open-source consortium",
    "CNCF guidelines recommend that cloud-native applications embrace six important pillars as",
    "CNCF guidelines recommend that cloud-native applications embrace six important pillars as",
    "Figure 11-1. Cloud-native foundational pillars",
    "Figure 11-1. Cloud-native foundational pillars",
    "\u2022",
    "\u2022",
    "These cloud-native pillars include:",
    "These cloud-native pillars include:",
    "\u2013",
    "\u2013",
    "The cloud and its underlying service model",
    "The cloud and its underlying service model",
    "\u2013  Modern design principles",
    "\u2013  Modern design principles",
    "\u2013  Microservices",
    "\u2013  Microservices",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "Containerization and container orchestration",
    "Containerization and container orchestration",
    "Cloud-based backing services, such as databases and message brokers",
    "Cloud-based backing services, such as databases and message brokers",
    "Automation, including Infrastructure as Code and code deployment",
    "Automation, including Infrastructure as Code and code deployment",
    "181",
    "181",
    "CHAPTER 11 | Summary: Architecting cloud-native apps",
    "CHAPTER 11 | Summary: Architecting cloud-native apps",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Kubernetes is the hosting environment of choice for most cloud-native applications. Smaller,",
    "Kubernetes is the hosting environment of choice for most cloud-native applications. Smaller,",
    "Service communication becomes a significant design decision when constructing a cloud-",
    "Service communication becomes a significant design decision when constructing a cloud-",
    "gRPC is a modern, high-performance framework that evolves the age-old remote procedure",
    "gRPC is a modern, high-performance framework that evolves the age-old remote procedure",
    "Distributed data is a model often implemented by cloud-native applications. Applications",
    "Distributed data is a model often implemented by cloud-native applications. Applications",
    "No-SQL databases refer to high-performance, non-relational data stores. They excel in their",
    "No-SQL databases refer to high-performance, non-relational data stores. They excel in their",
    "NewSQL is an emerging database technology that combines the distributed scalability of",
    "NewSQL is an emerging database technology that combines the distributed scalability of",
    "Resiliency is the ability of your system to react to failure and still remain functional. Cloud-",
    "Resiliency is the ability of your system to react to failure and still remain functional. Cloud-",
    "Service meshes are a configurable infrastructure layer with built-in capabilities to handle",
    "Service meshes are a configurable infrastructure layer with built-in capabilities to handle",
    "Observability is a key design consideration for cloud-native applications. As services are",
    "Observability is a key design consideration for cloud-native applications. As services are",
    "182",
    "182",
    "CHAPTER 11 | Summary: Architecting cloud-native apps",
    "CHAPTER 11 | Summary: Architecting cloud-native apps",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Infrastructure as Code is a widely accepted practice that automates platform provisioning.",
    "Infrastructure as Code is a widely accepted practice that automates platform provisioning.",
    "Code automation is a requirement for cloud-native applications. Modern CI/CD systems help",
    "Code automation is a requirement for cloud-native applications. Modern CI/CD systems help",
    "183",
    "183",
    "CHAPTER 11 | Summary: Architecting cloud-native apps",
    "CHAPTER 11 | Summary: Architecting cloud-native apps"
]