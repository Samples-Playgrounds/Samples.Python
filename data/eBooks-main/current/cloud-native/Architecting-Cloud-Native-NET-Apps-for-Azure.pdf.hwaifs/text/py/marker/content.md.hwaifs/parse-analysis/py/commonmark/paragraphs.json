[
    null,
    null,
    null,
    null,
    "Robert Vettor Steve ",
    "Robert Vettor Steve ",
    null,
    null,
    "Refer ",
    "Refer ",
    "PUBLISHED BY",
    "PUBLISHED BY",
    "Microsoft Developer Division, .NET, and Visual Studio product teams",
    "Microsoft Developer Division, .NET, and Visual Studio product teams",
    "A division of Microsoft Corporation",
    "A division of Microsoft Corporation",
    "One Microsoft Way",
    "One Microsoft Way",
    "Redmond, Washington 98052-6399",
    "Redmond, Washington 98052-6399",
    "Copyright \u00a9 2023 by Microsoft Corporation",
    "Copyright \u00a9 2023 by Microsoft Corporation",
    "All rights reserved. No part of the contents of this book may be reproduced or transmitted in any form or by any means without the written permission of the publisher.",
    "All rights reserved. No part of the contents of this book may be reproduced or transmitted in any form or by any means without the written permission of the publisher.",
    "This book is provided ",
    "This book is provided ",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association or connection is intended or should be inferred.",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association or connection is intended or should be inferred.",
    "Microsoft and the trademarks listed at ",
    "Microsoft and the trademarks listed at ",
    "Mac and macOS are trademarks of Apple Inc.",
    "Mac and macOS are trademarks of Apple Inc.",
    "The Docker whale logo is a registered trademark of Docker, Inc. Used by permission.",
    "The Docker whale logo is a registered trademark of Docker, Inc. Used by permission.",
    "All other marks and logos are property of their respective owners.",
    "All other marks and logos are property of their respective owners.",
    "Authors:",
    "Authors:",
    null,
    null,
    null,
    null,
    "Participants and Reviewers:",
    "Participants and Reviewers:",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "Editors:",
    "Editors:",
    null,
    null,
    null,
    null,
    null,
    null,
    "This guide has been written to cover ",
    "This guide has been written to cover ",
    "The audience for this guide is mainly developers, development leads, and architects who are interested in learning how to build applications designed for the cloud.",
    "The audience for this guide is mainly developers, development leads, and architects who are interested in learning how to build applications designed for the cloud.",
    "A secondary audience is technical decision-makers who plan to choose whether to build their applications using a cloud-native approach.",
    "A secondary audience is technical decision-makers who plan to choose whether to build their applications using a cloud-native approach.",
    "This guide begins by defining cloud native and introducing a reference application built using cloudnative principles and technologies. Beyond these first two chapters, the rest of the book is broken up into specific chapters focused on topics common to most cloud-native applications. You can jump to any of these chapters to learn about cloud-native approaches to:",
    "This guide begins by defining cloud native and introducing a reference application built using cloudnative principles and technologies. Beyond these first two chapters, the rest of the book is broken up into specific chapters focused on topics common to most cloud-native applications. You can jump to any of these chapters to learn about cloud-native approaches to:",
    "Data and data access",
    "Data and data access",
    "Communication patterns",
    "Communication patterns",
    "Scaling and scalability",
    "Scaling and scalability",
    "Application resiliency",
    "Application resiliency",
    "Monitoring and health",
    "Monitoring and health",
    "Identity and security",
    "Identity and security",
    "DevOps",
    "DevOps",
    "This guide is available both in ",
    "This guide is available both in ",
    "| Introduction to cloud-native applications        | 1  |",
    "| Introduction to cloud-native applications        | 1  |",
    "| Azure App Configuration                                                  | 33 |",
    "| Azure App Configuration                                                  | 33 |",
    "| When does it make sense to deploy to App Service for Containers? | 55             |",
    "| When does it make sense to deploy to App Service for Containers? | 55             |",
    "| Event sourcing                                  | 94              |",
    "| Event sourcing                                  | 94              |",
    "| When to use logging                                                     | 126 |",
    "| When to use logging                                                     | 126 |",
    "| Cloud-native security                                               | 147 |",
    "| Cloud-native security                                               | 147 |",
    "| Summary: Architecting cloud-native apps | 181 |",
    "| Summary: Architecting cloud-native apps | 181 |",
    null,
    null,
    "Another day, at the office, working on ",
    "Another day, at the office, working on ",
    "Your cellphone rings. It",
    "Your cellphone rings. It",
    "But this time it",
    "But this time it",
    "The mention of the cloud, microservices, and cutting-edge technology pushes you over the edge.",
    "The mention of the cloud, microservices, and cutting-edge technology pushes you over the edge.",
    "Fast forward a few weeks and you",
    "Fast forward a few weeks and you",
    "How will you build it?",
    "How will you build it?",
    "If you follow the guidance from past 15 years, you",
    "If you follow the guidance from past 15 years, you",
    null,
    null,
    null,
    null,
    "You construct a large core application containing all of your domain logic. It includes modules such as Identity, Catalog, Ordering, and more. They directly communicate with each other within a single server process. The modules share a large relational database. The core exposes functionality via an HTML interface and a mobile app.",
    "You construct a large core application containing all of your domain logic. It includes modules such as Identity, Catalog, Ordering, and more. They directly communicate with each other within a single server process. The modules share a large relational database. The core exposes functionality via an HTML interface and a mobile app.",
    "Congratulations",
    "Congratulations",
    "Not all is bad. Monoliths offer some distinct advantages. For example, they",
    "Not all is bad. Monoliths offer some distinct advantages. For example, they",
    "build",
    "build",
    "test",
    "test",
    "deploy",
    "deploy",
    "troubleshoot",
    "troubleshoot",
    "vertically scale",
    "vertically scale",
    "Many successful apps that exist today were created as monoliths. The app is a hit and continues to evolve, iteration after iteration, adding more functionality.",
    "Many successful apps that exist today were created as monoliths. The app is a hit and continues to evolve, iteration after iteration, adding more functionality.",
    "At some point, however, you begin to feel uncomfortable. You find yourself losing control of the application. As time goes on, the feeling becomes more intense, and you eventually enter a state known as the Fear Cycle:",
    "At some point, however, you begin to feel uncomfortable. You find yourself losing control of the application. As time goes on, the feeling becomes more intense, and you eventually enter a state known as the Fear Cycle:",
    "The app has become so overwhelmingly complicated that no single person understands it.",
    "The app has become so overwhelmingly complicated that no single person understands it.",
    "You fear making changes each change has unintended and costly side effects.",
    "You fear making changes each change has unintended and costly side effects.",
    "New features/fixes become tricky, time-consuming, and expensive to implement.",
    "New features/fixes become tricky, time-consuming, and expensive to implement.",
    "Each release becomes as small as possible and requires a full deployment of the entire application.",
    "Each release becomes as small as possible and requires a full deployment of the entire application.",
    "One unstable component can crash the entire system.",
    "One unstable component can crash the entire system.",
    "New technologies and frameworks aren",
    "New technologies and frameworks aren",
    "It",
    "It",
    "Architectural erosion sets in as the code base deteriorates with never-ending ",
    "Architectural erosion sets in as the code base deteriorates with never-ending ",
    "Finally, the ",
    "Finally, the ",
    "Many organizations have addressed this monolithic fear cycle by adopting a cloud-native approach to building systems. Figure 1-2 shows the same system built applying cloud-native techniques and practices.",
    "Many organizations have addressed this monolithic fear cycle by adopting a cloud-native approach to building systems. Figure 1-2 shows the same system built applying cloud-native techniques and practices.",
    null,
    null,
    null,
    null,
    "Note how the application is decomposed across a set of small isolated microservices. Each service is self-contained and encapsulates its own code, data, and dependencies. Each is deployed in a software container and managed by a container orchestrator. Instead of a large relational database, each service owns it own datastore, the type of which vary based upon the data needs. Note how some services depend on a relational database, but other on NoSQL databases. One service stores its state in a distributed cache. Note how all traffic routes through an API Gateway service that is responsible for routing traffic to the core back-end services and enforcing many cross-cutting concerns. Most importantly, the application takes full advantage of the scalability, availability, and resiliency features found in modern cloud platforms.",
    "Note how the application is decomposed across a set of small isolated microservices. Each service is self-contained and encapsulates its own code, data, and dependencies. Each is deployed in a software container and managed by a container orchestrator. Instead of a large relational database, each service owns it own datastore, the type of which vary based upon the data needs. Note how some services depend on a relational database, but other on NoSQL databases. One service stores its state in a distributed cache. Note how all traffic routes through an API Gateway service that is responsible for routing traffic to the core back-end services and enforcing many cross-cutting concerns. Most importantly, the application takes full advantage of the scalability, availability, and resiliency features found in modern cloud platforms.",
    "Hmm\u2026 We just used the term, ",
    "Hmm\u2026 We just used the term, ",
    "Fortunately it",
    "Fortunately it",
    "Within a short time, cloud native has become a driving trend in the software industry. It",
    "Within a short time, cloud native has become a driving trend in the software industry. It",
    "Unlike the continuous hype that drives our industry, cloud native is ",
    "Unlike the continuous hype that drives our industry, cloud native is ",
    "cloud-native computing ubiquitous across technology and cloud stacks. As one of the most influential open-source groups, it hosts many of the fastest-growing open source-projects in GitHub. These projects include ",
    "cloud-native computing ubiquitous across technology and cloud stacks. As one of the most influential open-source groups, it hosts many of the fastest-growing open source-projects in GitHub. These projects include ",
    "The CNCF fosters an ecosystem of open-source and vendor-neutrality. Following that lead, this book presents cloud-native principles, patterns, and best practices that are technology agnostic. At the same time, we discuss the services and infrastructure available in the Microsoft Azure cloud for constructing cloud-native systems.",
    "The CNCF fosters an ecosystem of open-source and vendor-neutrality. Following that lead, this book presents cloud-native principles, patterns, and best practices that are technology agnostic. At the same time, we discuss the services and infrastructure available in the Microsoft Azure cloud for constructing cloud-native systems.",
    "<span id=\"page-13-0\">",
    "<span id=\"page-13-0\">",
    "Stop what you",
    "Stop what you",
    "Let",
    "Let",
    null,
    null,
    "The ",
    "The ",
    null,
    null,
    null,
    null,
    "Cloud native is about ",
    "Cloud native is about ",
    "At the same time, business systems have also become increasingly complex with users demanding more. They expect rapid responsiveness, innovative features, and zero downtime. Performance problems, recurring errors, and the inability to move fast are no longer acceptable. Your users will visit your competitor. Cloud-native systems are designed to embrace rapid change, large scale, and resilience.",
    "At the same time, business systems have also become increasingly complex with users demanding more. They expect rapid responsiveness, innovative features, and zero downtime. Performance problems, recurring errors, and the inability to move fast are no longer acceptable. Your users will visit your competitor. Cloud-native systems are designed to embrace rapid change, large scale, and resilience.",
    "Here are some companies who have implemented cloud-native techniques. Think about the speed, agility, and scalability they",
    "Here are some companies who have implemented cloud-native techniques. Think about the speed, agility, and scalability they",
    "| Company | Experience                                                                      |",
    "| Company | Experience                                                                      |",
    "| Company | Experience                                 |",
    "| Company | Experience                                 |",
    "As you can see, Netflix, Uber, and, WeChat expose cloud-native systems that consist of many independent services. This architectural style enables them to rapidly respond to market conditions. They instantaneously update small areas of a live, complex application, without a full redeployment. They individually scale services as needed.",
    "As you can see, Netflix, Uber, and, WeChat expose cloud-native systems that consist of many independent services. This architectural style enables them to rapidly respond to market conditions. They instantaneously update small areas of a live, complex application, without a full redeployment. They individually scale services as needed.",
    "The speed and agility of cloud native derive from many factors. Foremost is ",
    "The speed and agility of cloud native derive from many factors. Foremost is ",
    null,
    null,
    null,
    null,
    "Let",
    "Let",
    "Cloud-native systems take full advantage of the cloud service model.",
    "Cloud-native systems take full advantage of the cloud service model.",
    "Designed to thrive in a dynamic, virtualized cloud environment, these systems make extensive use of ",
    "Designed to thrive in a dynamic, virtualized cloud environment, these systems make extensive use of ",
    "Consider the widely accepted DevOps concept of ",
    "Consider the widely accepted DevOps concept of ",
    "The ",
    "The ",
    "The cattle model embraces ",
    "The cattle model embraces ",
    "Cloud-native systems embrace the Cattle service model. They continue to run as the infrastructure scales in or out with no regard to the machines upon which they",
    "Cloud-native systems embrace the Cattle service model. They continue to run as the infrastructure scales in or out with no regard to the machines upon which they",
    "The Azure cloud platform supports this type of highly elastic infrastructure with automatic scaling, self-healing, and monitoring capabilities.",
    "The Azure cloud platform supports this type of highly elastic infrastructure with automatic scaling, self-healing, and monitoring capabilities.",
    "How would you design a cloud-native app? What would your architecture look like? To what principles, patterns, and best practices would you adhere? What infrastructure and operational concerns would be important?",
    "How would you design a cloud-native app? What would your architecture look like? To what principles, patterns, and best practices would you adhere? What infrastructure and operational concerns would be important?",
    "A widely accepted methodology for constructing cloud-based applications is the ",
    "A widely accepted methodology for constructing cloud-based applications is the ",
    "While applicable to any web-based application, many practitioners consider Twelve-Factor a solid foundation for building cloud-native apps. Systems built upon these principles can deploy and scale rapidly and add features to react quickly to market changes.",
    "While applicable to any web-based application, many practitioners consider Twelve-Factor a solid foundation for building cloud-native apps. Systems built upon these principles can deploy and scale rapidly and add features to react quickly to market changes.",
    "The following table highlights the Twelve-Factor methodology:",
    "The following table highlights the Twelve-Factor methodology:",
    "| Factor                  | Explanation                                                                                                                                                                                                                                           |",
    "| Factor                  | Explanation                                                                                                                                                                                                                                           |",
    "| Factor                     | Explanation                                                                                                                                                                                                                                                                                                          |",
    "| Factor                     | Explanation                                                                                                                                                                                                                                                                                                          |",
    "In the book, ",
    "In the book, ",
    "| New Factor                            | Explanation                                                                                                                                                                                                                   |",
    "| New Factor                            | Explanation                                                                                                                                                                                                                   |",
    "We",
    "We",
    "Designing and deploying cloud-based workloads can be challenging, especially when implementing cloud-native architecture. Microsoft provides industry standard best practices to help you and your team deliver robust cloud solutions.",
    "Designing and deploying cloud-based workloads can be challenging, especially when implementing cloud-native architecture. Microsoft provides industry standard best practices to help you and your team deliver robust cloud solutions.",
    "The ",
    "The ",
    "| Tenets                 | Description                                                                                                                                                                                                                                                                               |",
    "| Tenets                 | Description                                                                                                                                                                                                                                                                               |",
    "| Tenets      | Description                                                                                                                                                                                                                                                                          |",
    "| Tenets      | Description                                                                                                                                                                                                                                                                          |",
    "To get started, Microsoft provides a set of ",
    "To get started, Microsoft provides a set of ",
    "Cloud-native systems embrace microservices, a popular architectural style for constructing modern applications.",
    "Cloud-native systems embrace microservices, a popular architectural style for constructing modern applications.",
    "Built as a distributed set of small, independent services that interact through a shared fabric, microservices share the following characteristics:",
    "Built as a distributed set of small, independent services that interact through a shared fabric, microservices share the following characteristics:",
    "Each implements a specific business capability within a larger domain context.",
    "Each implements a specific business capability within a larger domain context.",
    "Each is developed autonomously and can be deployed independently.",
    "Each is developed autonomously and can be deployed independently.",
    "Each is self-contained encapsulating its own data storage technology, dependencies, and programming platform.",
    "Each is self-contained encapsulating its own data storage technology, dependencies, and programming platform.",
    "Each runs in its own process and communicates with others using standard communication protocols such as HTTP/HTTPS, gRPC, WebSockets, or ",
    "Each runs in its own process and communicates with others using standard communication protocols such as HTTP/HTTPS, gRPC, WebSockets, or ",
    "They compose together to form an application.",
    "They compose together to form an application.",
    "Figure 1-4 contrasts a monolithic application approach with a microservices approach. Note how the monolith is composed of a layered architecture, which executes in a single process. It typically consumes a relational database. The microservice approach, however, segregates functionality into independent services, each with its own logic, state, and data. Each microservice hosts its own datastore.",
    "Figure 1-4 contrasts a monolithic application approach with a microservices approach. Note how the monolith is composed of a layered architecture, which executes in a single process. It typically consumes a relational database. The microservice approach, however, segregates functionality into independent services, each with its own logic, state, and data. Each microservice hosts its own datastore.",
    null,
    null,
    null,
    null,
    "Note how microservices promote the ",
    "Note how microservices promote the ",
    null,
    null,
    "Microservices provide agility.",
    "Microservices provide agility.",
    "Earlier in the chapter, we compared an eCommerce application built as a monolith to that with microservices. In the example, we saw some clear benefits:",
    "Earlier in the chapter, we compared an eCommerce application built as a monolith to that with microservices. In the example, we saw some clear benefits:",
    "Each microservice has an autonomous lifecycle and can evolve independently and deploy frequently. You don",
    "Each microservice has an autonomous lifecycle and can evolve independently and deploy frequently. You don",
    "Each microservice can scale independently. Instead of scaling the entire application as a single unit, you scale out only those services that require more processing power to meet desired performance levels and service-level agreements. Fine-grained scaling provides for greater control of your system and helps reduce overall costs as you scale portions of your system, not everything.",
    "Each microservice can scale independently. Instead of scaling the entire application as a single unit, you scale out only those services that require more processing power to meet desired performance levels and service-level agreements. Fine-grained scaling provides for greater control of your system and helps reduce overall costs as you scale portions of your system, not everything.",
    "An excellent reference guide for understanding microservices is ",
    "An excellent reference guide for understanding microservices is ",
    "Microservices can be created upon any modern development platform.",
    "Microservices can be created upon any modern development platform.",
    "The Microsoft .NET platform is an excellent choice. Free and open source, it has many built-in features that simplify microservice development. .NET is cross-platform. Applications can be built and run on Windows, macOS, and most flavors of Linux.",
    "The Microsoft .NET platform is an excellent choice. Free and open source, it has many built-in features that simplify microservice development. .NET is cross-platform. Applications can be built and run on Windows, macOS, and most flavors of Linux.",
    ".NET is highly performant and has scored well in comparison to Node.js and other competing platforms. Interestingly, ",
    ".NET is highly performant and has scored well in comparison to Node.js and other competing platforms. Interestingly, ",
    null,
    null,
    "While distributed cloud-native microservices can provide immense agility and speed, they present many challenges:",
    "While distributed cloud-native microservices can provide immense agility and speed, they present many challenges:",
    "How will front-end client applications communicate with backed-end core microservices? Will you allow direct communication? Or, might you abstract the back-end microservices with a gateway facade that provides flexibility, control, and security?",
    "How will front-end client applications communicate with backed-end core microservices? Will you allow direct communication? Or, might you abstract the back-end microservices with a gateway facade that provides flexibility, control, and security?",
    "How will back-end core microservices communicate with each other? Will you allow direct HTTP calls that can increase coupling and impact performance and agility? Or might you consider decoupled messaging with queue and topic technologies?",
    "How will back-end core microservices communicate with each other? Will you allow direct HTTP calls that can increase coupling and impact performance and agility? Or might you consider decoupled messaging with queue and topic technologies?",
    "Communication is covered in the ",
    "Communication is covered in the ",
    "A microservices architecture moves your system from in-process to out-of-process network communication. In a distributed architecture, what happens when Service B isn",
    "A microservices architecture moves your system from in-process to out-of-process network communication. In a distributed architecture, what happens when Service B isn",
    "Resiliency is covered in the ",
    "Resiliency is covered in the ",
    "By design, each microservice encapsulates its own data, exposing operations via its public interface. If so, how do you query data or implement a transaction across multiple services?",
    "By design, each microservice encapsulates its own data, exposing operations via its public interface. If so, how do you query data or implement a transaction across multiple services?",
    "Distributed data is covered in the ",
    "Distributed data is covered in the ",
    "How will your microservices securely store and manage secrets and sensitive configuration data?",
    "How will your microservices securely store and manage secrets and sensitive configuration data?",
    "Secrets are covered in detail ",
    "Secrets are covered in detail ",
    null,
    null,
    null,
    null,
    null,
    null,
    "In the top row of the figure, note how Dapr provides ",
    "In the top row of the figure, note how Dapr provides ",
    "While language-specific SDKs enhance the developer experience, Dapr is platform agnostic. Under the hood, Dapr",
    "While language-specific SDKs enhance the developer experience, Dapr is platform agnostic. Under the hood, Dapr",
    "The blue boxes across the center of the figure represent the Dapr building blocks. Each exposes prebuilt plumbing code for a distributed application capability that your application can consume.",
    "The blue boxes across the center of the figure represent the Dapr building blocks. Each exposes prebuilt plumbing code for a distributed application capability that your application can consume.",
    "The components row represents a large set of pre-defined infrastructure components that your application can consume. Think of components as infrastructure code you don",
    "The components row represents a large set of pre-defined infrastructure components that your application can consume. Think of components as infrastructure code you don",
    "The bottom row highlights the portability of Dapr and the diverse environments across which it can run.",
    "The bottom row highlights the portability of Dapr and the diverse environments across which it can run.",
    "Microsoft features a free ebook ",
    "Microsoft features a free ebook ",
    "Looking ahead, Dapr has the potential to have a profound impact on cloud-native application development.",
    "Looking ahead, Dapr has the potential to have a profound impact on cloud-native application development.",
    "It",
    "It",
    "software.",
    "software.",
    "Containerizing a microservice is simple and straightforward. The code, its dependencies, and runtime are packaged into a binary called a ",
    "Containerizing a microservice is simple and straightforward. The code, its dependencies, and runtime are packaged into a binary called a ",
    "When an application starts or scales, you transform the container image into a running container instance. The instance runs on any computer that has a ",
    "When an application starts or scales, you transform the container image into a running container instance. The instance runs on any computer that has a ",
    "Figure 1-6 shows three different microservices, each in its own container, all running on a single host.",
    "Figure 1-6 shows three different microservices, each in its own container, all running on a single host.",
    null,
    null,
    null,
    null,
    "Note how each container maintains its own set of dependencies and runtime, which can be different from one another. Here, we see different versions of the Product microservice running on the same host. Each container shares a slice of the underlying host operating system, memory, and processor, but is isolated from one another.",
    "Note how each container maintains its own set of dependencies and runtime, which can be different from one another. Here, we see different versions of the Product microservice running on the same host. Each container shares a slice of the underlying host operating system, memory, and processor, but is isolated from one another.",
    "Note how well the container model embraces the ",
    "Note how well the container model embraces the ",
    null,
    null,
    "Containers support both Linux and Windows workloads. The Azure cloud openly embraces both. Interestingly, it",
    "Containers support both Linux and Windows workloads. The Azure cloud openly embraces both. Interestingly, it",
    "While several container vendors exist, ",
    "While several container vendors exist, ",
    "Containers provide portability and guarantee consistency across environments. By encapsulating everything into a single package, you ",
    "Containers provide portability and guarantee consistency across environments. By encapsulating everything into a single package, you ",
    "You can deploy the container in any environment that hosts the Docker runtime engine. Containerized workloads also eliminate the expense of pre-configuring each environment with frameworks, software libraries, and runtime engines.",
    "You can deploy the container in any environment that hosts the Docker runtime engine. Containerized workloads also eliminate the expense of pre-configuring each environment with frameworks, software libraries, and runtime engines.",
    "By sharing the underlying operating system and host resources, a container has a much smaller footprint than a full virtual machine. The smaller size increases the ",
    "By sharing the underlying operating system and host resources, a container has a much smaller footprint than a full virtual machine. The smaller size increases the ",
    "While tools such as Docker create images and run containers, you also need tools to manage them. Container management is done with a special software program called a ",
    "While tools such as Docker create images and run containers, you also need tools to manage them. Container management is done with a special software program called a ",
    "Figure 1-7 shows management tasks that container orchestrators automate.",
    "Figure 1-7 shows management tasks that container orchestrators automate.",
    null,
    null,
    null,
    null,
    "The following table describes common orchestration tasks.",
    "The following table describes common orchestration tasks.",
    "| Tasks                  | Explanation                                                                                           |",
    "| Tasks                  | Explanation                                                                                           |",
    "| Tasks             | Explanation                                                                                                       |",
    "| Tasks             | Explanation                                                                                                       |",
    "Note how container orchestrators embrace the ",
    "Note how container orchestrators embrace the ",
    null,
    null,
    null,
    null,
    "While several container orchestrators exist, ",
    "While several container orchestrators exist, ",
    "You could host your own instance of Kubernetes, but then you",
    "You could host your own instance of Kubernetes, but then you",
    "Container orchestration is covered in detail in ",
    "Container orchestration is covered in detail in ",
    "Cloud-native systems depend upon many different ancillary resources, such as data stores, message brokers, monitoring, and identity services. These services are known as ",
    "Cloud-native systems depend upon many different ancillary resources, such as data stores, message brokers, monitoring, and identity services. These services are known as ",
    "Figure 1-8 shows many common backing services that cloud-native systems consume.",
    "Figure 1-8 shows many common backing services that cloud-native systems consume.",
    null,
    null,
    null,
    null,
    "You could host your own backing services, but then you",
    "You could host your own backing services, but then you",
    "Cloud providers offer a rich assortment of ",
    "Cloud providers offer a rich assortment of ",
    "Cloud-native systems favor managed backing services from cloud vendors. The savings in time and labor can be significant. The operational risk of hosting your own and experiencing trouble can get expensive fast.",
    "Cloud-native systems favor managed backing services from cloud vendors. The savings in time and labor can be significant. The operational risk of hosting your own and experiencing trouble can get expensive fast.",
    "A best practice is to treat a backing service as an ",
    "A best practice is to treat a backing service as an ",
    null,
    null,
    null,
    null,
    "With this pattern, a backing service can be attached and detached without code changes. You might promote a microservice from QA to a staging environment. You update the microservice configuration to point to the backing services in staging and inject the settings into your container through an environment variable.",
    "With this pattern, a backing service can be attached and detached without code changes. You might promote a microservice from QA to a staging environment. You update the microservice configuration to point to the backing services in staging and inject the settings into your container through an environment variable.",
    "Cloud vendors provide APIs for you to communicate with their proprietary backing services. These libraries encapsulate the proprietary plumbing and complexity. However, communicating directly with these APIs will tightly couple your code to that specific backing service. It",
    "Cloud vendors provide APIs for you to communicate with their proprietary backing services. These libraries encapsulate the proprietary plumbing and complexity. However, communicating directly with these APIs will tightly couple your code to that specific backing service. It",
    "On a final thought, backing services also promote the ",
    "On a final thought, backing services also promote the ",
    null,
    null,
    "Backing services are discussed in ",
    "Backing services are discussed in ",
    "As you",
    "As you",
    "Enter the widely accepted practice of ",
    "Enter the widely accepted practice of ",
    "With IaC, you automate platform provisioning and application deployment. You essentially apply software engineering practices such as testing and versioning to your DevOps practices. Your infrastructure and deployments are automated, consistent, and repeatable.",
    "With IaC, you automate platform provisioning and application deployment. You essentially apply software engineering practices such as testing and versioning to your DevOps practices. Your infrastructure and deployments are automated, consistent, and repeatable.",
    "Tools like ",
    "Tools like ",
    "Under the hood, IaC is idempotent, meaning that you can run the same script over and over without side effects. If the team needs to make a change, they edit and rerun the script. Only the updated resources are affected.",
    "Under the hood, IaC is idempotent, meaning that you can run the same script over and over without side effects. If the team needs to make a change, they edit and rerun the script. Only the updated resources are affected.",
    "In the article, ",
    "In the article, ",
    "practices and tools to deliver applications and their supporting infrastructure rapidly, reliably, and at scale.",
    "practices and tools to deliver applications and their supporting infrastructure rapidly, reliably, and at scale.",
    "The ",
    "The ",
    null,
    null,
    "Modern CI/CD systems help fulfill this principle. They provide separate build and delivery steps that help ensure consistent and quality code that",
    "Modern CI/CD systems help fulfill this principle. They provide separate build and delivery steps that help ensure consistent and quality code that",
    "Figure 1-9 shows the separation across the deployment process.",
    "Figure 1-9 shows the separation across the deployment process.",
    null,
    null,
    null,
    null,
    "In the previous figure, pay special attention to separation of tasks:",
    "In the previous figure, pay special attention to separation of tasks:",
    "The developer constructs a feature in their development environment, iterating through what is called the ",
    "The developer constructs a feature in their development environment, iterating through what is called the ",
    "When complete, that code is ",
    "When complete, that code is ",
    "The push triggers a build stage that transforms the code into a binary artifact. The work is implemented with a ",
    "The push triggers a build stage that transforms the code into a binary artifact. The work is implemented with a ",
    "The release stage picks up the binary artifact, applies external application and environment configuration information, and produces an immutable release. The release is deployed to a specified environment. The work is implemented with a ",
    "The release stage picks up the binary artifact, applies external application and environment configuration information, and produces an immutable release. The release is deployed to a specified environment. The work is implemented with a ",
    "Finally, the released feature is run in the target execution environment. Releases are immutable meaning that any change must create a new release.",
    "Finally, the released feature is run in the target execution environment. Releases are immutable meaning that any change must create a new release.",
    "Applying these practices, organizations have radically evolved how they ship software. Many have moved from quarterly releases to on-demand updates. The goal is to catch problems early in the development cycle when they",
    "Applying these practices, organizations have radically evolved how they ship software. Many have moved from quarterly releases to on-demand updates. The goal is to catch problems early in the development cycle when they",
    "Infrastructure as code and deployment automation, along with GitHub and Azure DevOps are discussed in detail in ",
    "Infrastructure as code and deployment automation, along with GitHub and Azure DevOps are discussed in detail in ",
    "Think about the apps your organization needs to build. Then, look at the existing apps in your portfolio. How many of them warrant a cloud-native architecture? All of them? Perhaps some?",
    "Think about the apps your organization needs to build. Then, look at the existing apps in your portfolio. How many of them warrant a cloud-native architecture? All of them? Perhaps some?",
    "Applying cost/benefit analysis, there",
    "Applying cost/benefit analysis, there",
    "What type of application might be a candidate for cloud native?",
    "What type of application might be a candidate for cloud native?",
    "Strategic enterprise systems that need to constantly evolve business capabilities/features",
    "Strategic enterprise systems that need to constantly evolve business capabilities/features",
    "An application that requires a high release velocity with high confidence",
    "An application that requires a high release velocity with high confidence",
    "A system where individual features must release ",
    "A system where individual features must release ",
    "An application developed by teams with expertise in different technology stacks",
    "An application developed by teams with expertise in different technology stacks",
    "An application with components that must scale independently",
    "An application with components that must scale independently",
    "Smaller, less impactful line-of-business applications might fare well with a simple monolithic architecture hosted in a Cloud PaaS environment.",
    "Smaller, less impactful line-of-business applications might fare well with a simple monolithic architecture hosted in a Cloud PaaS environment.",
    "Then there are legacy systems. While we",
    "Then there are legacy systems. While we",
    "The free Microsoft e-book ",
    "The free Microsoft e-book ",
    null,
    null,
    null,
    null,
    "Monolithic apps that are non-critical might benefit from a quick ",
    "Monolithic apps that are non-critical might benefit from a quick ",
    "Legacy apps that are critical to the business often benefit from an enhanced ",
    "Legacy apps that are critical to the business often benefit from an enhanced ",
    "Finally, monolithic apps that provide strategic enterprise functions might best benefit from a ",
    "Finally, monolithic apps that provide strategic enterprise functions might best benefit from a ",
    "If you and your team believe a cloud-native approach is appropriate, it behooves you to rationalize the decision with your organization. What exactly is the business problem that a cloud-native approach will solve? How would it align with business needs?",
    "If you and your team believe a cloud-native approach is appropriate, it behooves you to rationalize the decision with your organization. What exactly is the business problem that a cloud-native approach will solve? How would it align with business needs?",
    "Rapid releases of features with increased confidence?",
    "Rapid releases of features with increased confidence?",
    "Fine-grained scalability more efficient usage of resources?",
    "Fine-grained scalability more efficient usage of resources?",
    "Improved system resiliency?",
    "Improved system resiliency?",
    "Improved system performance?",
    "Improved system performance?",
    "More visibility into operations?",
    "More visibility into operations?",
    "Blend development platforms and data stores to arrive at the best tool for the job?",
    "Blend development platforms and data stores to arrive at the best tool for the job?",
    "Future-proof application investment?",
    "Future-proof application investment?",
    "The right migration strategy depends on organizational priorities and the systems you",
    "The right migration strategy depends on organizational priorities and the systems you",
    "In this chapter, we introduced cloud-native computing. We provided a definition along with the key capabilities that drive a cloud-native application. We looked at the types of applications that might justify this investment and effort.",
    "In this chapter, we introduced cloud-native computing. We provided a definition along with the key capabilities that drive a cloud-native application. We looked at the types of applications that might justify this investment and effort.",
    "With the introduction behind, we now dive into a much more detailed look at cloud native.",
    "With the introduction behind, we now dive into a much more detailed look at cloud native.",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "Microsoft, in partnership with leading community experts, has produced a full-featured cloud-native microservices reference application, eShopOnContainers. This application is built to showcase using .NET and Docker, and optionally Azure, Kubernetes, and Visual Studio, to build an online storefront.",
    "Microsoft, in partnership with leading community experts, has produced a full-featured cloud-native microservices reference application, eShopOnContainers. This application is built to showcase using .NET and Docker, and optionally Azure, Kubernetes, and Visual Studio, to build an online storefront.",
    null,
    null,
    null,
    null,
    "Before starting this chapter, we recommend that you download the ",
    "Before starting this chapter, we recommend that you download the ",
    "Let",
    "Let",
    "List catalog items",
    "List catalog items",
    "Filter items by type",
    "Filter items by type",
    "Filter items by brand",
    "Filter items by brand",
    "Add items to the shopping basket",
    "Add items to the shopping basket",
    "Edit or remove items from the basket",
    "Edit or remove items from the basket",
    "Checkout",
    "Checkout",
    "Register an account",
    "Register an account",
    "Sign in",
    "Sign in",
    "Sign out",
    "Sign out",
    "Review orders",
    "Review orders",
    "The application also has the following non-functional requirements:",
    "The application also has the following non-functional requirements:",
    "It needs to be highly available and it must scale automatically to meet increased traffic (and scale back down once traffic subsides).",
    "It needs to be highly available and it must scale automatically to meet increased traffic (and scale back down once traffic subsides).",
    "It should provide easy-to-use monitoring of its health and diagnostic logs to help troubleshoot any issues it encounters.",
    "It should provide easy-to-use monitoring of its health and diagnostic logs to help troubleshoot any issues it encounters.",
    "It should support an agile development process, including support for continuous integration and deployment (CI/CD).",
    "It should support an agile development process, including support for continuous integration and deployment (CI/CD).",
    "In addition to the two web front ends (traditional and Single Page Application), the application must also support mobile client apps running different kinds of operating systems.",
    "In addition to the two web front ends (traditional and Single Page Application), the application must also support mobile client apps running different kinds of operating systems.",
    "It should support cross-platform hosting and cross-platform development.",
    "It should support cross-platform hosting and cross-platform development.",
    null,
    null,
    null,
    null,
    "The eShopOnContainers application is accessible from web or mobile clients that access the application over HTTPS targeting either the ASP.NET Core MVC server application or an appropriate API Gateway. API Gateways offer several advantages, such as decoupling back-end services from individual front-end clients and providing better security. The application also makes use of a related pattern known as Backends-for-Frontends (BFF), which recommends creating separate API gateways for each front-end client. The reference architecture demonstrates breaking up the API gateways based on whether the request is coming from a web or mobile client.",
    "The eShopOnContainers application is accessible from web or mobile clients that access the application over HTTPS targeting either the ASP.NET Core MVC server application or an appropriate API Gateway. API Gateways offer several advantages, such as decoupling back-end services from individual front-end clients and providing better security. The application also makes use of a related pattern known as Backends-for-Frontends (BFF), which recommends creating separate API gateways for each front-end client. The reference architecture demonstrates breaking up the API gateways based on whether the request is coming from a web or mobile client.",
    "The application",
    "The application",
    "Each of the different microservices is designed differently, based on their individual requirements. This aspect means their technology stack may differ, although they",
    "Each of the different microservices is designed differently, based on their individual requirements. This aspect means their technology stack may differ, although they",
    null,
    null,
    null,
    null,
    "Because it uses microservices, the eShopOnContainers app includes quite a few separate projects and solutions in its GitHub repository. In addition to separate solutions and executable files, the various services are designed to run inside their own containers, both during local development and at run time in production. Figure 2-4 shows the full Visual Studio solution, in which the various different projects are organized.",
    "Because it uses microservices, the eShopOnContainers app includes quite a few separate projects and solutions in its GitHub repository. In addition to separate solutions and executable files, the various services are designed to run inside their own containers, both during local development and at run time in production. Figure 2-4 shows the full Visual Studio solution, in which the various different projects are organized.",
    null,
    null,
    null,
    null,
    "The code is organized to support the different microservices, and within each microservice, the code is broken up into domain logic, infrastructure concerns, and user interface or service endpoint. In many cases, each service",
    "The code is organized to support the different microservices, and within each microservice, the code is broken up into domain logic, infrastructure concerns, and user interface or service endpoint. In many cases, each service",
    "This book focuses on cloud-native applications built using Azure technology. To learn more about microservices best practices and how to architect microservice-based applications, read the companion book, ",
    "This book focuses on cloud-native applications built using Azure technology. To learn more about microservices best practices and how to architect microservice-based applications, read the companion book, ",
    "Although not required, Azure is well-suited to supporting the eShopOnContainers because the project was built to be a cloud-native application. The application is built with .NET, so it can run on Linux or Windows containers depending on the Docker host. The application is made up of multiple autonomous microservices, each with its own data. The different microservices showcase different approaches, ranging from simple CRUD operations to more complex DDD and CQRS patterns. Microservices communicate with clients over HTTP and with one another via message-based communication. The application supports multiple platforms for clients as well, since it adopts HTTP as a standard communication protocol and includes ASP.NET Core and Xamarin mobile apps that run on Android, iOS, and Windows platforms.",
    "Although not required, Azure is well-suited to supporting the eShopOnContainers because the project was built to be a cloud-native application. The application is built with .NET, so it can run on Linux or Windows containers depending on the Docker host. The application is made up of multiple autonomous microservices, each with its own data. The different microservices showcase different approaches, ranging from simple CRUD operations to more complex DDD and CQRS patterns. Microservices communicate with clients over HTTP and with one another via message-based communication. The application supports multiple platforms for clients as well, since it adopts HTTP as a standard communication protocol and includes ASP.NET Core and Xamarin mobile apps that run on Android, iOS, and Windows platforms.",
    "The application",
    "The application",
    null,
    null,
    null,
    null,
    "The server-side components of this architecture all map easily to Azure services.",
    "The server-side components of this architecture all map easily to Azure services.",
    "The application",
    "The application",
    "AKS provides management services for individual clusters of containers. The application will deploy separate containers for each microservice in the AKS cluster, as shown in the architecture diagram above. This approach allows each individual service to scale independently according to its resource demands. Each microservice can also be deployed independently, and ideally such deployments should incur zero system downtime.",
    "AKS provides management services for individual clusters of containers. The application will deploy separate containers for each microservice in the AKS cluster, as shown in the architecture diagram above. This approach allows each individual service to scale independently according to its resource demands. Each microservice can also be deployed independently, and ideally such deployments should incur zero system downtime.",
    "The eShopOnContainers application has multiple front-end clients and multiple different back-end services. There",
    "The eShopOnContainers application has multiple front-end clients and multiple different back-end services. There",
    "Azure API Management (APIM) helps organizations publish APIs in a consistent, manageable fashion. APIM consists of three components: the API Gateway, and administration portal (the Azure portal), and a developer portal.",
    "Azure API Management (APIM) helps organizations publish APIs in a consistent, manageable fashion. APIM consists of three components: the API Gateway, and administration portal (the Azure portal), and a developer portal.",
    "The API Gateway accepts API calls and routes them to the appropriate back-end API. It can also provide additional services like verification of API keys or JWT tokens and API transformation on the fly without code modifications (for instance, to accommodate clients expecting an older interface).",
    "The API Gateway accepts API calls and routes them to the appropriate back-end API. It can also provide additional services like verification of API keys or JWT tokens and API transformation on the fly without code modifications (for instance, to accommodate clients expecting an older interface).",
    "The Azure portal is where you define the API schema and package different APIs into products. You also configure user access, view reports, and configure policies for quotas or transformations.",
    "The Azure portal is where you define the API schema and package different APIs into products. You also configure user access, view reports, and configure policies for quotas or transformations.",
    "The developer portal serves as the main resource for developers. It provides developers with API documentation, an interactive test console, and reports on their own usage. Developers also use the portal to create and manage their own accounts, including subscription and API key support.",
    "The developer portal serves as the main resource for developers. It provides developers with API documentation, an interactive test console, and reports on their own usage. Developers also use the portal to create and manage their own accounts, including subscription and API key support.",
    "Using APIM, applications can expose several different groups of services, each providing a back end for a particular front-end client. APIM is recommended for complex scenarios. For simpler needs, the lightweight API Gateway Ocelot can be used. The eShopOnContainers app uses Ocelot because of its simplicity and because it can be deployed into the same application environment as the application itself. ",
    "Using APIM, applications can expose several different groups of services, each providing a back end for a particular front-end client. APIM is recommended for complex scenarios. For simpler needs, the lightweight API Gateway Ocelot can be used. The eShopOnContainers app uses Ocelot because of its simplicity and because it can be deployed into the same application environment as the application itself. ",
    "Another option if your application is using AKS is to deploy the Azure Gateway Ingress Controller as a pod within your AKS cluster. This approach allows your cluster to integrate with an Azure Application Gateway, allowing the gateway to load-balance traffic to the AKS pods. ",
    "Another option if your application is using AKS is to deploy the Azure Gateway Ingress Controller as a pod within your AKS cluster. This approach allows your cluster to integrate with an Azure Application Gateway, allowing the gateway to load-balance traffic to the AKS pods. ",
    "The various back-end services used by eShopOnContainers have different storage requirements. Several microservices use SQL Server databases. The Basket microservice leverages a Redis cache for its persistence. The Locations microservice expects a MongoDB API for its data. Azure supports each of these data formats.",
    "The various back-end services used by eShopOnContainers have different storage requirements. Several microservices use SQL Server databases. The Basket microservice leverages a Redis cache for its persistence. The Locations microservice expects a MongoDB API for its data. Azure supports each of these data formats.",
    "For SQL Server database support, Azure has products for everything from single databases up to highly scalable SQL Database elastic pools. Individual microservices can be configured to communicate with their own individual SQL Server databases quickly and easily. These databases can be scaled as needed to support each separate microservice according to its needs.",
    "For SQL Server database support, Azure has products for everything from single databases up to highly scalable SQL Database elastic pools. Individual microservices can be configured to communicate with their own individual SQL Server databases quickly and easily. These databases can be scaled as needed to support each separate microservice according to its needs.",
    "The eShopOnContainers application stores the user",
    "The eShopOnContainers application stores the user",
    "The Locations microservice uses a MongoDB NoSQL database for its persistence. During development, the database can be deployed in its own container, while in production the service can leverage ",
    "The Locations microservice uses a MongoDB NoSQL database for its persistence. During development, the database can be deployed in its own container, while in production the service can leverage ",
    "Distributed data in cloud-native applications is covered in more detail in ",
    "Distributed data in cloud-native applications is covered in more detail in ",
    "The application uses events to communicate changes between different services. This functionality can be implemented with various implementations, and locally the eShopOnContainers application uses ",
    "The application uses events to communicate changes between different services. This functionality can be implemented with various implementations, and locally the eShopOnContainers application uses ",
    "Once deployed to production, the eShopOnContainers application would be able to take advantage of several Azure services available to improve its resiliency. The application publishes health checks, which can be integrated with Application Insights to provide reporting and alerts based on the app",
    "Once deployed to production, the eShopOnContainers application would be able to take advantage of several Azure services available to improve its resiliency. The application publishes health checks, which can be integrated with Application Insights to provide reporting and alerts based on the app",
    "The eShopOnContainers application can be deployed to various Azure platforms. The recommended approach is to deploy the application to Azure Kubernetes Services (AKS). Helm, a Kubernetes deployment tool, is available to reduce deployment complexity. Optionally, developers may implement Azure Dev Spaces for Kubernetes to streamline their development process.",
    "The eShopOnContainers application can be deployed to various Azure platforms. The recommended approach is to deploy the application to Azure Kubernetes Services (AKS). Helm, a Kubernetes deployment tool, is available to reduce deployment complexity. Optionally, developers may implement Azure Dev Spaces for Kubernetes to streamline their development process.",
    "To host eShop in AKS, the first step is to create an AKS cluster. To do so, you might use the Azure portal, which will walk you through the required steps. You could also create a cluster from the Azure CLI, taking care to enable Role-Based Access Control (RBAC) and application routing. The eShopOnContainers",
    "To host eShop in AKS, the first step is to create an AKS cluster. To do so, you might use the Azure portal, which will walk you through the required steps. You could also create a cluster from the Azure CLI, taking care to enable Role-Based Access Control (RBAC) and application routing. The eShopOnContainers",
    "You can now deploy the eShop application to the cluster using Helm.",
    "You can now deploy the eShop application to the cluster using Helm.",
    "Helm is an application package manager tool that works directly with Kubernetes. It helps you define, install, and upgrade Kubernetes applications. While simple apps can be deployed to AKS with custom CLI scripts or simple deployment files, complex apps can contain many Kubernetes objects and benefit from Helm.",
    "Helm is an application package manager tool that works directly with Kubernetes. It helps you define, install, and upgrade Kubernetes applications. While simple apps can be deployed to AKS with custom CLI scripts or simple deployment files, complex apps can contain many Kubernetes objects and benefit from Helm.",
    "Using Helm, applications include text-based configuration files, called Helm charts, which declaratively describe the application and configuration in Helm packages. Charts use standard YAML-formatted",
    "Using Helm, applications include text-based configuration files, called Helm charts, which declaratively describe the application and configuration in Helm packages. Charts use standard YAML-formatted",
    "files to describe a related set of Kubernetes resources. They",
    "files to describe a related set of Kubernetes resources. They",
    "Helm is composed of a command-line client tool, which consumes helm charts and launches commands to a server component named, Tiller. Tiller communicates with the Kubernetes API to ensure the correct provisioning of your containerized workloads. Helm is maintained by the Cloudnative Computing Foundation.",
    "Helm is composed of a command-line client tool, which consumes helm charts and launches commands to a server component named, Tiller. Tiller communicates with the Kubernetes API to ensure the correct provisioning of your containerized workloads. Helm is maintained by the Cloudnative Computing Foundation.",
    "The following yaml file presents a Helm template:",
    "The following yaml file presents a Helm template:",
    "Note how the template describes a dynamic set of key/value pairs. When the template is invoked, values that enclosed in curly braces are pulled in from other yaml-based configuration files.",
    "Note how the template describes a dynamic set of key/value pairs. When the template is invoked, values that enclosed in curly braces are pulled in from other yaml-based configuration files.",
    "You",
    "You",
    null,
    null,
    null,
    null,
    "Each individual component is installed using a helm install command. eShop includes a ",
    "Each individual component is installed using a helm install command. eShop includes a ",
    "Note that version 3 of Helm officially removes the need for the Tiller server component. More information on this enhancement can be found ",
    "Note that version 3 of Helm officially removes the need for the Tiller server component. More information on this enhancement can be found ",
    "The eShopOnContainers sample includes support for tracking online marketing campaigns. An Azure Function is used to track marketing campaign details for a given campaign ID. Rather than creating a full microservice, a single Azure Function is simpler and sufficient. Azure Functions have a simple build and deployment model, especially when configured to run in Kubernetes. Deploying the function is scripted using Azure Resource Manager (ARM) templates and the Azure CLI. This campaign service isn",
    "The eShopOnContainers sample includes support for tracking online marketing campaigns. An Azure Function is used to track marketing campaign details for a given campaign ID. Rather than creating a full microservice, a single Azure Function is simpler and sufficient. Azure Functions have a simple build and deployment model, especially when configured to run in Kubernetes. Deploying the function is scripted using Azure Resource Manager (ARM) templates and the Azure CLI. This campaign service isn",
    "Unlike a monolithic app in which everything runs within a single instance, a cloud-native application consists of independent services distributed across virtual machines, containers, and geographic regions. Managing configuration settings for dozens of interdependent services can be challenging. Duplicate copies of configuration settings across different locations are error prone and difficult to manage. Centralized configuration is a critical requirement for distributed cloud-native applications.",
    "Unlike a monolithic app in which everything runs within a single instance, a cloud-native application consists of independent services distributed across virtual machines, containers, and geographic regions. Managing configuration settings for dozens of interdependent services can be challenging. Duplicate copies of configuration settings across different locations are error prone and difficult to manage. Centralized configuration is a critical requirement for distributed cloud-native applications.",
    "As discussed in Chapter 1, the Twelve-Factor App recommendations require strict separation between code and configuration. Configuration must be stored externally from the application and read-in as needed. Storing configuration values as constants or literal values in code is a violation. The same configuration values are often be used by many services in the same application. Additionally, we must support the same values across multiple environments, such as dev, testing, and production. The best practice is store them in a centralized configuration store.",
    "As discussed in Chapter 1, the Twelve-Factor App recommendations require strict separation between code and configuration. Configuration must be stored externally from the application and read-in as needed. Storing configuration values as constants or literal values in code is a violation. The same configuration values are often be used by many services in the same application. Additionally, we must support the same values across multiple environments, such as dev, testing, and production. The best practice is store them in a centralized configuration store.",
    "The Azure cloud presents several great options.",
    "The Azure cloud presents several great options.",
    null,
    null,
    "The service is simple to use and provides several benefits:",
    "The service is simple to use and provides several benefits:",
    "Flexible key/value representations and mappings",
    "Flexible key/value representations and mappings",
    "Tagging with Azure labels",
    "Tagging with Azure labels",
    "Dedicated UI for management",
    "Dedicated UI for management",
    "Encryption of sensitive information",
    "Encryption of sensitive information",
    "Querying and batch retrieval",
    "Querying and batch retrieval",
    "Azure App Configuration maintains changes made to key-value settings for seven days. The point-intime snapshot feature enables you to reconstruct the history of a setting and even rollback for a failed deployment.",
    "Azure App Configuration maintains changes made to key-value settings for seven days. The point-intime snapshot feature enables you to reconstruct the history of a setting and even rollback for a failed deployment.",
    "App Configuration automatically caches each setting to avoid excessive calls to the configuration store. The refresh operation waits until the cached value of a setting expires to update that setting, even when its value changes in the configuration store. The default cache expiration time is 30 seconds. You can override the expiration time.",
    "App Configuration automatically caches each setting to avoid excessive calls to the configuration store. The refresh operation waits until the cached value of a setting expires to update that setting, even when its value changes in the configuration store. The default cache expiration time is 30 seconds. You can override the expiration time.",
    "App Configuration encrypts all configuration values in transit and at rest. Key names and labels are used as indexes for retrieving configuration data and aren",
    "App Configuration encrypts all configuration values in transit and at rest. Key names and labels are used as indexes for retrieving configuration data and aren",
    "Although App Configuration provides hardened security, Azure Key Vault is still the best place for storing application secrets. Key Vault provides hardware-level encryption, granular access policies, and management operations such as certificate rotation. You can create App Configuration values that reference secrets stored in a Key Vault.",
    "Although App Configuration provides hardened security, Azure Key Vault is still the best place for storing application secrets. Key Vault provides hardware-level encryption, granular access policies, and management operations such as certificate rotation. You can create App Configuration values that reference secrets stored in a Key Vault.",
    "Key Vault is a managed service for securely storing and accessing secrets. A secret is anything that you want to tightly control access to, such as API keys, passwords, or certificates. A vault is a logical group of secrets.",
    "Key Vault is a managed service for securely storing and accessing secrets. A secret is anything that you want to tightly control access to, such as API keys, passwords, or certificates. A vault is a logical group of secrets.",
    "Key Vault greatly reduces the chances that secrets may be accidentally leaked. When using Key Vault, application developers no longer need to store security information in their application. This practice eliminates the need to store this information inside your code. For example, an application may need to connect to a database. Instead of storing the connection string in the app",
    "Key Vault greatly reduces the chances that secrets may be accidentally leaked. When using Key Vault, application developers no longer need to store security information in their application. This practice eliminates the need to store this information inside your code. For example, an application may need to connect to a database. Instead of storing the connection string in the app",
    "Your applications can securely access the information they need by using URIs. These URIs allow the applications to retrieve specific versions of a secret. There",
    "Your applications can securely access the information they need by using URIs. These URIs allow the applications to retrieve specific versions of a secret. There",
    "Access to Key Vault requires proper caller authentication and authorization. Typically, each cloudnative microservice uses a ClientId/ClientSecret combination. It",
    "Access to Key Vault requires proper caller authentication and authorization. Typically, each cloudnative microservice uses a ClientId/ClientSecret combination. It",
    "The eShopOnContainers application includes local application settings files with each microservice. These files are checked into source control, but don",
    "The eShopOnContainers application includes local application settings files with each microservice. These files are checked into source control, but don",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "One of the most-often touted advantages of moving to a cloud hosting environment is scalability. Scalability, or the ability for an application to accept additional user load without compromising performance for each user. It",
    "One of the most-often touted advantages of moving to a cloud hosting environment is scalability. Scalability, or the ability for an application to accept additional user load without compromising performance for each user. It",
    "In this chapter, we discuss technologies that enable cloud-native applications to scale to meet user demand. These technologies include:",
    "In this chapter, we discuss technologies that enable cloud-native applications to scale to meet user demand. These technologies include:",
    "Containers",
    "Containers",
    "Orchestrators",
    "Orchestrators",
    "Serverless computing",
    "Serverless computing",
    "Containers and orchestrators are designed to solve problems common to monolithic deployment approaches.",
    "Containers and orchestrators are designed to solve problems common to monolithic deployment approaches.",
    "Traditionally, most applications have been deployed as a single unit. Such applications are referred to as a monolith. This general approach of deploying applications as single units even if they",
    "Traditionally, most applications have been deployed as a single unit. Such applications are referred to as a monolith. This general approach of deploying applications as single units even if they",
    null,
    null,
    null,
    null,
    "Although they have the benefit of simplicity, monolithic architectures face many challenges:",
    "Although they have the benefit of simplicity, monolithic architectures face many challenges:",
    "Additionally, they require a restart of the application, which may temporarily impact availability if zero-downtime techniques are not applied while deploying.",
    "Additionally, they require a restart of the application, which may temporarily impact availability if zero-downtime techniques are not applied while deploying.",
    "A monolithic application is hosted entirely on a single machine instance, often requiring highcapability hardware. If any part of the monolith requires scaling, another copy of the entire application must be deployed to another machine. With a monolith, you can",
    "A monolithic application is hosted entirely on a single machine instance, often requiring highcapability hardware. If any part of the monolith requires scaling, another copy of the entire application must be deployed to another machine. With a monolith, you can",
    "Monolithic applications are typically deployed to a hosting environment with a pre-installed operating system, runtime, and library dependencies. This environment may not match that upon which the application was developed or tested. Inconsistencies across application environments are a common source of problems for monolithic deployments.",
    "Monolithic applications are typically deployed to a hosting environment with a pre-installed operating system, runtime, and library dependencies. This environment may not match that upon which the application was developed or tested. Inconsistencies across application environments are a common source of problems for monolithic deployments.",
    "A monolithic application is likely to experience high coupling across its functional components. Without hard boundaries, system changes often result in unintended and costly side effects. New features/fixes become tricky, time-consuming, and expensive to implement. Updates require extensive testing. Coupling also makes it difficult to refactor components or swap in alternative implementations. Even when constructed with a strict separation of concerns, architectural erosion sets in as the monolithic code base deteriorates with never-ending ",
    "A monolithic application is likely to experience high coupling across its functional components. Without hard boundaries, system changes often result in unintended and costly side effects. New features/fixes become tricky, time-consuming, and expensive to implement. Updates require extensive testing. Coupling also makes it difficult to refactor components or swap in alternative implementations. Even when constructed with a strict separation of concerns, architectural erosion sets in as the monolithic code base deteriorates with never-ending ",
    "A monolithic application is constructed with a single technology stack. While offering uniformity, this commitment can become a barrier to innovation. New features and components will be built using the application",
    "A monolithic application is constructed with a single technology stack. While offering uniformity, this commitment can become a barrier to innovation. New features and components will be built using the application",
    "We introduced containers in Chapter 1. We highlighted how the Cloud Native Computing Foundation (CNCF) ranks containerization as the first step in their ",
    "We introduced containers in Chapter 1. We highlighted how the Cloud Native Computing Foundation (CNCF) ranks containerization as the first step in their ",
    "Docker is the most popular container management platform. It works with containers on both Linux or Windows. Containers provide separate but reproducible application environments that run the same way on any system. This aspect makes them perfect for developing and hosting cloud-native services. Containers are isolated from one another. Two containers on the same host hardware can have different versions of software, without causing conflicts.",
    "Docker is the most popular container management platform. It works with containers on both Linux or Windows. Containers provide separate but reproducible application environments that run the same way on any system. This aspect makes them perfect for developing and hosting cloud-native services. Containers are isolated from one another. Two containers on the same host hardware can have different versions of software, without causing conflicts.",
    "Containers are defined by simple text-based files that become project artifacts and are checked into source control. While full servers and virtual machines require manual effort to update, containers are easily version-controlled. Apps built to run in containers can be developed, tested, and deployed using automated tools as part of a build pipeline.",
    "Containers are defined by simple text-based files that become project artifacts and are checked into source control. While full servers and virtual machines require manual effort to update, containers are easily version-controlled. Apps built to run in containers can be developed, tested, and deployed using automated tools as part of a build pipeline.",
    "Containers are immutable. Once you define a container, you can recreate and run it exactly the same way. This immutability lends itself to component-based design. If some parts of an application evolve differently than others, why redeploy the entire app when you can just deploy the parts that change most frequently? Different features and cross-cutting concerns of an app can be broken up into separate units. Figure 3-2 shows how a monolithic app can take advantage of containers and microservices by delegating certain features or functionality. The remaining functionality in the app itself has also been containerized.",
    "Containers are immutable. Once you define a container, you can recreate and run it exactly the same way. This immutability lends itself to component-based design. If some parts of an application evolve differently than others, why redeploy the entire app when you can just deploy the parts that change most frequently? Different features and cross-cutting concerns of an app can be broken up into separate units. Figure 3-2 shows how a monolithic app can take advantage of containers and microservices by delegating certain features or functionality. The remaining functionality in the app itself has also been containerized.",
    null,
    null,
    null,
    null,
    "Each cloud-native service is built and deployed in a separate container. Each can update as needed. Individual services can be hosted on nodes with resources appropriate to each service. The environment each service runs in is immutable, shared across dev, test, and production environments, and easily versioned. Coupling between different areas of the application occurs explicitly as calls or messages between services, not compile-time dependencies within the monolith. You can also choose the technology that best suites a given capability without requiring changes to the rest of the app.",
    "Each cloud-native service is built and deployed in a separate container. Each can update as needed. Individual services can be hosted on nodes with resources appropriate to each service. The environment each service runs in is immutable, shared across dev, test, and production environments, and easily versioned. Coupling between different areas of the application occurs explicitly as calls or messages between services, not compile-time dependencies within the monolith. You can also choose the technology that best suites a given capability without requiring changes to the rest of the app.",
    "Containerized services require automated management. It wouldn",
    "Containerized services require automated management. It wouldn",
    "How will container instances be provisioned across a cluster of many machines?",
    "How will container instances be provisioned across a cluster of many machines?",
    "Once deployed, how will containers discover and communicate with each other?",
    "Once deployed, how will containers discover and communicate with each other?",
    "How can containers scale in or out on-demand?",
    "How can containers scale in or out on-demand?",
    "How do you monitor the health of each container?",
    "How do you monitor the health of each container?",
    "How do you protect a container against hardware and software failures?",
    "How do you protect a container against hardware and software failures?",
    "How do upgrade containers for a live application with zero downtime?",
    "How do upgrade containers for a live application with zero downtime?",
    "Container orchestrators address and automate these and other concerns.",
    "Container orchestrators address and automate these and other concerns.",
    "In the cloud-native eco-system, Kubernetes has become the de facto container orchestrator. It",
    "In the cloud-native eco-system, Kubernetes has become the de facto container orchestrator. It",
    "A much better approach is to leverage Kubernetes as a managed service from a cloud vendor. The Azure cloud features a fully managed Kubernetes platform entitled ",
    "A much better approach is to leverage Kubernetes as a managed service from a cloud vendor. The Azure cloud features a fully managed Kubernetes platform entitled ",
    "AKS is a cluster-based technology. A pool of federated virtual machines, or nodes, is deployed to the Azure cloud. Together they form a highly available environment, or cluster. The cluster appears as a seamless, single entity to your cloud-native application. Under the hood, AKS deploys your containerized services across these nodes following a predefined strategy that evenly distributes the load.",
    "AKS is a cluster-based technology. A pool of federated virtual machines, or nodes, is deployed to the Azure cloud. Together they form a highly available environment, or cluster. The cluster appears as a seamless, single entity to your cloud-native application. Under the hood, AKS deploys your containerized services across these nodes following a predefined strategy that evenly distributes the load.",
    "Services built on containers can leverage scaling benefits provided by orchestration tools like Kubernetes. By design containers only know about themselves. Once you have multiple containers that need to work together, you should organize them at a higher level. Organizing large numbers of containers and their shared dependencies, such as network configuration, is where orchestration tools come in to save the day",
    "Services built on containers can leverage scaling benefits provided by orchestration tools like Kubernetes. By design containers only know about themselves. Once you have multiple containers that need to work together, you should organize them at a higher level. Organizing large numbers of containers and their shared dependencies, such as network configuration, is where orchestration tools come in to save the day",
    null,
    null,
    null,
    null,
    "Scaling containerized workloads is a key feature of container orchestrators. AKS supports automatic scaling across two dimensions: Container instances and compute nodes. Together they give AKS the ability to quickly and efficiently respond to spikes in demand and add additional resources. We discuss scaling in AKS later in this chapter.",
    "Scaling containerized workloads is a key feature of container orchestrators. AKS supports automatic scaling across two dimensions: Container instances and compute nodes. Together they give AKS the ability to quickly and efficiently respond to spikes in demand and add additional resources. We discuss scaling in AKS later in this chapter.",
    "Kubernetes supports both declarative and imperative configuration. The imperative approach involves running various commands that tell Kubernetes what to do each step of the way. Run this image. Delete this pod. Expose this port. With the declarative approach, you create a configuration file, called a manifest, to describe what you want instead of what to do. Kubernetes reads the manifest and transforms your desired end state into actual end state.",
    "Kubernetes supports both declarative and imperative configuration. The imperative approach involves running various commands that tell Kubernetes what to do each step of the way. Run this image. Delete this pod. Expose this port. With the declarative approach, you create a configuration file, called a manifest, to describe what you want instead of what to do. Kubernetes reads the manifest and transforms your desired end state into actual end state.",
    "Imperative commands are great for learning and interactive experimentation. However, you",
    "Imperative commands are great for learning and interactive experimentation. However, you",
    "If you",
    "If you",
    "When using declarative configuration, you can preview the changes that will be made before committing them by using kubectl diff -f FOLDERNAME against the folder where your configuration files are located. Once you",
    "When using declarative configuration, you can preview the changes that will be made before committing them by using kubectl diff -f FOLDERNAME against the folder where your configuration files are located. Once you",
    "You can also use declarative configuration with other Kubernetes features, one of which being deployments. Declarative deployments help manage releases, updates, and scaling. They instruct the Kubernetes deployment controller on how to deploy new changes, scale out load, or roll back to a previous revision. If a cluster is unstable, a declarative deployment will automatically return the cluster back to a desired state. For example, if a node should crash, the deployment mechanism will redeploy a replacement to achieve your desired state",
    "You can also use declarative configuration with other Kubernetes features, one of which being deployments. Declarative deployments help manage releases, updates, and scaling. They instruct the Kubernetes deployment controller on how to deploy new changes, scale out load, or roll back to a previous revision. If a cluster is unstable, a declarative deployment will automatically return the cluster back to a desired state. For example, if a node should crash, the deployment mechanism will redeploy a replacement to achieve your desired state",
    "Using declarative configuration allows infrastructure to be represented as code that can be checked in and versioned alongside the application code. It provides improved change control and better support for continuous deployment using a build and deploy pipeline.",
    "Using declarative configuration allows infrastructure to be represented as code that can be checked in and versioned alongside the application code. It provides improved change control and better support for continuous deployment using a build and deploy pipeline.",
    "The following scenarios are ideal for using containers and orchestrators.",
    "The following scenarios are ideal for using containers and orchestrators.",
    "Individual applications that have high uptime and scalability requirements are ideal candidates for cloud-native architectures using microservices, containers, and orchestrators. They can be developed in containers, tested across versioned environments, and deployed into production with zero downtime. The use of Kubernetes clusters ensures such apps can also scale on demand and recover automatically from node failures.",
    "Individual applications that have high uptime and scalability requirements are ideal candidates for cloud-native architectures using microservices, containers, and orchestrators. They can be developed in containers, tested across versioned environments, and deployed into production with zero downtime. The use of Kubernetes clusters ensures such apps can also scale on demand and recover automatically from node failures.",
    "Organizations that deploy and maintain large numbers of applications benefit from containers and orchestrators. The up front effort of setting up containerized environments and Kubernetes clusters is primarily a fixed cost. Deploying, maintaining, and updating individual applications has a cost that varies with the number of applications. Beyond a few applications, the complexity of maintaining custom applications manually exceeds the cost of implementing a solution using containers and orchestrators.",
    "Organizations that deploy and maintain large numbers of applications benefit from containers and orchestrators. The up front effort of setting up containerized environments and Kubernetes clusters is primarily a fixed cost. Deploying, maintaining, and updating individual applications has a cost that varies with the number of applications. Beyond a few applications, the complexity of maintaining custom applications manually exceeds the cost of implementing a solution using containers and orchestrators.",
    "If you",
    "If you",
    "This section shows a short list of development resources that may help you get started using containers and orchestrators for your next application. If you",
    "This section shows a short list of development resources that may help you get started using containers and orchestrators for your next application. If you",
    "Kubernetes deployments provide great value in production environments, but can also run locally on your development machine. While you may work on individual microservices independently, there may be times when you",
    "Kubernetes deployments provide great value in production environments, but can also run locally on your development machine. While you may work on individual microservices independently, there may be times when you",
    "What is Minikube? The Minikube project says ",
    "What is Minikube? The Minikube project says ",
    "DNS",
    "DNS",
    "NodePorts",
    "NodePorts",
    "ConfigMaps and secrets",
    "ConfigMaps and secrets",
    "Dashboards",
    "Dashboards",
    "Container runtimes: Docker, rkt, CRI-O, and containerd",
    "Container runtimes: Docker, rkt, CRI-O, and containerd",
    "Enabling Container Network Interface (CNI)",
    "Enabling Container Network Interface (CNI)",
    "Ingress",
    "Ingress",
    "After installing Minikube, you can quickly start using it by running the minikube start command, which downloads an image and start the local Kubernetes cluster. Once the cluster is started, you interact with it using the standard Kubernetes kubectl commands.",
    "After installing Minikube, you can quickly start using it by running the minikube start command, which downloads an image and start the local Kubernetes cluster. Once the cluster is started, you interact with it using the standard Kubernetes kubectl commands.",
    "You can also work with Kubernetes directly from Docker Desktop on Windows. It is your only option if you",
    "You can also work with Kubernetes directly from Docker Desktop on Windows. It is your only option if you",
    null,
    null,
    null,
    null,
    "Docker Desktop is the most popular tool for configuring and running containerized apps locally. When you work with Docker Desktop, you can develop locally against the exact same set of Docker container images that you",
    "Docker Desktop is the most popular tool for configuring and running containerized apps locally. When you work with Docker Desktop, you can develop locally against the exact same set of Docker container images that you",
    "Visual Studio supports Docker development for web-based applications. When you create a new ASP.NET Core application, you have an option to configure it with Docker support, as shown in Figure 3-5.",
    "Visual Studio supports Docker development for web-based applications. When you create a new ASP.NET Core application, you have an option to configure it with Docker support, as shown in Figure 3-5.",
    null,
    null,
    null,
    null,
    "When this option is selected, the project is created with a Dockerfile in its root, which can be used to build and host the app in a Docker container. An example Dockerfile is shown in Figure 3-6.",
    "When this option is selected, the project is created with a Dockerfile in its root, which can be used to build and host the app in a Docker container. An example Dockerfile is shown in Figure 3-6.",
    null,
    null,
    "Once support is added, you can run your application in a Docker container in Visual Studio. Figure 3-7 shows the different run options available from a new ASP.NET Core project created with Docker support added.",
    "Once support is added, you can run your application in a Docker container in Visual Studio. Figure 3-7 shows the different run options available from a new ASP.NET Core project created with Docker support added.",
    null,
    null,
    null,
    null,
    "Also, at any time you can add Docker support to an existing ASP.NET Core application. From the Visual Studio Solution Explorer, right-click on the project and select ",
    "Also, at any time you can add Docker support to an existing ASP.NET Core application. From the Visual Studio Solution Explorer, right-click on the project and select ",
    null,
    null,
    null,
    null,
    "There are many extensions available for Visual Studio Code that support Docker development.",
    "There are many extensions available for Visual Studio Code that support Docker development.",
    "Microsoft provides the ",
    "Microsoft provides the ",
    "In the spectrum from managing physical machines to leveraging cloud capabilities, serverless lives at the extreme end. Your only responsibility is your code, and you only pay when your code runs. Azure Functions provides a way to build serverless capabilities into your cloud-native applications.",
    "In the spectrum from managing physical machines to leveraging cloud capabilities, serverless lives at the extreme end. Your only responsibility is your code, and you only pay when your code runs. Azure Functions provides a way to build serverless capabilities into your cloud-native applications.",
    "Serverless is a relatively new service model of cloud computing. It doesn",
    "Serverless is a relatively new service model of cloud computing. It doesn",
    "Serverless computing uses event-triggered stateless containers to host your services. They can scale out and in to meet demand as-needed. Serverless platforms like Azure Functions have tight integration with other Azure services like queues, events, and storage.",
    "Serverless computing uses event-triggered stateless containers to host your services. They can scale out and in to meet demand as-needed. Serverless platforms like Azure Functions have tight integration with other Azure services like queues, events, and storage.",
    "Serverless platforms address many time-consuming and expensive concerns:",
    "Serverless platforms address many time-consuming and expensive concerns:",
    "Purchasing machines and software licenses",
    "Purchasing machines and software licenses",
    "Housing, securing, configuring, and maintaining the machines and their networking, power, and A/C requirements",
    "Housing, securing, configuring, and maintaining the machines and their networking, power, and A/C requirements",
    "Patching and upgrading operating systems and software",
    "Patching and upgrading operating systems and software",
    "Configuring web servers or machine services to host application software",
    "Configuring web servers or machine services to host application software",
    "Configuring application software within its platform",
    "Configuring application software within its platform",
    "Many companies allocate large budgets to support hardware infrastructure concerns. Moving to the cloud can help reduce these costs; shifting applications to serverless can help eliminate them.",
    "Many companies allocate large budgets to support hardware infrastructure concerns. Moving to the cloud can help reduce these costs; shifting applications to serverless can help eliminate them.",
    "Typically, a microservice encapsulates a business capability, such as a shopping cart for an online eCommerce site. It exposes multiple operations that enable a user to manage their shopping experience. A function, however, is a small, lightweight block of code that executes a single-purpose operation in response to an event. Microservices are typically constructed to respond to requests, often from an interface. Requests can be HTTP Rest- or gRPC-based. Serverless services respond to events. Its event-driven architecture is ideal for processing short-running, background tasks.",
    "Typically, a microservice encapsulates a business capability, such as a shopping cart for an online eCommerce site. It exposes multiple operations that enable a user to manage their shopping experience. A function, however, is a small, lightweight block of code that executes a single-purpose operation in response to an event. Microservices are typically constructed to respond to requests, often from an interface. Requests can be HTTP Rest- or gRPC-based. Serverless services respond to events. Its event-driven architecture is ideal for processing short-running, background tasks.",
    "Serverless exposes individual short-running functions that are invoked in response to a trigger. This makes them ideal for processing background tasks.",
    "Serverless exposes individual short-running functions that are invoked in response to a trigger. This makes them ideal for processing background tasks.",
    "An application might need to send an email as a step in a workflow. Instead of sending the notification as part of a microservice request, place the message details onto a queue. An Azure Function can dequeue the message and asynchronously send the email. Doing so could improve the performance and scalability of the microservice. ",
    "An application might need to send an email as a step in a workflow. Instead of sending the notification as part of a microservice request, place the message details onto a queue. An Azure Function can dequeue the message and asynchronously send the email. Doing so could improve the performance and scalability of the microservice. ",
    "Asynchronous messaging from queues and topics is a common pattern to trigger serverless functions. However, Azure Functions can be triggered by other events, such as changes to Azure Blob Storage. A service that supports image uploads could have an Azure Function responsible for optimizing the image size. The function could be triggered directly by inserts into Azure Blob Storage, keeping complexity out of the microservice operations.",
    "Asynchronous messaging from queues and topics is a common pattern to trigger serverless functions. However, Azure Functions can be triggered by other events, such as changes to Azure Blob Storage. A service that supports image uploads could have an Azure Function responsible for optimizing the image size. The function could be triggered directly by inserts into Azure Blob Storage, keeping complexity out of the microservice operations.",
    "Many services have long-running processes as part of their workflows. Often these tasks are done as part of the user",
    "Many services have long-running processes as part of their workflows. Often these tasks are done as part of the user",
    "Serverless solutions provision and scale on demand. When a new instance is invoked, cold starts are a common issue. A cold start is the period of time it takes to provision this instance. Normally, this delay might be a few seconds, but can be longer depending on various factors. Once provisioned, a single instance is kept alive as long as it receives periodic requests. But, if a service is called less frequently, Azure may remove it from memory and require a cold start when reinvoked. Cold starts are also required when a function scales out to a new instance.",
    "Serverless solutions provision and scale on demand. When a new instance is invoked, cold starts are a common issue. A cold start is the period of time it takes to provision this instance. Normally, this delay might be a few seconds, but can be longer depending on various factors. Once provisioned, a single instance is kept alive as long as it receives periodic requests. But, if a service is called less frequently, Azure may remove it from memory and require a cold start when reinvoked. Cold starts are also required when a function scales out to a new instance.",
    "Figure 3-9 shows a cold-start pattern. Note the extra steps required when the app is cold.",
    "Figure 3-9 shows a cold-start pattern. Note the extra steps required when the app is cold.",
    null,
    null,
    null,
    null,
    "To avoid cold starts entirely, you might switch from a ",
    "To avoid cold starts entirely, you might switch from a ",
    "Cloud providers bill for serverless based on compute execution time and consumed memory. Long running operations or high memory consumption workloads aren",
    "Cloud providers bill for serverless based on compute execution time and consumed memory. Long running operations or high memory consumption workloads aren",
    "Finally, leveraging Azure Functions for application tasks adds complexity. It",
    "Finally, leveraging Azure Functions for application tasks adds complexity. It",
    "Cloud-native applications typically implement services leveraging containers and orchestration. There are often opportunities to expose some of the application",
    "Cloud-native applications typically implement services leveraging containers and orchestration. There are often opportunities to expose some of the application",
    "Your Azure Function has no knowledge of the platform on which it",
    "Your Azure Function has no knowledge of the platform on which it",
    "If you want to use consumption billing, you can",
    "If you want to use consumption billing, you can",
    "To wrap an Azure Function in a Docker container, install the ",
    "To wrap an Azure Function in a Docker container, install the ",
    "func init ProjectName --worker-runtime dotnet --docker",
    "func init ProjectName --worker-runtime dotnet --docker",
    "When the project is created, it will include a Dockerfile and the worker runtime configured to dotnet. Now, you can create and test your function locally. Build and run it using the docker build and docker run commands. For detailed steps to get started building Azure Functions with Docker support, see the ",
    "When the project is created, it will include a Dockerfile and the worker runtime configured to dotnet. Now, you can create and test your function locally. Build and run it using the docker build and docker run commands. For detailed steps to get started building Azure Functions with Docker support, see the ",
    "In this chapter, you",
    "In this chapter, you",
    "KEDA provides event-driven scaling functionality to the Functions",
    "KEDA provides event-driven scaling functionality to the Functions",
    "It",
    "It",
    "We",
    "We",
    "Azure Kubernetes Services (AKS)",
    "Azure Kubernetes Services (AKS)",
    "Azure Container Instance (ACI)",
    "Azure Container Instance (ACI)",
    "Azure Web Apps for Containers",
    "Azure Web Apps for Containers",
    "When containerizing a microservice, you first build a container ",
    "When containerizing a microservice, you first build a container ",
    "Once created, container images are stored in container registries. They enable you to build, store, and manage container images. There are many registries available, both public and private. Azure Container Registry (ACR) is a fully managed container registry service in the Azure cloud. It persists your images inside the Azure network, reducing the time to deploy them to Azure container hosts. You can also secure them using the same security and identity procedures that you use for other Azure resources.",
    "Once created, container images are stored in container registries. They enable you to build, store, and manage container images. There are many registries available, both public and private. Azure Container Registry (ACR) is a fully managed container registry service in the Azure cloud. It persists your images inside the Azure network, reducing the time to deploy them to Azure container hosts. You can also secure them using the same security and identity procedures that you use for other Azure resources.",
    "You create an Azure Container Registry using the ",
    "You create an Azure Container Registry using the ",
    null,
    null,
    null,
    null,
    "Once you",
    "Once you",
    "Once authenticated, you can use docker commands to push container images to it. Before you can do so, however, you must tag your image with the fully qualified name (URL) of your ACR login server. It will have the format ",
    "Once authenticated, you can use docker commands to push container images to it. Before you can do so, however, you must tag your image with the fully qualified name (URL) of your ACR login server. It will have the format ",
    "docker tag mycontainer myregistry.azurecr.io/mycontainer:v1",
    "docker tag mycontainer myregistry.azurecr.io/mycontainer:v1",
    "After you",
    "After you",
    "docker push myregistry.azurecr.io/mycontainer:v1",
    "docker push myregistry.azurecr.io/mycontainer:v1",
    "After you push an image to the registry, it",
    "After you push an image to the registry, it",
    "As a best practice, you shouldn",
    "As a best practice, you shouldn",
    null,
    null,
    "The following AZ CLI command both builds a container image and pushes it to ACR:",
    "The following AZ CLI command both builds a container image and pushes it to ACR:",
    "As you can see from the previous command block, there",
    "As you can see from the previous command block, there",
    "We discussed Azure Kubernetes Service (AKS) at length in this chapter. We",
    "We discussed Azure Kubernetes Service (AKS) at length in this chapter. We",
    "Once you deploy an image to a registry, such as ACR, you can configure AKS to automatically pull and deploy it. With a CI/CD pipeline in place, you might configure a ",
    "Once you deploy an image to a registry, such as ACR, you can configure AKS to automatically pull and deploy it. With a CI/CD pipeline in place, you might configure a ",
    "As with most resources in Azure, you can create an Azure Kubernetes Service cluster using the portal, command-line, or automation tools like Helm or Terraform. To get started with a new cluster, you need to provide the following information:",
    "As with most resources in Azure, you can create an Azure Kubernetes Service cluster using the portal, command-line, or automation tools like Helm or Terraform. To get started with a new cluster, you need to provide the following information:",
    "Azure subscription",
    "Azure subscription",
    "Resource group",
    "Resource group",
    "Kubernetes cluster name",
    "Kubernetes cluster name",
    "Region",
    "Region",
    "Kubernetes version",
    "Kubernetes version",
    "DNS name prefix",
    "DNS name prefix",
    "Node size",
    "Node size",
    "Node count",
    "Node count",
    "This information is sufficient to get started. As part of the creation process in the Azure portal, you can also configure options for the following features of your cluster:",
    "This information is sufficient to get started. As part of the creation process in the Azure portal, you can also configure options for the following features of your cluster:",
    "Scale",
    "Scale",
    "Authentication",
    "Authentication",
    "Networking",
    "Networking",
    "Monitoring",
    "Monitoring",
    "Tags",
    "Tags",
    "This ",
    "This ",
    "Cloud-native applications can grow large and complex, requiring significant compute resources to run. In these scenarios, the entire application can",
    "Cloud-native applications can grow large and complex, requiring significant compute resources to run. In these scenarios, the entire application can",
    "When ready, developers test their changes locally while running against the full application in the AKS cluster - without replicating dependencies. Under the hood, the bridge merges code from the local machine with services in AKS. Developers can rapidly iterate and debug code directly in Kubernetes using Visual Studio or Visual Studio Code.",
    "When ready, developers test their changes locally while running against the full application in the AKS cluster - without replicating dependencies. Under the hood, the bridge merges code from the local machine with services in AKS. Developers can rapidly iterate and debug code directly in Kubernetes using Visual Studio or Visual Studio Code.",
    "Gabe Monroy, former VP of Product Management at Microsoft, describes it well:",
    "Gabe Monroy, former VP of Product Management at Microsoft, describes it well:",
    "Imagine you",
    "Imagine you",
    "There are two ways to scale an application: up or out. The former refers to adding capacity to a single resource, while the latter refers to adding more resources to increase capacity.",
    "There are two ways to scale an application: up or out. The former refers to adding capacity to a single resource, while the latter refers to adding more resources to increase capacity.",
    "Upgrading an existing host server with increased CPU, memory, disk I/O speed, and network I/O speed is known as ",
    "Upgrading an existing host server with increased CPU, memory, disk I/O speed, and network I/O speed is known as ",
    "Serverless apps scale up by choosing the ",
    "Serverless apps scale up by choosing the ",
    "Cloud-native applications often experience large fluctuations in demand and require scale on a moment",
    "Cloud-native applications often experience large fluctuations in demand and require scale on a moment",
    "AKS clusters can autoscale in one of two ways:",
    "AKS clusters can autoscale in one of two ways:",
    "First, the ",
    "First, the ",
    "Next, the ",
    "Next, the ",
    "Figure 3-11 shows the relationship between these two scaling services.",
    "Figure 3-11 shows the relationship between these two scaling services.",
    null,
    null,
    null,
    null,
    "Working together, both ensure an optimal number of container instances and compute nodes to support fluctuating demand. The horizontal pod autoscaler optimizes the number of pods required. The cluster autoscaler optimizes the number of nodes required.",
    "Working together, both ensure an optimal number of container instances and compute nodes to support fluctuating demand. The horizontal pod autoscaler optimizes the number of pods required. The cluster autoscaler optimizes the number of nodes required.",
    "Azure Functions automatically scale out upon demand. Server resources are dynamically allocated and removed based on the number of triggered events. You",
    "Azure Functions automatically scale out upon demand. Server resources are dynamically allocated and removed based on the number of triggered events. You",
    "While the default consumption plan provides an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements. Upgrading to the premium plan provides control over instance sizes, pre-warmed instances (to avoid cold start delays), and dedicated VMs.",
    "While the default consumption plan provides an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements. Upgrading to the premium plan provides control over instance sizes, pre-warmed instances (to avoid cold start delays), and dedicated VMs.",
    "Aside from Azure Kubernetes Service (AKS), you can also deploy containers to Azure App Service for Containers and Azure Container Instances.",
    "Aside from Azure Kubernetes Service (AKS), you can also deploy containers to Azure App Service for Containers and Azure Container Instances.",
    "Simple production applications that don",
    "Simple production applications that don",
    "To deploy to ",
    "To deploy to ",
    null,
    null,
    "To deploy to ",
    "To deploy to ",
    null,
    null,
    null,
    null,
    "Creating an instance in ACI can be done quickly. Specify the image registry, Azure resource group information, the amount of memory to allocate, and the port on which to listen. This ",
    "Creating an instance in ACI can be done quickly. Specify the image registry, Azure resource group information, the amount of memory to allocate, and the port on which to listen. This ",
    "Once the deployment completes, find the newly deployed container",
    "Once the deployment completes, find the newly deployed container",
    "Azure Container Instances offers the fastest way to run simple container workloads in Azure. You don",
    "Azure Container Instances offers the fastest way to run simple container workloads in Azure. You don",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "When constructing a cloud-native system, communication becomes a significant design decision. How does a front-end client application communicate with a back-end microservice? How do back-end microservices communicate with each other? What are the principles, patterns, and best practices to consider when implementing communication in cloud-native applications?",
    "When constructing a cloud-native system, communication becomes a significant design decision. How does a front-end client application communicate with a back-end microservice? How do back-end microservices communicate with each other? What are the principles, patterns, and best practices to consider when implementing communication in cloud-native applications?",
    "In a monolithic application, communication is straightforward. The code modules execute together in the same executable space (process) on a server. This approach can have performance advantages as everything runs together in shared memory, but results in tightly coupled code that becomes difficult to maintain, evolve, and scale.",
    "In a monolithic application, communication is straightforward. The code modules execute together in the same executable space (process) on a server. This approach can have performance advantages as everything runs together in shared memory, but results in tightly coupled code that becomes difficult to maintain, evolve, and scale.",
    "Cloud-native systems implement a microservice-based architecture with many small, independent microservices. Each microservice executes in a separate process and typically runs inside a container that is deployed to a ",
    "Cloud-native systems implement a microservice-based architecture with many small, independent microservices. Each microservice executes in a separate process and typically runs inside a container that is deployed to a ",
    "A cluster groups a pool of virtual machines together to form a highly available environment. They",
    "A cluster groups a pool of virtual machines together to form a highly available environment. They",
    null,
    null,
    null,
    null,
    "Across the cluster, microservices communicate with each other through APIs and messaging technologies.",
    "Across the cluster, microservices communicate with each other through APIs and messaging technologies.",
    "While they provide many benefits, microservices are no free lunch. Local in-process method calls between components are now replaced with network calls. Each microservice must communicate over a network protocol, which adds complexity to your system:",
    "While they provide many benefits, microservices are no free lunch. Local in-process method calls between components are now replaced with network calls. Each microservice must communicate over a network protocol, which adds complexity to your system:",
    "Network congestion, latency, and transient faults are a constant concern.",
    "Network congestion, latency, and transient faults are a constant concern.",
    "Resiliency (that is, retrying failed requests) is essential.",
    "Resiliency (that is, retrying failed requests) is essential.",
    "Some calls must be ",
    "Some calls must be ",
    "Each microservice must authenticate and authorize calls.",
    "Each microservice must authenticate and authorize calls.",
    "Each message must be serialized and then deserialized which can be expensive.",
    "Each message must be serialized and then deserialized which can be expensive.",
    "Message encryption/decryption becomes important.",
    "Message encryption/decryption becomes important.",
    "The book ",
    "The book ",
    "In this chapter, we",
    "In this chapter, we",
    "In a cloud-native system, front-end clients (mobile, web, and desktop applications) require a communication channel to interact with independent back-end microservices.",
    "In a cloud-native system, front-end clients (mobile, web, and desktop applications) require a communication channel to interact with independent back-end microservices.",
    "What are the options?",
    "What are the options?",
    "To keep things simple, a front-end client could ",
    "To keep things simple, a front-end client could ",
    null,
    null,
    null,
    null,
    "With this approach, each microservice has a public endpoint that is accessible by front-end clients. In a production environment, you",
    "With this approach, each microservice has a public endpoint that is accessible by front-end clients. In a production environment, you",
    "While simple to implement, direct client communication would be acceptable only for simple microservice applications. This pattern tightly couples front-end clients to core back-end services, opening the door for many problems, including:",
    "While simple to implement, direct client communication would be acceptable only for simple microservice applications. This pattern tightly couples front-end clients to core back-end services, opening the door for many problems, including:",
    "Client susceptibility to back-end service refactoring.",
    "Client susceptibility to back-end service refactoring.",
    "A wider attack surface as core back-end services are directly exposed.",
    "A wider attack surface as core back-end services are directly exposed.",
    "Duplication of cross-cutting concerns across each microservice.",
    "Duplication of cross-cutting concerns across each microservice.",
    "Overly complex client code clients must keep track of multiple endpoints and handle failures in a resilient way.",
    "Overly complex client code clients must keep track of multiple endpoints and handle failures in a resilient way.",
    "Instead, a widely accepted cloud design pattern is to implement an ",
    "Instead, a widely accepted cloud design pattern is to implement an ",
    null,
    null,
    null,
    null,
    "In the previous figure, note how the API Gateway service abstracts the back-end core microservices. Implemented as a web API, it acts as a ",
    "In the previous figure, note how the API Gateway service abstracts the back-end core microservices. Implemented as a web API, it acts as a ",
    "The gateway insulates the client from internal service partitioning and refactoring. If you change a back-end service, you accommodate for it in the gateway without breaking the client. It",
    "The gateway insulates the client from internal service partitioning and refactoring. If you change a back-end service, you accommodate for it in the gateway without breaking the client. It",
    "Care must be taken to keep the API Gateway simple and fast. Typically, business logic is kept out of the gateway. A complex gateway risks becoming a bottleneck and eventually a monolith itself. Larger systems often expose multiple API Gateways segmented by client type (mobile, web, desktop) or back-end functionality. The ",
    "Care must be taken to keep the API Gateway simple and fast. Typically, business logic is kept out of the gateway. A complex gateway risks becoming a bottleneck and eventually a monolith itself. Larger systems often expose multiple API Gateways segmented by client type (mobile, web, desktop) or back-end functionality. The ",
    null,
    null,
    null,
    null,
    "Note in the previous figure how incoming traffic is sent to a specific API gateway - based upon client type: web, mobile, or desktop app. This approach makes sense as the capabilities of each device differ significantly across form factor, performance, and display limitations. Typically mobile applications expose less functionality than a browser or desktop applications. Each gateway can be optimized to match the capabilities and functionality of the corresponding device.",
    "Note in the previous figure how incoming traffic is sent to a specific API gateway - based upon client type: web, mobile, or desktop app. This approach makes sense as the capabilities of each device differ significantly across form factor, performance, and display limitations. Typically mobile applications expose less functionality than a browser or desktop applications. Each gateway can be optimized to match the capabilities and functionality of the corresponding device.",
    "To start, you could build your own API Gateway service. A quick search of GitHub will provide many examples.",
    "To start, you could build your own API Gateway service. A quick search of GitHub will provide many examples.",
    "For simple .NET cloud-native applications, you might consider the ",
    "For simple .NET cloud-native applications, you might consider the ",
    null,
    null,
    "For enterprise cloud-native applications, there are several managed Azure services that can help jump-start your efforts.",
    "For enterprise cloud-native applications, there are several managed Azure services that can help jump-start your efforts.",
    "For simple gateway requirements, you may consider ",
    "For simple gateway requirements, you may consider ",
    "Throughout this book, we evangelize hosting cloud-native systems in ",
    "Throughout this book, we evangelize hosting cloud-native systems in ",
    "The ",
    "The ",
    null,
    null,
    null,
    null,
    "Kubernetes includes a built-in feature that supports HTTP (Level 7) load balancing, called ",
    "Kubernetes includes a built-in feature that supports HTTP (Level 7) load balancing, called ",
    "For moderate to large-scale cloud-native systems, you may consider ",
    "For moderate to large-scale cloud-native systems, you may consider ",
    null,
    null,
    null,
    null,
    "To start, API Management exposes a gateway server that allows controlled access to back-end services based upon configurable rules and policies. These services can be in the Azure cloud, your on-prem data center, or other public clouds. API keys and JWT tokens determine who can do what. All traffic is logged for analytical purposes.",
    "To start, API Management exposes a gateway server that allows controlled access to back-end services based upon configurable rules and policies. These services can be in the Azure cloud, your on-prem data center, or other public clouds. API keys and JWT tokens determine who can do what. All traffic is logged for analytical purposes.",
    "For developers, API Management offers a developer portal that provides access to services, documentation, and sample code for invoking them. Developers can use Swagger/Open API to inspect service endpoints and analyze their usage. The service works across the major development platforms: .NET, Java, Golang, and more.",
    "For developers, API Management offers a developer portal that provides access to services, documentation, and sample code for invoking them. Developers can use Swagger/Open API to inspect service endpoints and analyze their usage. The service works across the major development platforms: .NET, Java, Golang, and more.",
    "The publisher portal exposes a management dashboard where administrators expose APIs and manage their behavior. Service access can be granted, service health monitored, and service telemetry gathered. Administrators apply ",
    "The publisher portal exposes a management dashboard where administrators expose APIs and manage their behavior. Service access can be granted, service health monitored, and service telemetry gathered. Administrators apply ",
    "Here are examples of how policies can affect the behavior of your cloud-native services:",
    "Here are examples of how policies can affect the behavior of your cloud-native services:",
    "Restrict service access.",
    "Restrict service access.",
    "Enforce authentication.",
    "Enforce authentication.",
    "Throttle calls from a single source, if necessary.",
    "Throttle calls from a single source, if necessary.",
    "Enable caching.",
    "Enable caching.",
    "Block calls from specific IP addresses.",
    "Block calls from specific IP addresses.",
    "Control the flow of the service.",
    "Control the flow of the service.",
    "Convert requests from SOAP to REST or between different data formats, such as from XML to JSON.",
    "Convert requests from SOAP to REST or between different data formats, such as from XML to JSON.",
    "Azure API Management can expose back-end services that are hosted anywhere \u2013 in the cloud or your data center. For legacy services that you may expose in your cloud-native systems, it supports both REST and SOAP APIs. Even other Azure services can be exposed through API Management. You could place a managed API on top of an Azure backing service like ",
    "Azure API Management can expose back-end services that are hosted anywhere \u2013 in the cloud or your data center. For legacy services that you may expose in your cloud-native systems, it supports both REST and SOAP APIs. Even other Azure services can be exposed through API Management. You could place a managed API on top of an Azure backing service like ",
    "Azure API Management is available across ",
    "Azure API Management is available across ",
    "Developer",
    "Developer",
    "Basic",
    "Basic",
    "Standard",
    "Standard",
    "Premium",
    "Premium",
    "The Developer tier is meant for non-production workloads and evaluation. The other tiers offer progressively more power, features, and higher service level agreements (SLAs). The Premium tier provides ",
    "The Developer tier is meant for non-production workloads and evaluation. The other tiers offer progressively more power, features, and higher service level agreements (SLAs). The Premium tier provides ",
    "The Azure cloud also offers a ",
    "The Azure cloud also offers a ",
    "It enables API Gateway features for the following use cases:",
    "It enables API Gateway features for the following use cases:",
    "Microservices implemented using serverless technologies such as ",
    "Microservices implemented using serverless technologies such as ",
    "Azure backing service resources such as Service Bus queues and topics, Azure storage, and others.",
    "Azure backing service resources such as Service Bus queues and topics, Azure storage, and others.",
    "Microservices where traffic has occasional large spikes but remains low most the time.",
    "Microservices where traffic has occasional large spikes but remains low most the time.",
    "The consumption tier uses the same underlying service API Management components, but employs an entirely different architecture based on dynamically allocated resources. It aligns perfectly with the serverless computing model:",
    "The consumption tier uses the same underlying service API Management components, but employs an entirely different architecture based on dynamically allocated resources. It aligns perfectly with the serverless computing model:",
    "No infrastructure to manage.",
    "No infrastructure to manage.",
    "No idle capacity.",
    "No idle capacity.",
    "High-availability.",
    "High-availability.",
    "Automatic scaling.",
    "Automatic scaling.",
    "Cost is based on actual usage.",
    "Cost is based on actual usage.",
    "The new consumption tier is a great choice for cloud-native systems that expose serverless resources as APIs.",
    "The new consumption tier is a great choice for cloud-native systems that expose serverless resources as APIs.",
    "Real-time, or push, communication is another option for front-end applications that communicate with back-end cloud-native systems over HTTP. Applications, such as financial-tickers, online education, gaming, and job-progress updates, require instantaneous, real-time responses from the back-end. With normal HTTP communication, there",
    "Real-time, or push, communication is another option for front-end applications that communicate with back-end cloud-native systems over HTTP. Applications, such as financial-tickers, online education, gaming, and job-progress updates, require instantaneous, real-time responses from the back-end. With normal HTTP communication, there",
    "Real-time systems are often characterized by high-frequency data flows and large numbers of concurrent client connections. Manually implementing real-time connectivity can quickly become complex, requiring non-trivial infrastructure to ensure scalability and reliable messaging to connected clients. You could find yourself managing an instance of Azure Redis Cache and a set of load balancers configured with sticky sessions for client affinity.",
    "Real-time systems are often characterized by high-frequency data flows and large numbers of concurrent client connections. Manually implementing real-time connectivity can quickly become complex, requiring non-trivial infrastructure to ensure scalability and reliable messaging to connected clients. You could find yourself managing an instance of Azure Redis Cache and a set of load balancers configured with sticky sessions for client affinity.",
    null,
    null,
    "Once enabled, a cloud-based HTTP service can push content updates directly to connected clients, including browser, mobile and desktop applications. Clients are updated without the need to poll the server. Azure SignalR abstracts the transport technologies that create real-time connectivity, including WebSockets, Server-Side Events, and Long Polling. Developers focus on sending messages to all or specific subsets of connected clients.",
    "Once enabled, a cloud-based HTTP service can push content updates directly to connected clients, including browser, mobile and desktop applications. Clients are updated without the need to poll the server. Azure SignalR abstracts the transport technologies that create real-time connectivity, including WebSockets, Server-Side Events, and Long Polling. Developers focus on sending messages to all or specific subsets of connected clients.",
    "Figure 4-7 shows a set of HTTP Clients connecting to a Cloud-native application with Azure SignalR enabled.",
    "Figure 4-7 shows a set of HTTP Clients connecting to a Cloud-native application with Azure SignalR enabled.",
    null,
    null,
    null,
    null,
    "Another advantage of Azure SignalR Service comes with implementing Serverless cloud-native services. Perhaps your code is executed on demand with Azure Functions triggers. This scenario can be tricky because your code doesn",
    "Another advantage of Azure SignalR Service comes with implementing Serverless cloud-native services. Perhaps your code is executed on demand with Azure Functions triggers. This scenario can be tricky because your code doesn",
    "Azure SignalR Service closely integrates with other Azure services, such as Azure SQL Database, Service Bus, or Redis Cache, opening up many possibilities for your cloud-native applications.",
    "Azure SignalR Service closely integrates with other Azure services, such as Azure SQL Database, Service Bus, or Redis Cache, opening up many possibilities for your cloud-native applications.",
    "Moving from the front-end client, we now address back-end microservices communicate with each other.",
    "Moving from the front-end client, we now address back-end microservices communicate with each other.",
    "When constructing a cloud-native application, you",
    "When constructing a cloud-native application, you",
    "There are several widely accepted approaches to implementing cross-service communication. The ",
    "There are several widely accepted approaches to implementing cross-service communication. The ",
    "Consider the following interaction types:",
    "Consider the following interaction types:",
    "\u2022 ",
    "\u2022 ",
    null,
    null,
    null,
    null,
    "Microservice systems typically use a combination of these interaction types when executing operations that require cross-service interaction. Let",
    "Microservice systems typically use a combination of these interaction types when executing operations that require cross-service interaction. Let",
    "Many times, one microservice might need to ",
    "Many times, one microservice might need to ",
    "One option for implementing this scenario is for the calling back-end microservice to make direct HTTP requests to the microservices it needs to query, shown in Figure 4-8.",
    "One option for implementing this scenario is for the calling back-end microservice to make direct HTTP requests to the microservices it needs to query, shown in Figure 4-8.",
    null,
    null,
    null,
    null,
    "While direct HTTP calls between microservices are relatively simple to implement, care should be taken to minimize this practice. To start, these calls are always ",
    "While direct HTTP calls between microservices are relatively simple to implement, care should be taken to minimize this practice. To start, these calls are always ",
    "Executing an infrequent request that makes a single direct HTTP call to another microservice might be acceptable for some systems. However, high-volume calls that invoke direct HTTP calls to multiple microservices aren",
    "Executing an infrequent request that makes a single direct HTTP call to another microservice might be acceptable for some systems. However, high-volume calls that invoke direct HTTP calls to multiple microservices aren",
    null,
    null,
    null,
    null,
    "You can certainly imagine the risk in the design shown in the previous image. What happens if Step #3 fails? Or Step #8 fails? How do you recover? What if Step #6 is slow because the underlying service is busy? How do you continue? Even if all works correctly, think of the latency this call would incur, which is the sum of the latency of each step.",
    "You can certainly imagine the risk in the design shown in the previous image. What happens if Step #3 fails? Or Step #8 fails? How do you recover? What if Step #6 is slow because the underlying service is busy? How do you continue? Even if all works correctly, think of the latency this call would incur, which is the sum of the latency of each step.",
    "The large degree of coupling in the previous image suggests the services weren",
    "The large degree of coupling in the previous image suggests the services weren",
    "A popular option for removing microservice coupling is the ",
    "A popular option for removing microservice coupling is the ",
    "Another option for eliminating microservice-to-microservice coupling is an ",
    "Another option for eliminating microservice-to-microservice coupling is an ",
    null,
    null,
    null,
    null,
    "The pattern isolates an operation that makes calls to multiple back-end microservices, centralizing its logic into a specialized microservice. The purple checkout aggregator microservice in the previous figure orchestrates the workflow for the Checkout operation. It includes calls to several back-end microservices in a sequenced order. Data from the workflow is aggregated and returned to the caller. While it still implements direct HTTP calls, the aggregator microservice reduces direct dependencies among back-end microservices.",
    "The pattern isolates an operation that makes calls to multiple back-end microservices, centralizing its logic into a specialized microservice. The purple checkout aggregator microservice in the previous figure orchestrates the workflow for the Checkout operation. It includes calls to several back-end microservices in a sequenced order. Data from the workflow is aggregated and returned to the caller. While it still implements direct HTTP calls, the aggregator microservice reduces direct dependencies among back-end microservices.",
    "Another approach for decoupling synchronous HTTP messages is a ",
    "Another approach for decoupling synchronous HTTP messages is a ",
    null,
    null,
    null,
    null,
    "Here, the message producer creates a query-based message that contains a unique correlation ID and places it into a request queue. The consuming service dequeues the messages, processes it and places the response into the response queue with the same correlation ID. The producer service dequeues the message, matches it with the correlation ID and continues processing. We cover queues in detail in the next section.",
    "Here, the message producer creates a query-based message that contains a unique correlation ID and places it into a request queue. The consuming service dequeues the messages, processes it and places the response into the response queue with the same correlation ID. The producer service dequeues the message, matches it with the correlation ID and continues processing. We cover queues in detail in the next section.",
    "Another type of communication interaction is a ",
    "Another type of communication interaction is a ",
    null,
    null,
    null,
    null,
    "Most often, the Producer doesn",
    "Most often, the Producer doesn",
    "A message queue is an intermediary construct through which a producer and consumer pass a message. Queues implement an asynchronous, point-to-point messaging pattern. The Producer knows where a command needs to be sent and routes appropriately. The queue guarantees that a message is processed by exactly one of the consumer instances that are reading from the channel. In this scenario, either the producer or consumer service can scale out without affecting the other. As well, technologies can be disparate on each side, meaning that we might have a Java microservice calling a ",
    "A message queue is an intermediary construct through which a producer and consumer pass a message. Queues implement an asynchronous, point-to-point messaging pattern. The Producer knows where a command needs to be sent and routes appropriately. The queue guarantees that a message is processed by exactly one of the consumer instances that are reading from the channel. In this scenario, either the producer or consumer service can scale out without affecting the other. As well, technologies can be disparate on each side, meaning that we might have a Java microservice calling a ",
    "In chapter 1, we talked about ",
    "In chapter 1, we talked about ",
    "Azure storage queues offer a simple queueing infrastructure that is fast, affordable, and backed by Azure storage accounts.",
    "Azure storage queues offer a simple queueing infrastructure that is fast, affordable, and backed by Azure storage accounts.",
    null,
    null,
    "You can access messages from anywhere in the world via authenticated calls using HTTP or HTTPS. Storage queues can scale out to large numbers of concurrent clients to handle traffic spikes.",
    "You can access messages from anywhere in the world via authenticated calls using HTTP or HTTPS. Storage queues can scale out to large numbers of concurrent clients to handle traffic spikes.",
    "That said, there are limitations with the service:",
    "That said, there are limitations with the service:",
    "Message order isn",
    "Message order isn",
    "A message can only persist for seven days before it",
    "A message can only persist for seven days before it",
    "Support for state management, duplicate detection, or transactions isn",
    "Support for state management, duplicate detection, or transactions isn",
    "Figure 4-13 shows the hierarchy of an Azure Storage Queue.",
    "Figure 4-13 shows the hierarchy of an Azure Storage Queue.",
    null,
    null,
    null,
    null,
    "In the previous figure, note how storage queues store their messages in the underlying Azure Storage account.",
    "In the previous figure, note how storage queues store their messages in the underlying Azure Storage account.",
    "For developers, Microsoft provides several client and server-side libraries for Storage queue processing. Most major platforms are supported including .NET, Java, JavaScript, Ruby, Python, and Go. Developers should never communicate directly with these libraries. Doing so will tightly couple your microservice code to the Azure Storage Queue service. It",
    "For developers, Microsoft provides several client and server-side libraries for Storage queue processing. Most major platforms are supported including .NET, Java, JavaScript, Ruby, Python, and Go. Developers should never communicate directly with these libraries. Doing so will tightly couple your microservice code to the Azure Storage Queue service. It",
    "Azure Storage queues are an economical option to implement command messaging in your cloudnative applications. Especially when a queue size will exceed 80 GB, or a simple feature set is acceptable. You only pay for the storage of the messages; there are no fixed hourly charges.",
    "Azure Storage queues are an economical option to implement command messaging in your cloudnative applications. Especially when a queue size will exceed 80 GB, or a simple feature set is acceptable. You only pay for the storage of the messages; there are no fixed hourly charges.",
    "For more complex messaging requirements, consider Azure Service Bus queues.",
    "For more complex messaging requirements, consider Azure Service Bus queues.",
    "Sitting atop a robust message infrastructure, ",
    "Sitting atop a robust message infrastructure, ",
    "The size of a message can be much larger, up to 256 KB. Messages are persisted in the queue for an unlimited period of time. Service Bus supports not only HTTP-based calls, but also provides full",
    "The size of a message can be much larger, up to 256 KB. Messages are persisted in the queue for an unlimited period of time. Service Bus supports not only HTTP-based calls, but also provides full",
    "support for the ",
    "support for the ",
    "Service Bus provides a rich set of features, including ",
    "Service Bus provides a rich set of features, including ",
    "Two more enterprise features are partitioning and sessions. A conventional Service Bus queue is handled by a single message broker and stored in a single message store. But, ",
    "Two more enterprise features are partitioning and sessions. A conventional Service Bus queue is handled by a single message broker and stored in a single message store. But, ",
    null,
    null,
    "However, there are some important caveats: Service Bus queues size is limited to 80 GB, which is much smaller than what",
    "However, there are some important caveats: Service Bus queues size is limited to 80 GB, which is much smaller than what",
    "Figure 4-14 outlines the high-level architecture of a Service Bus queue.",
    "Figure 4-14 outlines the high-level architecture of a Service Bus queue.",
    null,
    null,
    null,
    null,
    "In the previous figure, note the point-to-point relationship. Two instances of the same provider are enqueuing messages into a single Service Bus queue. Each message is consumed by only one of three consumer instances on the right. Next, we discuss how to implement messaging where different consumers may all be interested the same message.",
    "In the previous figure, note the point-to-point relationship. Two instances of the same provider are enqueuing messages into a single Service Bus queue. Each message is consumed by only one of three consumer instances on the right. Next, we discuss how to implement messaging where different consumers may all be interested the same message.",
    "Message queuing is an effective way to implement communication where a producer can asynchronously send a consumer a message. However, what happens when ",
    "Message queuing is an effective way to implement communication where a producer can asynchronously send a consumer a message. However, what happens when ",
    "To address this scenario, we move to the third type of message interaction, the ",
    "To address this scenario, we move to the third type of message interaction, the ",
    "Eventing is a two-step process. For a given state change, a microservice publishes an event to a message broker, making it available to any other interested microservice. The interested microservice is notified by subscribing to the event in the message broker. You use the ",
    "Eventing is a two-step process. For a given state change, a microservice publishes an event to a message broker, making it available to any other interested microservice. The interested microservice is notified by subscribing to the event in the message broker. You use the ",
    "Figure 4-15 shows a shopping basket microservice publishing an event with two other microservices subscribing to it.",
    "Figure 4-15 shows a shopping basket microservice publishing an event with two other microservices subscribing to it.",
    null,
    null,
    null,
    null,
    "Note the ",
    "Note the ",
    "With eventing, we move from queuing technology to ",
    "With eventing, we move from queuing technology to ",
    null,
    null,
    null,
    null,
    "In the previous figure, publishers send messages to the topic. At the end, subscribers receive messages from subscriptions. In the middle, the topic forwards messages to subscriptions based on a set of rules, shown in dark blue boxes. Rules act as a filter that forward specific messages to a subscription. Here, a ",
    "In the previous figure, publishers send messages to the topic. At the end, subscribers receive messages from subscriptions. In the middle, the topic forwards messages to subscriptions based on a set of rules, shown in dark blue boxes. Rules act as a filter that forward specific messages to a subscription. Here, a ",
    "The Azure cloud supports two different topic services: Azure Service Bus Topics and Azure EventGrid.",
    "The Azure cloud supports two different topic services: Azure Service Bus Topics and Azure EventGrid.",
    "Sitting on top of the same robust brokered message model of Azure Service Bus queues are ",
    "Sitting on top of the same robust brokered message model of Azure Service Bus queues are ",
    "Many advanced features from Azure Service Bus queues are also available for topics, including ",
    "Many advanced features from Azure Service Bus queues are also available for topics, including ",
    null,
    null,
    "Service Bus topics are a robust and proven technology for enabling publish/subscribe communication in your cloud-native systems.",
    "Service Bus topics are a robust and proven technology for enabling publish/subscribe communication in your cloud-native systems.",
    "While Azure Service Bus is a battle-tested messaging broker with a full set of enterprise features, ",
    "While Azure Service Bus is a battle-tested messaging broker with a full set of enterprise features, ",
    "At first glance, Event Grid may look like just another topic-based messaging system. However, it",
    "At first glance, Event Grid may look like just another topic-based messaging system. However, it",
    "As a centralized ",
    "As a centralized ",
    "Event notifications are published to an Event Grid Topic, which, in turn, routes each event to a subscription. Subscribers map to subscriptions and consume the events. Like Service Bus, Event Grid supports a ",
    "Event notifications are published to an Event Grid Topic, which, in turn, routes each event to a subscription. Subscribers map to subscriptions and consume the events. Like Service Bus, Event Grid supports a ",
    "A sweet spot for Event Grid is its deep integration into the fabric of Azure infrastructure. An Azure resource, such as Cosmos DB, can publish built-in events directly to other interested Azure resources without the need for custom code. Event Grid can publish events from an Azure Subscription, Resource Group, or Service, giving developers fine-grained control over the lifecycle of cloud resources. However, Event Grid isn",
    "A sweet spot for Event Grid is its deep integration into the fabric of Azure infrastructure. An Azure resource, such as Cosmos DB, can publish built-in events directly to other interested Azure resources without the need for custom code. Event Grid can publish events from an Azure Subscription, Resource Group, or Service, giving developers fine-grained control over the lifecycle of cloud resources. However, Event Grid isn",
    "When publishing and subscribing to native events from Azure resources, no coding is required. With simple configuration, you can integrate events from one Azure resource to another leveraging built-in plumbing for Topics and Subscriptions. Figure 4-17 shows the anatomy of Event Grid.",
    "When publishing and subscribing to native events from Azure resources, no coding is required. With simple configuration, you can integrate events from one Azure resource to another leveraging built-in plumbing for Topics and Subscriptions. Figure 4-17 shows the anatomy of Event Grid.",
    null,
    null,
    null,
    null,
    "A major difference between EventGrid and Service Bus is the underlying ",
    "A major difference between EventGrid and Service Bus is the underlying ",
    "Service Bus implements an older style ",
    "Service Bus implements an older style ",
    "EventGrid, however, is different. It implements a ",
    "EventGrid, however, is different. It implements a ",
    "Event Grid is a fully managed serverless cloud service. It dynamically scales based on your traffic and charges you only for your actual usage, not pre-purchased capacity. The first 100,000 operations per month are free \u2013 operations being defined as event ingress (incoming event notifications), subscription delivery attempts, management calls, and filtering by subject. With 99.99% availability, EventGrid guarantees the delivery of an event within a 24-hour period, with built-in retry functionality for unsuccessful delivery. Undelivered messages can be moved to a ",
    "Event Grid is a fully managed serverless cloud service. It dynamically scales based on your traffic and charges you only for your actual usage, not pre-purchased capacity. The first 100,000 operations per month are free \u2013 operations being defined as event ingress (incoming event notifications), subscription delivery attempts, management calls, and filtering by subject. With 99.99% availability, EventGrid guarantees the delivery of an event within a 24-hour period, with built-in retry functionality for unsuccessful delivery. Undelivered messages can be moved to a ",
    "Azure Service Bus and Event Grid provide great support for applications that expose single, discrete events like a new document has been inserted into a Cosmos DB. But, what if your cloud-native system needs to process a ",
    "Azure Service Bus and Event Grid provide great support for applications that expose single, discrete events like a new document has been inserted into a Cosmos DB. But, what if your cloud-native system needs to process a ",
    null,
    null,
    null,
    null,
    null,
    null,
    "Event Hub supports low latency and configurable time retention. Unlike queues and topics, Event Hubs keep event data after it",
    "Event Hub supports low latency and configurable time retention. Unlike queues and topics, Event Hubs keep event data after it",
    "Event Hub supports common event publishing protocols including HTTPS and AMQP. It also supports Kafka 1.0. ",
    "Event Hub supports common event publishing protocols including HTTPS and AMQP. It also supports Kafka 1.0. ",
    "Event Hubs implements message streaming through a ",
    "Event Hubs implements message streaming through a ",
    null,
    null,
    null,
    null,
    "Instead of reading from the same resource, each consumer group reads across a subset, or partition, of the message stream.",
    "Instead of reading from the same resource, each consumer group reads across a subset, or partition, of the message stream.",
    "For cloud-native applications that must stream large numbers of events, Azure Event Hub can be a robust and affordable solution.",
    "For cloud-native applications that must stream large numbers of events, Azure Event Hub can be a robust and affordable solution.",
    "So far in this book, we",
    "So far in this book, we",
    "gRPC is a modern, high-performance framework that evolves the age-old ",
    "gRPC is a modern, high-performance framework that evolves the age-old ",
    "A typical gRPC client app will expose a local, in-process function that implements a business operation. Under the covers, that local function invokes another function on a remote machine. What appears to be a local call essentially becomes a transparent out-of-process call to a remote service. The RPC plumbing abstracts the point-to-point networking communication, serialization, and execution between computers.",
    "A typical gRPC client app will expose a local, in-process function that implements a business operation. Under the covers, that local function invokes another function on a remote machine. What appears to be a local call essentially becomes a transparent out-of-process call to a remote service. The RPC plumbing abstracts the point-to-point networking communication, serialization, and execution between computers.",
    "In cloud-native applications, developers often work across programming languages, frameworks, and technologies. This ",
    "In cloud-native applications, developers often work across programming languages, frameworks, and technologies. This ",
    "gRPC offers comprehensive support across most popular development stacks, including Java, JavaScript, C#, Go, Swift, and NodeJS.",
    "gRPC offers comprehensive support across most popular development stacks, including Java, JavaScript, C#, Go, Swift, and NodeJS.",
    "gRPC uses HTTP/2 for its transport protocol. While compatible with HTTP 1.1, HTTP/2 features many advanced capabilities:",
    "gRPC uses HTTP/2 for its transport protocol. While compatible with HTTP 1.1, HTTP/2 features many advanced capabilities:",
    "A binary framing protocol for data transport unlike HTTP 1.1, which is text based.",
    "A binary framing protocol for data transport unlike HTTP 1.1, which is text based.",
    "Multiplexing support for sending multiple parallel requests over the same connection HTTP 1.1 limits processing to one request/response message at a time.",
    "Multiplexing support for sending multiple parallel requests over the same connection HTTP 1.1 limits processing to one request/response message at a time.",
    "Bidirectional full-duplex communication for sending both client requests and server responses simultaneously.",
    "Bidirectional full-duplex communication for sending both client requests and server responses simultaneously.",
    "Built-in streaming enabling requests and responses to asynchronously stream large data sets.",
    "Built-in streaming enabling requests and responses to asynchronously stream large data sets.",
    "Header compression that reduces network usage.",
    "Header compression that reduces network usage.",
    "gRPC is lightweight and highly performant. It can be up to 8x faster than JSON serialization with messages 60-80% smaller. In Microsoft ",
    "gRPC is lightweight and highly performant. It can be up to 8x faster than JSON serialization with messages 60-80% smaller. In Microsoft ",
    "gRPC embraces an open-source technology called ",
    "gRPC embraces an open-source technology called ",
    "Using the proto file, the Protobuf compiler, protoc, generates both client and service code for your target platform. The code includes the following components:",
    "Using the proto file, the Protobuf compiler, protoc, generates both client and service code for your target platform. The code includes the following components:",
    "Strongly typed objects, shared by the client and service, that represent the service operations and data elements for a message.",
    "Strongly typed objects, shared by the client and service, that represent the service operations and data elements for a message.",
    "A strongly typed base class with the required network plumbing that the remote gRPC service can inherit and extend.",
    "A strongly typed base class with the required network plumbing that the remote gRPC service can inherit and extend.",
    "A client stub that contains the required plumbing to invoke the remote gRPC service.",
    "A client stub that contains the required plumbing to invoke the remote gRPC service.",
    "At run time, each message is serialized as a standard Protobuf representation and exchanged between the client and remote service. Unlike JSON or XML, Protobuf messages are serialized as compiled binary bytes.",
    "At run time, each message is serialized as a standard Protobuf representation and exchanged between the client and remote service. Unlike JSON or XML, Protobuf messages are serialized as compiled binary bytes.",
    "The book, ",
    "The book, ",
    "gRPC is integrated into .NET Core 3.0 SDK and later. The following tools support it:",
    "gRPC is integrated into .NET Core 3.0 SDK and later. The following tools support it:",
    "Visual Studio 2022 with the ASP.NET and web development workload installed",
    "Visual Studio 2022 with the ASP.NET and web development workload installed",
    "Visual Studio Code",
    "Visual Studio Code",
    "The dotnet CLI",
    "The dotnet CLI",
    "The SDK includes tooling for endpoint routing, built-in IoC, and logging. The open-source Kestrel web server supports HTTP/2 connections. Figure 4-20 shows a Visual Studio 2022 template that scaffolds a skeleton project for a gRPC service. Note how .NET fully supports Windows, Linux, and macOS.",
    "The SDK includes tooling for endpoint routing, built-in IoC, and logging. The open-source Kestrel web server supports HTTP/2 connections. Figure 4-20 shows a Visual Studio 2022 template that scaffolds a skeleton project for a gRPC service. Note how .NET fully supports Windows, Linux, and macOS.",
    null,
    null,
    null,
    null,
    "Figure 4-21 shows the skeleton gRPC service generated from the built-in scaffolding included in Visual Studio 2022.",
    "Figure 4-21 shows the skeleton gRPC service generated from the built-in scaffolding included in Visual Studio 2022.",
    null,
    null,
    null,
    null,
    "In the previous figure, note the proto description file and service code. As you",
    "In the previous figure, note the proto description file and service code. As you",
    "Favor gRPC for the following scenarios:",
    "Favor gRPC for the following scenarios:",
    "Synchronous backend microservice-to-microservice communication where an immediate response is required to continue processing.",
    "Synchronous backend microservice-to-microservice communication where an immediate response is required to continue processing.",
    "Polyglot environments that need to support mixed programming platforms.",
    "Polyglot environments that need to support mixed programming platforms.",
    "Low latency and high throughput communication where performance is critical.",
    "Low latency and high throughput communication where performance is critical.",
    "Point-to-point real-time communication gRPC can push messages in real time without polling and has excellent support for bi-directional streaming.",
    "Point-to-point real-time communication gRPC can push messages in real time without polling and has excellent support for bi-directional streaming.",
    "\u2022 Network constrained environments \u2013 binary gRPC messages are always smaller than an equivalent text-based JSON message.",
    "\u2022 Network constrained environments \u2013 binary gRPC messages are always smaller than an equivalent text-based JSON message.",
    "At the time, of this writing, gRPC is primarily used with backend services. Modern browsers can",
    "At the time, of this writing, gRPC is primarily used with backend services. Modern browsers can",
    "Strongly typed, code-generated clients",
    "Strongly typed, code-generated clients",
    "Compact Protobuf messages",
    "Compact Protobuf messages",
    "Server streaming",
    "Server streaming",
    "The microservice reference architecture, ",
    "The microservice reference architecture, ",
    null,
    null,
    null,
    null,
    "In the previous figure, note how eShop embraces the ",
    "In the previous figure, note how eShop embraces the ",
    null,
    null,
    null,
    null,
    "gRPC communication requires both client and server components. In the previous figure, note how the Shopping Aggregator implements a gRPC client. The client makes synchronous gRPC calls (in red) to backend microservices, each of which implement a gRPC server. Both the client and server take advantage of the built-in gRPC plumbing from the .NET SDK. Client-side ",
    "gRPC communication requires both client and server components. In the previous figure, note how the Shopping Aggregator implements a gRPC client. The client makes synchronous gRPC calls (in red) to backend microservices, each of which implement a gRPC server. Both the client and server take advantage of the built-in gRPC plumbing from the .NET SDK. Client-side ",
    "Microservices that expose both a RESTful API and gRPC communication require multiple endpoints to manage traffic. You would open an endpoint that listens for HTTP traffic for the RESTful calls and another for gRPC calls. The gRPC endpoint must be configured for the HTTP/2 protocol that is required for gRPC communication.",
    "Microservices that expose both a RESTful API and gRPC communication require multiple endpoints to manage traffic. You would open an endpoint that listens for HTTP traffic for the RESTful calls and another for gRPC calls. The gRPC endpoint must be configured for the HTTP/2 protocol that is required for gRPC communication.",
    "While we strive to decouple microservices with asynchronous communication patterns, some operations require direct calls. gRPC should be the primary choice for direct synchronous communication between microservices. Its high-performance communication protocol, based on HTTP/2 and protocol buffers, make it a perfect choice.",
    "While we strive to decouple microservices with asynchronous communication patterns, some operations require direct calls. gRPC should be the primary choice for direct synchronous communication between microservices. Its high-performance communication protocol, based on HTTP/2 and protocol buffers, make it a perfect choice.",
    "Looking ahead, gRPC will continue to gain traction for cloud-native systems. The performance benefits and ease of development are compelling. However, REST will likely be around for a long time. It excels for publicly exposed APIs and for backward compatibility reasons.",
    "Looking ahead, gRPC will continue to gain traction for cloud-native systems. The performance benefits and ease of development are compelling. However, REST will likely be around for a long time. It excels for publicly exposed APIs and for backward compatibility reasons.",
    "Throughout this chapter, we",
    "Throughout this chapter, we",
    "We explored different approaches for implementing synchronous HTTP communication and asynchronous messaging. In each of the cases, the developer is burdened with implementing communication code. Communication code is complex and time intensive. Incorrect decisions can lead to significant performance issues.",
    "We explored different approaches for implementing synchronous HTTP communication and asynchronous messaging. In each of the cases, the developer is burdened with implementing communication code. Communication code is complex and time intensive. Incorrect decisions can lead to significant performance issues.",
    "A more modern approach to microservice communication centers around a new and rapidly evolving technology entitled ",
    "A more modern approach to microservice communication centers around a new and rapidly evolving technology entitled ",
    "A key component of a service mesh is a proxy. In a cloud-native application, an instance of a proxy is typically colocated with each microservice. While they execute in separate processes, the two are closely linked and share the same lifecycle. This pattern, known as the ",
    "A key component of a service mesh is a proxy. In a cloud-native application, an instance of a proxy is typically colocated with each microservice. While they execute in separate processes, the two are closely linked and share the same lifecycle. This pattern, known as the ",
    null,
    null,
    null,
    null,
    "Note in the previous figure how messages are intercepted by a proxy that runs alongside each microservice. Each proxy can be configured with traffic rules specific to the microservice. It understands messages and can route them across your services and the outside world.",
    "Note in the previous figure how messages are intercepted by a proxy that runs alongside each microservice. Each proxy can be configured with traffic rules specific to the microservice. It understands messages and can route them across your services and the outside world.",
    "Along with managing service-to-service communication, the Service Mesh provides support for service discovery and load balancing.",
    "Along with managing service-to-service communication, the Service Mesh provides support for service discovery and load balancing.",
    "Once configured, a service mesh is highly functional. The mesh retrieves a corresponding pool of instances from a service discovery endpoint. It sends a request to a specific service instance, recording the latency and response type of the result. It chooses the instance most likely to return a fast response based on different factors, including the observed latency for recent requests.",
    "Once configured, a service mesh is highly functional. The mesh retrieves a corresponding pool of instances from a service discovery endpoint. It sends a request to a specific service instance, recording the latency and response type of the result. It chooses the instance most likely to return a fast response based on different factors, including the observed latency for recent requests.",
    "A service mesh manages traffic, communication, and networking concerns at the application level. It understands messages and requests. A service mesh typically integrates with a container orchestrator. Kubernetes supports an extensible architecture in which a service mesh can be added.",
    "A service mesh manages traffic, communication, and networking concerns at the application level. It understands messages and requests. A service mesh typically integrates with a container orchestrator. Kubernetes supports an extensible architecture in which a service mesh can be added.",
    "In chapter 6, we deep-dive into Service Mesh technologies including a discussion on its architecture and available open-source implementations.",
    "In chapter 6, we deep-dive into Service Mesh technologies including a discussion on its architecture and available open-source implementations.",
    "In this chapter, we discussed cloud-native communication patterns. We started by examining how front-end clients communicate with back-end microservices. Along the way, we talked about API Gateway platforms and real-time communication. We then looked at how microservices communicate with other back-end services. We looked at both synchronous HTTP communication and asynchronous messaging across services. We covered gRPC, an upcoming technology in the cloudnative world. Finally, we introduced a new and rapidly evolving technology entitled Service Mesh that can streamline microservice communication.",
    "In this chapter, we discussed cloud-native communication patterns. We started by examining how front-end clients communicate with back-end microservices. Along the way, we talked about API Gateway platforms and real-time communication. We then looked at how microservices communicate with other back-end services. We looked at both synchronous HTTP communication and asynchronous messaging across services. We covered gRPC, an upcoming technology in the cloudnative world. Finally, we introduced a new and rapidly evolving technology entitled Service Mesh that can streamline microservice communication.",
    "Special emphasis was on managed Azure services that can help implement communication in cloudnative systems:",
    "Special emphasis was on managed Azure services that can help implement communication in cloudnative systems:",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "We next move to distributed data in cloud-native systems and the benefits and challenges that it presents.",
    "We next move to distributed data in cloud-native systems and the benefits and challenges that it presents.",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "As we",
    "As we",
    "Figure 5-1 contrasts the differences.",
    "Figure 5-1 contrasts the differences.",
    null,
    null,
    null,
    null,
    "Experienced developers will easily recognize the architecture on the left-side of figure 5-1. In this ",
    "Experienced developers will easily recognize the architecture on the left-side of figure 5-1. In this ",
    "In many ways, a single database keeps data management simple. Querying data across multiple tables is straightforward. Changes to data update together or they all rollback. ",
    "In many ways, a single database keeps data management simple. Querying data across multiple tables is straightforward. Changes to data update together or they all rollback. ",
    "Designing for cloud-native, we take a different approach. On the right-side of Figure 5-1, note how business functionality segregates into small, independent microservices. Each microservice encapsulates a specific business capability and its own data. The monolithic database decomposes",
    "Designing for cloud-native, we take a different approach. On the right-side of Figure 5-1, note how business functionality segregates into small, independent microservices. Each microservice encapsulates a specific business capability and its own data. The monolithic database decomposes",
    "into a distributed data model with many smaller databases, each aligning with a microservice. When the smoke clears, we emerge with a design that exposes a ",
    "into a distributed data model with many smaller databases, each aligning with a microservice. When the smoke clears, we emerge with a design that exposes a ",
    "This database per microservice provides many benefits, especially for systems that must evolve rapidly and support massive scale. With this model\u2026",
    "This database per microservice provides many benefits, especially for systems that must evolve rapidly and support massive scale. With this model\u2026",
    "Domain data is encapsulated within the service",
    "Domain data is encapsulated within the service",
    "Data schema can evolve without directly impacting other services",
    "Data schema can evolve without directly impacting other services",
    "Each data store can independently scale",
    "Each data store can independently scale",
    "A data store failure in one service won",
    "A data store failure in one service won",
    "Segregating data also enables each microservice to implement the data store type that is best optimized for its workload, storage needs, and read/write patterns. Choices include relational, document, key-value, and even graph-based data stores.",
    "Segregating data also enables each microservice to implement the data store type that is best optimized for its workload, storage needs, and read/write patterns. Choices include relational, document, key-value, and even graph-based data stores.",
    "Figure 5-2 presents the principle of polyglot persistence in a cloud-native system.",
    "Figure 5-2 presents the principle of polyglot persistence in a cloud-native system.",
    null,
    null,
    null,
    null,
    "Note in the previous figure how each microservice supports a different type of data store.",
    "Note in the previous figure how each microservice supports a different type of data store.",
    "The product catalog microservice consumes a relational database to accommodate the rich relational structure of its underlying data.",
    "The product catalog microservice consumes a relational database to accommodate the rich relational structure of its underlying data.",
    "The shopping cart microservice consumes a distributed cache that supports its simple, keyvalue data store.",
    "The shopping cart microservice consumes a distributed cache that supports its simple, keyvalue data store.",
    "The ordering microservice consumes both a NoSql document database for write operations along with a highly denormalized key/value store to accommodate high-volumes of read operations.",
    "The ordering microservice consumes both a NoSql document database for write operations along with a highly denormalized key/value store to accommodate high-volumes of read operations.",
    "While relational databases remain relevant for microservices with complex data, NoSQL databases have gained considerable popularity. They provide massive scale and high availability. Their schemaless nature allows developers to move away from an architecture of typed data classes and ORMs that make change expensive and time-consuming. We cover NoSQL databases later in this chapter.",
    "While relational databases remain relevant for microservices with complex data, NoSQL databases have gained considerable popularity. They provide massive scale and high availability. Their schemaless nature allows developers to move away from an architecture of typed data classes and ORMs that make change expensive and time-consuming. We cover NoSQL databases later in this chapter.",
    "While encapsulating data into separate microservices can increase agility, performance, and scalability, it also presents many challenges. In the next section, we discuss these challenges along with patterns and practices to help overcome them.",
    "While encapsulating data into separate microservices can increase agility, performance, and scalability, it also presents many challenges. In the next section, we discuss these challenges along with patterns and practices to help overcome them.",
    "While microservices are independent and focus on specific functional capabilities, like inventory, shipping, or ordering, they frequently require integration with other microservices. Often the integration involves one microservice ",
    "While microservices are independent and focus on specific functional capabilities, like inventory, shipping, or ordering, they frequently require integration with other microservices. Often the integration involves one microservice ",
    null,
    null,
    null,
    null,
    "In the preceding figure, we see a shopping basket microservice that adds an item to a user",
    "In the preceding figure, we see a shopping basket microservice that adds an item to a user",
    "One option discussed in Chapter 4 is a ",
    "One option discussed in Chapter 4 is a ",
    "We could also implement a request-reply pattern with separate inbound and outbound queues for each service. However, this pattern is complicated and requires plumbing to correlate request and response messages. While it does decouple the backend microservice calls, the calling service must still synchronously wait for the call to complete. Network congestion, transient faults, or an overloaded microservice and can result in long-running and even failed operations.",
    "We could also implement a request-reply pattern with separate inbound and outbound queues for each service. However, this pattern is complicated and requires plumbing to correlate request and response messages. While it does decouple the backend microservice calls, the calling service must still synchronously wait for the call to complete. Network congestion, transient faults, or an overloaded microservice and can result in long-running and even failed operations.",
    "Instead, a widely accepted pattern for removing cross-service dependencies is the ",
    "Instead, a widely accepted pattern for removing cross-service dependencies is the ",
    null,
    null,
    null,
    null,
    "With this pattern, you place a local data table (known as a ",
    "With this pattern, you place a local data table (known as a ",
    "The catch with this approach is that you now have duplicate data in your system. However, ",
    "The catch with this approach is that you now have duplicate data in your system. However, ",
    "While querying data across microservices is difficult, implementing a transaction across several microservices is even more complex. The inherent challenge of maintaining data consistency across independent data sources in different microservices can",
    "While querying data across microservices is difficult, implementing a transaction across several microservices is even more complex. The inherent challenge of maintaining data consistency across independent data sources in different microservices can",
    "Figure 5-5 shows the problem.",
    "Figure 5-5 shows the problem.",
    null,
    null,
    null,
    null,
    "In the preceding figure, five independent microservices participate in a distributed transaction that creates an order. Each microservice maintains its own data store and implements a local transaction for its store. To create the order, the local transaction for ",
    "In the preceding figure, five independent microservices participate in a distributed transaction that creates an order. Each microservice maintains its own data store and implements a local transaction for its store. To create the order, the local transaction for ",
    "Instead, you must construct this distributed transaction ",
    "Instead, you must construct this distributed transaction ",
    "A popular pattern for adding distributed transactional support is the Saga pattern. It",
    "A popular pattern for adding distributed transactional support is the Saga pattern. It",
    null,
    null,
    null,
    null,
    "In the previous figure, the ",
    "In the previous figure, the ",
    "Saga patterns are typically choreographed as a series of related events, or orchestrated as a set of related commands. In Chapter 4, we discussed the service aggregator pattern that would be the foundation for an orchestrated saga implementation. We also discussed eventing along with Azure Service Bus and Azure Event Grid topics that would be a foundation for a choreographed saga implementation.",
    "Saga patterns are typically choreographed as a series of related events, or orchestrated as a set of related commands. In Chapter 4, we discussed the service aggregator pattern that would be the foundation for an orchestrated saga implementation. We also discussed eventing along with Azure Service Bus and Azure Event Grid topics that would be a foundation for a choreographed saga implementation.",
    "Large cloud-native applications often support high-volume data requirements. In these scenarios, traditional data storage techniques can cause bottlenecks. For complex systems that deploy on a large scale, both Command and Query Responsibility Segregation (CQRS) and Event Sourcing may improve application performance.",
    "Large cloud-native applications often support high-volume data requirements. In these scenarios, traditional data storage techniques can cause bottlenecks. For complex systems that deploy on a large scale, both Command and Query Responsibility Segregation (CQRS) and Event Sourcing may improve application performance.",
    null,
    null,
    "For normal scenarios, the same entity model and data repository object are used for ",
    "For normal scenarios, the same entity model and data repository object are used for ",
    "However, a high volume data scenario can benefit from separate models and data tables for reads and writes. To improve performance, the read operation could query against a highly denormalized representation of the data to avoid expensive repetitive table joins and table locks. The ",
    "However, a high volume data scenario can benefit from separate models and data tables for reads and writes. To improve performance, the read operation could query against a highly denormalized representation of the data to avoid expensive repetitive table joins and table locks. The ",
    "Figure 5-7 shows an implementation of the CQRS pattern.",
    "Figure 5-7 shows an implementation of the CQRS pattern.",
    null,
    null,
    null,
    null,
    "In the previous figure, separate command and query models are implemented. Each data write operation is saved to the write store and then propagated to the read store. Pay close attention to how the data propagation process operates on the principle of ",
    "In the previous figure, separate command and query models are implemented. Each data write operation is saved to the write store and then propagated to the read store. Pay close attention to how the data propagation process operates on the principle of ",
    "This separation enables reads and writes to scale independently. Read operations use a schema optimized for queries, while the writes use a schema optimized for updates. Read queries go against denormalized data, while complex business logic can be applied to the write model. As well, you might impose tighter security on write operations than those exposing reads.",
    "This separation enables reads and writes to scale independently. Read operations use a schema optimized for queries, while the writes use a schema optimized for updates. Read queries go against denormalized data, while complex business logic can be applied to the write model. As well, you might impose tighter security on write operations than those exposing reads.",
    "Implementing CQRS can improve application performance for cloud-native services. However, it does result in a more complex design. Apply this principle carefully and strategically to those sections of your cloud-native application that will benefit from it. For more on CQRS, see the Microsoft book ",
    "Implementing CQRS can improve application performance for cloud-native services. However, it does result in a more complex design. Apply this principle carefully and strategically to those sections of your cloud-native application that will benefit from it. For more on CQRS, see the Microsoft book ",
    "Another approach to optimizing high volume data scenarios involves ",
    "Another approach to optimizing high volume data scenarios involves ",
    "A system typically stores the current state of a data entity. If a user changes their phone number, for example, the customer record is updated with the new number. We always know the current state of a data entity, but each update overwrites the previous state.",
    "A system typically stores the current state of a data entity. If a user changes their phone number, for example, the customer record is updated with the new number. We always know the current state of a data entity, but each update overwrites the previous state.",
    "In most cases, this model works fine. In high volume systems, however, overhead from transactional locking and frequent update operations can impact database performance, responsiveness, and limit scalability.",
    "In most cases, this model works fine. In high volume systems, however, overhead from transactional locking and frequent update operations can impact database performance, responsiveness, and limit scalability.",
    "Event Sourcing takes a different approach to capturing data. Each operation that affects data is persisted to an event store. Instead of updating the state of a data record, we append each change to a sequential list of past events - similar to an accountant",
    "Event Sourcing takes a different approach to capturing data. Each operation that affects data is persisted to an event store. Instead of updating the state of a data record, we append each change to a sequential list of past events - similar to an accountant",
    null,
    null,
    null,
    null,
    "In the previous figure, note how each entry (in blue) for a user",
    "In the previous figure, note how each entry (in blue) for a user",
    "Mechanically speaking, event sourcing simplifies the write model. There are no updates or deletes. Appending each data entry as an immutable event minimizes contention, locking, and concurrency conflicts associated with relational databases. Building read models with the materialized view pattern enables you to decouple the view from the write model and choose the best data store to optimize the needs of your application UI.",
    "Mechanically speaking, event sourcing simplifies the write model. There are no updates or deletes. Appending each data entry as an immutable event minimizes contention, locking, and concurrency conflicts associated with relational databases. Building read models with the materialized view pattern enables you to decouple the view from the write model and choose the best data store to optimize the needs of your application UI.",
    "For this pattern, consider a data store that directly supports event sourcing. Azure Cosmos DB, MongoDB, Cassandra, CouchDB, and RavenDB are good candidates.",
    "For this pattern, consider a data store that directly supports event sourcing. Azure Cosmos DB, MongoDB, Cassandra, CouchDB, and RavenDB are good candidates.",
    "As with all patterns and technologies, implement strategically and when needed. While event sourcing can provide increased performance and scalability, it comes at the expense of complexity and a learning curve.",
    "As with all patterns and technologies, implement strategically and when needed. While event sourcing can provide increased performance and scalability, it comes at the expense of complexity and a learning curve.",
    "Relational and NoSQL are two types of database systems commonly implemented in cloud-native apps. They",
    "Relational and NoSQL are two types of database systems commonly implemented in cloud-native apps. They",
    null,
    null,
    null,
    null,
    "The impact of ",
    "The impact of ",
    "NoSQL databases include several different models for accessing and managing data, each suited to specific use cases. Figure 5-9 presents four common models.",
    "NoSQL databases include several different models for accessing and managing data, each suited to specific use cases. Figure 5-9 presents four common models.",
    null,
    null,
    null,
    null,
    "| Model             | Characteristics                                                                                 |",
    "| Model             | Characteristics                                                                                 |",
    "As a way to understand the differences between these types of databases, consider the CAP theorem, a set of principles applied to distributed systems that store state. Figure 5-10 shows the three properties of the CAP theorem.",
    "As a way to understand the differences between these types of databases, consider the CAP theorem, a set of principles applied to distributed systems that store state. Figure 5-10 shows the three properties of the CAP theorem.",
    null,
    null,
    null,
    null,
    "The theorem states that distributed data systems will offer a trade-off between consistency, availability, and partition tolerance. And, that any database can only guarantee ",
    "The theorem states that distributed data systems will offer a trade-off between consistency, availability, and partition tolerance. And, that any database can only guarantee ",
    null,
    null,
    null,
    null,
    null,
    null,
    "CAP theorem explains the tradeoffs associated with managing consistency and availability during a network partition; however tradeoffs with respect to consistency and performance also exist with the absence of a network partition. CAP theorem is often further extended to ",
    "CAP theorem explains the tradeoffs associated with managing consistency and availability during a network partition; however tradeoffs with respect to consistency and performance also exist with the absence of a network partition. CAP theorem is often further extended to ",
    "Relational databases typically provide consistency and availability, but not partition tolerance. They",
    "Relational databases typically provide consistency and availability, but not partition tolerance. They",
    "Many relational database systems support built-in replication features where copies of the primary database can be made to other secondary server instances. Write operations are made to the primary instance and replicated to each of the secondaries. Upon a failure, the primary instance can fail over to a secondary to provide high availability. Secondaries can also be used to distribute read operations. While writes operations always go against the primary replica, read operations can be routed to any of the secondaries to reduce system load.",
    "Many relational database systems support built-in replication features where copies of the primary database can be made to other secondary server instances. Write operations are made to the primary instance and replicated to each of the secondaries. Upon a failure, the primary instance can fail over to a secondary to provide high availability. Secondaries can also be used to distribute read operations. While writes operations always go against the primary replica, read operations can be routed to any of the secondaries to reduce system load.",
    "Data can also be horizontally partitioned across multiple nodes, such as with ",
    "Data can also be horizontally partitioned across multiple nodes, such as with ",
    "Replication consistency and recovery point objectives can be tuned by configuring whether replication occurs synchronously or asynchronously. If data replicas were to lose network connectivity in a ",
    "Replication consistency and recovery point objectives can be tuned by configuring whether replication occurs synchronously or asynchronously. If data replicas were to lose network connectivity in a ",
    "NoSQL databases typically support high availability and partition tolerance. They scale out horizontally, often across commodity servers. This approach provides tremendous availability, both within and across geographical regions at a reduced cost. You partition and replicate data across these machines, or nodes, providing redundancy and fault tolerance. Consistency is typically tuned through consensus protocols or quorum mechanisms. They provide more control when navigating tradeoffs between tuning synchronous versus asynchronous replication in relational systems.",
    "NoSQL databases typically support high availability and partition tolerance. They scale out horizontally, often across commodity servers. This approach provides tremendous availability, both within and across geographical regions at a reduced cost. You partition and replicate data across these machines, or nodes, providing redundancy and fault tolerance. Consistency is typically tuned through consensus protocols or quorum mechanisms. They provide more control when navigating tradeoffs between tuning synchronous versus asynchronous replication in relational systems.",
    "If data replicas were to lose connectivity in a ",
    "If data replicas were to lose connectivity in a ",
    "Modern NoSQL databases typically implement partitioning capabilities as a feature of their system design. Partition management is often built-in to the database, and routing is achieved through placement hints - often called partition keys. A flexible data models enables the NoSQL databases to lower the burden of schema management and improve availability when deploying application updates that require data model changes.",
    "Modern NoSQL databases typically implement partitioning capabilities as a feature of their system design. Partition management is often built-in to the database, and routing is achieved through placement hints - often called partition keys. A flexible data models enables the NoSQL databases to lower the burden of schema management and improve availability when deploying application updates that require data model changes.",
    "High availability and massive scalability are often more critical to the business than relational table joins and referential integrity. Developers can implement techniques and patterns such as Sagas, CQRS, and asynchronous messaging to embrace eventual consistency.",
    "High availability and massive scalability are often more critical to the business than relational table joins and referential integrity. Developers can implement techniques and patterns such as Sagas, CQRS, and asynchronous messaging to embrace eventual consistency.",
    "Nowadays, care must be taken when considering the CAP theorem constraints. A new type of database, called NewSQL, has emerged which extends the relational database engine to support both horizontal scalability and the scalable performance of NoSQL systems.",
    "Nowadays, care must be taken when considering the CAP theorem constraints. A new type of database, called NewSQL, has emerged which extends the relational database engine to support both horizontal scalability and the scalable performance of NoSQL systems.",
    "Based upon specific data requirements, a cloud-native-based microservice can implement a relational, NoSQL datastore or both.",
    "Based upon specific data requirements, a cloud-native-based microservice can implement a relational, NoSQL datastore or both.",
    "| Consider a NoSQL datastore when:                                                                                                                                                             | Consider a relational database when:                                               |",
    "| Consider a NoSQL datastore when:                                                                                                                                                             | Consider a relational database when:                                               |",
    "In the next sections, we",
    "In the next sections, we",
    "To start, you could provision an Azure virtual machine and install your database of choice for each service. While you",
    "To start, you could provision an Azure virtual machine and install your database of choice for each service. While you",
    "Instead, cloud-native applications favor data services exposed as a Database as a Service (DBaaS). Fully managed by a cloud vendor, these services provide built-in security, scalability, and monitoring. Instead of owning the service, you simply consume it as a ",
    "Instead, cloud-native applications favor data services exposed as a Database as a Service (DBaaS). Fully managed by a cloud vendor, these services provide built-in security, scalability, and monitoring. Instead of owning the service, you simply consume it as a ",
    "They can be configured across cloud availability zones and regions to achieve high availability. They all support just-in-time capacity and a pay-as-you-go model. Azure features different kinds of managed data service options, each with specific benefits.",
    "They can be configured across cloud availability zones and regions to achieve high availability. They all support just-in-time capacity and a pay-as-you-go model. Azure features different kinds of managed data service options, each with specific benefits.",
    "We",
    "We",
    "For cloud-native microservices that require relational data, Azure offers four managed relational databases as a service (DBaaS) offerings, shown in Figure 5-11.",
    "For cloud-native microservices that require relational data, Azure offers four managed relational databases as a service (DBaaS) offerings, shown in Figure 5-11.",
    null,
    null,
    null,
    null,
    "In the previous figure, note how each sits upon a common DBaaS infrastructure which features key capabilities at no additional cost.",
    "In the previous figure, note how each sits upon a common DBaaS infrastructure which features key capabilities at no additional cost.",
    "These features are especially important to organizations who provision large numbers of databases, but have limited resources to administer them. You can provision an Azure database in minutes by selecting the amount of processing cores, memory, and underlying storage. You can scale the database on-the-fly and dynamically adjust resources with little to no downtime.",
    "These features are especially important to organizations who provision large numbers of databases, but have limited resources to administer them. You can provision an Azure database in minutes by selecting the amount of processing cores, memory, and underlying storage. You can scale the database on-the-fly and dynamically adjust resources with little to no downtime.",
    "Development teams with expertise in Microsoft SQL Server should consider ",
    "Development teams with expertise in Microsoft SQL Server should consider ",
    "For use with a cloud-native microservice, Azure SQL Database is available with three deployment options:",
    "For use with a cloud-native microservice, Azure SQL Database is available with three deployment options:",
    "A Single Database represents a fully managed SQL Database running on an ",
    "A Single Database represents a fully managed SQL Database running on an ",
    "A ",
    "A ",
    "\u2022 ",
    "\u2022 ",
    "Beyond the traditional Microsoft SQL Server stack, Azure also features managed versions of three popular open-source databases.",
    "Beyond the traditional Microsoft SQL Server stack, Azure also features managed versions of three popular open-source databases.",
    "Open-source relational databases have become a popular choice for cloud-native applications. Many enterprises favor them over commercial database products, especially for cost savings. Many development teams enjoy their flexibility, community-backed development, and ecosystem of tools and extensions. Open-source databases can be deployed across multiple cloud providers, helping minimize the concern of ",
    "Open-source relational databases have become a popular choice for cloud-native applications. Many enterprises favor them over commercial database products, especially for cost savings. Many development teams enjoy their flexibility, community-backed development, and ecosystem of tools and extensions. Open-source databases can be deployed across multiple cloud providers, helping minimize the concern of ",
    "Developers can easily self-host any open-source database on an Azure VM. While providing full control, this approach puts you on the hook for the management, monitoring, and maintenance of the database and VM.",
    "Developers can easily self-host any open-source database on an Azure VM. While providing full control, this approach puts you on the hook for the management, monitoring, and maintenance of the database and VM.",
    "However, Microsoft continues its commitment to keeping Azure an ",
    "However, Microsoft continues its commitment to keeping Azure an ",
    null,
    null,
    null,
    null,
    null,
    null,
    "MariaDB has a strong community and is used by many large enterprises. While Oracle continues to maintain, enhance, and support MySQL, the MariaDB foundation manages MariaDB, allowing public contributions to the product and documentation.",
    "MariaDB has a strong community and is used by many large enterprises. While Oracle continues to maintain, enhance, and support MySQL, the MariaDB foundation manages MariaDB, allowing public contributions to the product and documentation.",
    null,
    null,
    null,
    null,
    null,
    null,
    "Azure Database for PostgreSQL is available with two deployment options:",
    "Azure Database for PostgreSQL is available with two deployment options:",
    "The ",
    "The ",
    "The ",
    "The ",
    "Cosmos DB is a fully managed, globally distributed NoSQL database service in the Azure cloud. It has been adopted by many large companies across the world, including Coca-Cola, Skype, ExxonMobil, and Liberty Mutual.",
    "Cosmos DB is a fully managed, globally distributed NoSQL database service in the Azure cloud. It has been adopted by many large companies across the world, including Coca-Cola, Skype, ExxonMobil, and Liberty Mutual.",
    "If your services require fast response from anywhere in the world, high availability, or elastic scalability, Cosmos DB is a great choice. Figure 5-12 shows Cosmos DB.",
    "If your services require fast response from anywhere in the world, high availability, or elastic scalability, Cosmos DB is a great choice. Figure 5-12 shows Cosmos DB.",
    null,
    null,
    null,
    null,
    "The previous figure presents many of the built-in cloud-native capabilities available in Cosmos DB. In this section, we",
    "The previous figure presents many of the built-in cloud-native capabilities available in Cosmos DB. In this section, we",
    "Cloud-native applications often have a global audience and require global scale.",
    "Cloud-native applications often have a global audience and require global scale.",
    "You can distribute Cosmos databases across regions or around the world, placing data close to your users, improving response time, and reducing latency. You can add or remove a database from a region without pausing or redeploying your services. In the background, Cosmos DB transparently replicates the data to each of the configured regions.",
    "You can distribute Cosmos databases across regions or around the world, placing data close to your users, improving response time, and reducing latency. You can add or remove a database from a region without pausing or redeploying your services. In the background, Cosmos DB transparently replicates the data to each of the configured regions.",
    "Cosmos DB supports ",
    "Cosmos DB supports ",
    "The ",
    "The ",
    "Unlimited elastic write and read scalability.",
    "Unlimited elastic write and read scalability.",
    "99.999% read and write availability all around the world.",
    "99.999% read and write availability all around the world.",
    "Guaranteed reads and writes served in less than 10 milliseconds at the 99th percentile.",
    "Guaranteed reads and writes served in less than 10 milliseconds at the 99th percentile.",
    "With the Cosmos DB ",
    "With the Cosmos DB ",
    "When replatforming monolithic applications to a cloud-native architecture, development teams sometimes have to migrate open-source, NoSQL data stores. Cosmos DB can help you preserve your investment in these NoSQL datastores with its ",
    "When replatforming monolithic applications to a cloud-native architecture, development teams sometimes have to migrate open-source, NoSQL data stores. Cosmos DB can help you preserve your investment in these NoSQL datastores with its ",
    "| Provider       | Description                                                                  |",
    "| Provider       | Description                                                                  |",
    "Development teams can migrate existing Mongo, Gremlin, or Cassandra databases into Cosmos DB with minimal changes to data or code. For new apps, development teams can choose among opensource options or the built-in SQL API model.",
    "Development teams can migrate existing Mongo, Gremlin, or Cassandra databases into Cosmos DB with minimal changes to data or code. For new apps, development teams can choose among opensource options or the built-in SQL API model.",
    "Internally, Cosmos stores the data in a simple struct format made up of primitive data types. For each request, the database engine translates the primitive data into the model representation you",
    "Internally, Cosmos stores the data in a simple struct format made up of primitive data types. For each request, the database engine translates the primitive data into the model representation you",
    "In the previous table, note the ",
    "In the previous table, note the ",
    "| Feature                                                            | Azure Table Storage                                                                                                            | Azure Cosmos DB                                                                |",
    "| Feature                                                            | Azure Table Storage                                                                                                            | Azure Cosmos DB                                                                |",
    "Microservices that consume Azure Table storage can easily migrate to the Cosmos DB Table API. No code changes are required.",
    "Microservices that consume Azure Table storage can easily migrate to the Cosmos DB Table API. No code changes are required.",
    "Earlier in the ",
    "Earlier in the ",
    "Most distributed databases allow developers to choose between two consistency models: strong consistency and eventual consistency. ",
    "Most distributed databases allow developers to choose between two consistency models: strong consistency and eventual consistency. ",
    "Azure Cosmos DB offers five well-defined ",
    "Azure Cosmos DB offers five well-defined ",
    null,
    null,
    null,
    null,
    "These options enable you to make precise choices and granular tradeoffs for consistency, availability, and the performance for your data. The levels are presented in the following table.",
    "These options enable you to make precise choices and granular tradeoffs for consistency, availability, and the performance for your data. The levels are presented in the following table.",
    "| Consistency Level | Description                                                                                                                        |",
    "| Consistency Level | Description                                                                                                                        |",
    "In the article ",
    "In the article ",
    "Azure Cosmos DB embraces automatic ",
    "Azure Cosmos DB embraces automatic ",
    "You manage data in Cosmos DB data by creating databases, containers, and items.",
    "You manage data in Cosmos DB data by creating databases, containers, and items.",
    "Containers live in a Cosmos DB database and represent a schema-agnostic grouping of items. Items are the data that you add to the container. They",
    "Containers live in a Cosmos DB database and represent a schema-agnostic grouping of items. Items are the data that you add to the container. They",
    "To partition the container, items are divided into distinct subsets called logical partitions. Logical partitions are populated based on the value of a partition key that is associated with each item in a container. Figure 5-14 shows two containers each with a logical partition based on a partition key value.",
    "To partition the container, items are divided into distinct subsets called logical partitions. Logical partitions are populated based on the value of a partition key that is associated with each item in a container. Figure 5-14 shows two containers each with a logical partition based on a partition key value.",
    null,
    null,
    null,
    null,
    "Note in the previous figure how each item includes a partition key of either ",
    "Note in the previous figure how each item includes a partition key of either ",
    "Internally, Cosmos DB automatically manages the placement of ",
    "Internally, Cosmos DB automatically manages the placement of ",
    null,
    null,
    "The Cloud Native Computing Foundation (CNCF) features several NewSQL database projects.",
    "The Cloud Native Computing Foundation (CNCF) features several NewSQL database projects.",
    "| Project      | Characteristics                                                                                                                                                                                                                                                                                                                                                                                |",
    "| Project      | Characteristics                                                                                                                                                                                                                                                                                                                                                                                |",
    "The open-source projects in the previous figure are available from the Cloud Native Computing Foundation. Three of the offerings are full database products, which include .NET support. The other, Vitess, is a database clustering system that horizontally scales large clusters of MySQL instances.",
    "The open-source projects in the previous figure are available from the Cloud Native Computing Foundation. Three of the offerings are full database products, which include .NET support. The other, Vitess, is a database clustering system that horizontally scales large clusters of MySQL instances.",
    "A key design goal for NewSQL databases is to work natively in Kubernetes, taking advantage of the platform",
    "A key design goal for NewSQL databases is to work natively in Kubernetes, taking advantage of the platform",
    "NewSQL databases are designed to thrive in ephemeral cloud environments where underlying virtual machines can be restarted or rescheduled at a moment",
    "NewSQL databases are designed to thrive in ephemeral cloud environments where underlying virtual machines can be restarted or rescheduled at a moment",
    "Kubernetes uses a ",
    "Kubernetes uses a ",
    "In this scenario, all database instances are equal. There are no primary or secondary relationships. Techniques like ",
    "In this scenario, all database instances are equal. There are no primary or secondary relationships. Techniques like ",
    "For a detailed look at the mechanics behind NewSQL databases, see the ",
    "For a detailed look at the mechanics behind NewSQL databases, see the ",
    "One of the more time-consuming tasks is migrating data from one data platform to another. The ",
    "One of the more time-consuming tasks is migrating data from one data platform to another. The ",
    "Azure SQL Database",
    "Azure SQL Database",
    "Azure Database for MySQL",
    "Azure Database for MySQL",
    "Azure Database for MariaDB",
    "Azure Database for MariaDB",
    "Azure Database for PostgreSQL",
    "Azure Database for PostgreSQL",
    "Azure Cosmos DB",
    "Azure Cosmos DB",
    "The service provides recommendations to guide you through the changes required to execute a migration, both small or large.",
    "The service provides recommendations to guide you through the changes required to execute a migration, both small or large.",
    "The benefits of caching are well understood. The technique works by temporarily copying frequently accessed data from a backend data store to ",
    "The benefits of caching are well understood. The technique works by temporarily copying frequently accessed data from a backend data store to ",
    "Data remains relatively static.",
    "Data remains relatively static.",
    "Data access is slow, especially compared to the speed of the cache.",
    "Data access is slow, especially compared to the speed of the cache.",
    "Data is subject to high levels of contention.",
    "Data is subject to high levels of contention.",
    "As discussed in the ",
    "As discussed in the ",
    "Caching is most effective when a client repeatedly reads data that is immutable or that changes infrequently. Examples include reference information such as product and pricing information, or shared static resources that are costly to construct.",
    "Caching is most effective when a client repeatedly reads data that is immutable or that changes infrequently. Examples include reference information such as product and pricing information, or shared static resources that are costly to construct.",
    "While microservices should be stateless, a distributed cache can support concurrent access to session state data when absolutely required.",
    "While microservices should be stateless, a distributed cache can support concurrent access to session state data when absolutely required.",
    "Also consider caching to avoid repetitive computations. If an operation transforms data or performs a complicated calculation, cache the result for subsequent requests.",
    "Also consider caching to avoid repetitive computations. If an operation transforms data or performs a complicated calculation, cache the result for subsequent requests.",
    "Cloud native applications typically implement a distributed caching architecture. The cache is hosted as a cloud-based ",
    "Cloud native applications typically implement a distributed caching architecture. The cache is hosted as a cloud-based ",
    null,
    null,
    null,
    null,
    "In the previous figure, note how the cache is independent of and shared by the microservices. In this scenario, the cache is invoked by the ",
    "In the previous figure, note how the cache is independent of and shared by the microservices. In this scenario, the cache is invoked by the ",
    "The previous figure presents a common caching pattern known as the ",
    "The previous figure presents a common caching pattern known as the ",
    "As a shared cache grows, it might prove beneficial to partition its data across multiple nodes. Doing so can help minimize contention and improve scalability. Many Caching services support the ability to dynamically add and remove nodes and rebalance data across partitions. This approach typically involves clustering. Clustering exposes a collection of federated nodes as a seamless, single cache. Internally, however, the data is dispersed across the nodes following a predefined distribution strategy that balances the load evenly.",
    "As a shared cache grows, it might prove beneficial to partition its data across multiple nodes. Doing so can help minimize contention and improve scalability. Many Caching services support the ability to dynamically add and remove nodes and rebalance data across partitions. This approach typically involves clustering. Clustering exposes a collection of federated nodes as a seamless, single cache. Internally, however, the data is dispersed across the nodes following a predefined distribution strategy that balances the load evenly.",
    null,
    null,
    "The Azure Cache for Redis service manages access to open-source Redis servers hosted across Azure data centers. The service acts as a facade providing management, access control, and security. The service natively supports a rich set of data structures, including strings, hashes, lists, and sets. If your application already uses Redis, it will work as-is with Azure Cache for Redis.",
    "The Azure Cache for Redis service manages access to open-source Redis servers hosted across Azure data centers. The service acts as a facade providing management, access control, and security. The service natively supports a rich set of data structures, including strings, hashes, lists, and sets. If your application already uses Redis, it will work as-is with Azure Cache for Redis.",
    "Azure Cache for Redis is more than a simple cache server. It can support a number of scenarios to enhance a microservices architecture:",
    "Azure Cache for Redis is more than a simple cache server. It can support a number of scenarios to enhance a microservices architecture:",
    "An in-memory data store",
    "An in-memory data store",
    "A distributed non-relational database",
    "A distributed non-relational database",
    "A message broker",
    "A message broker",
    "A configuration or discovery server",
    "A configuration or discovery server",
    "For advanced scenarios, a copy of the cached data can be ",
    "For advanced scenarios, a copy of the cached data can be ",
    "Azure Redis Cache is available across a number of predefined configurations and pricing tiers. The ",
    "Azure Redis Cache is available across a number of predefined configurations and pricing tiers. The ",
    "Elasticsearch is a distributed search and analytics system that enables complex search capabilities across diverse types of data. It",
    "Elasticsearch is a distributed search and analytics system that enables complex search capabilities across diverse types of data. It",
    null,
    null,
    null,
    null,
    null,
    null,
    "Elasticsearch is built on top of the ",
    "Elasticsearch is built on top of the ",
    "Term (a full word)",
    "Term (a full word)",
    "Prefix (starts-with word)",
    "Prefix (starts-with word)",
    "Wildcard (using ",
    "Wildcard (using ",
    "Phrase (a sequence of text in a document)",
    "Phrase (a sequence of text in a document)",
    "Boolean value (complex searches combining queries)",
    "Boolean value (complex searches combining queries)",
    "While Lucene provides low-level plumbing for searching, Elasticsearch provides the server that sits on top of Lucene. Elasticsearch adds higher-level functionality to simplify working Lucene, including a RESTful API to access Lucene",
    "While Lucene provides low-level plumbing for searching, Elasticsearch provides the server that sits on top of Lucene. Elasticsearch adds higher-level functionality to simplify working Lucene, including a RESTful API to access Lucene",
    "For larger cloud-native applications with complex search requirements, Elasticsearch is available as managed service in Azure. The Microsoft Azure Marketplace features preconfigured templates which developers can use to deploy an Elasticsearch cluster on Azure.",
    "For larger cloud-native applications with complex search requirements, Elasticsearch is available as managed service in Azure. The Microsoft Azure Marketplace features preconfigured templates which developers can use to deploy an Elasticsearch cluster on Azure.",
    "From the Microsoft Azure Marketplace, developers can use preconfigured templates built to quickly deploy an Elasticsearch cluster on Azure. Using the Azure-managed offering, you can deploy up to 50 data nodes, 20 coordinating nodes, and three dedicated master nodes.",
    "From the Microsoft Azure Marketplace, developers can use preconfigured templates built to quickly deploy an Elasticsearch cluster on Azure. Using the Azure-managed offering, you can deploy up to 50 data nodes, 20 coordinating nodes, and three dedicated master nodes.",
    "This chapter presented a detailed look at data in cloud-native systems. We started by contrasting data storage in monolithic applications with data storage patterns in cloud-native systems. We looked at data patterns implemented in cloud-native systems, including cross-service queries, distributed transactions, and patterns to deal with high-volume systems. We contrasted SQL with NoSQL data. We looked at data storage options available in Azure that include both Microsoft-centric and opensource options. Finally, we discussed caching and Elasticsearch in a cloud-native application.",
    "This chapter presented a detailed look at data in cloud-native systems. We started by contrasting data storage in monolithic applications with data storage patterns in cloud-native systems. We looked at data patterns implemented in cloud-native systems, including cross-service queries, distributed transactions, and patterns to deal with high-volume systems. We contrasted SQL with NoSQL data. We looked at data storage options available in Azure that include both Microsoft-centric and opensource options. Finally, we discussed caching and Elasticsearch in a cloud-native application.",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "Resiliency is the ability of your system to react to failure and still remain functional. It",
    "Resiliency is the ability of your system to react to failure and still remain functional. It",
    "Unlike traditional monolithic applications, where everything runs together in a single process, cloudnative systems embrace a distributed architecture as shown in Figure 6-1:",
    "Unlike traditional monolithic applications, where everything runs together in a single process, cloudnative systems embrace a distributed architecture as shown in Figure 6-1:",
    null,
    null,
    null,
    null,
    "In the previous figure, each microservice and cloud-based ",
    "In the previous figure, each microservice and cloud-based ",
    "Operating in this environment, a service must be sensitive to many different challenges:",
    "Operating in this environment, a service must be sensitive to many different challenges:",
    "Unexpected network latency the time for a service request to travel to the receiver and back.",
    "Unexpected network latency the time for a service request to travel to the receiver and back.",
    null,
    null,
    "Blockage by a long-running synchronous operation.",
    "Blockage by a long-running synchronous operation.",
    "A host process that has crashed and is being restarted or moved.",
    "A host process that has crashed and is being restarted or moved.",
    "An overloaded microservice that can",
    "An overloaded microservice that can",
    "An in-flight orchestrator operation such as a rolling upgrade or moving a service from one node to another.",
    "An in-flight orchestrator operation such as a rolling upgrade or moving a service from one node to another.",
    "\u2022 Hardware failures.",
    "\u2022 Hardware failures.",
    "Cloud platforms can detect and mitigate many of these infrastructure issues. It may restart, scale out, and even redistribute your service to a different node. However, to take full advantage of this built-in protection, you must design your services to react to it and thrive in this dynamic environment.",
    "Cloud platforms can detect and mitigate many of these infrastructure issues. It may restart, scale out, and even redistribute your service to a different node. However, to take full advantage of this built-in protection, you must design your services to react to it and thrive in this dynamic environment.",
    "In the following sections, we",
    "In the following sections, we",
    "The first line of defense is application resiliency.",
    "The first line of defense is application resiliency.",
    "While you could invest considerable time writing your own resiliency framework, such products already exist. ",
    "While you could invest considerable time writing your own resiliency framework, such products already exist. ",
    "| Policy          | Experience                                                                                           |",
    "| Policy          | Experience                                                                                           |",
    "Note how in the previous figure the resiliency policies apply to request messages, whether coming from an external client or back-end service. The goal is to compensate the request for a service that might be momentarily unavailable. These short-lived interruptions typically manifest themselves with the HTTP status codes shown in the following table.",
    "Note how in the previous figure the resiliency policies apply to request messages, whether coming from an external client or back-end service. The goal is to compensate the request for a service that might be momentarily unavailable. These short-lived interruptions typically manifest themselves with the HTTP status codes shown in the following table.",
    "| HTTP Status Code | Cause                                                 |",
    "| HTTP Status Code | Cause                                                 |",
    "| HTTP Status Code | Cause           |",
    "| HTTP Status Code | Cause           |",
    "Question: Would you retry an HTTP Status Code of 403 - Forbidden? No. Here, the system is functioning properly, but informing the caller that they aren",
    "Question: Would you retry an HTTP Status Code of 403 - Forbidden? No. Here, the system is functioning properly, but informing the caller that they aren",
    "As recommended in Chapter 1, Microsoft developers constructing cloud-native applications should target the .NET platform. Version 2.1 introduced the ",
    "As recommended in Chapter 1, Microsoft developers constructing cloud-native applications should target the .NET platform. Version 2.1 introduced the ",
    "Next, let",
    "Next, let",
    "In a distributed cloud-native environment, calls to services and cloud resources can fail because of transient (short-lived) failures, which typically correct themselves after a brief period of time. Implementing a retry strategy helps a cloud-native service mitigate these scenarios.",
    "In a distributed cloud-native environment, calls to services and cloud resources can fail because of transient (short-lived) failures, which typically correct themselves after a brief period of time. Implementing a retry strategy helps a cloud-native service mitigate these scenarios.",
    "The ",
    "The ",
    null,
    null,
    null,
    null,
    "In the previous figure, a retry pattern has been implemented for a request operation. It",
    "In the previous figure, a retry pattern has been implemented for a request operation. It",
    "\u2022 The first invocation fails and returns an HTTP status code of 500. The application waits for two seconds and retries the call.",
    "\u2022 The first invocation fails and returns an HTTP status code of 500. The application waits for two seconds and retries the call.",
    "The second invocation also fails and returns an HTTP status code of 500. The application now doubles the backoff interval to four seconds and retries the call.",
    "The second invocation also fails and returns an HTTP status code of 500. The application now doubles the backoff interval to four seconds and retries the call.",
    "Finally, the third call succeeds.",
    "Finally, the third call succeeds.",
    "In this scenario, the retry operation would have attempted up to four retries while doubling the backoff duration before failing the call.",
    "In this scenario, the retry operation would have attempted up to four retries while doubling the backoff duration before failing the call.",
    "Had the 4th retry attempt failed, a fallback policy would be invoked to gracefully handle the problem.",
    "Had the 4th retry attempt failed, a fallback policy would be invoked to gracefully handle the problem.",
    "It",
    "It",
    "While the retry pattern can help salvage a request entangled in a partial failure, there are situations where failures can be caused by unanticipated events that will require longer periods of time to resolve. These faults can range in severity from a partial loss of connectivity to the complete failure of a service. In these situations, it",
    "While the retry pattern can help salvage a request entangled in a partial failure, there are situations where failures can be caused by unanticipated events that will require longer periods of time to resolve. These faults can range in severity from a partial loss of connectivity to the complete failure of a service. In these situations, it",
    "To make things worse, executing continual retry operations on a non-responsive service can move you into a self-imposed denial of service scenario where you flood your service with continual calls exhausting resources such as memory, threads and database connections, causing failure in unrelated parts of the system that use the same resources.",
    "To make things worse, executing continual retry operations on a non-responsive service can move you into a self-imposed denial of service scenario where you flood your service with continual calls exhausting resources such as memory, threads and database connections, causing failure in unrelated parts of the system that use the same resources.",
    "In these situations, it would be preferable for the operation to fail immediately and only attempt to invoke the service if it",
    "In these situations, it would be preferable for the operation to fail immediately and only attempt to invoke the service if it",
    "The ",
    "The ",
    null,
    null,
    null,
    null,
    "In the previous figure, a Circuit Breaker pattern has been added to the original retry pattern. Note how after 100 failed requests, the circuit breakers opens and no longer allows calls to the service. The CheckCircuit value, set at 30 seconds, specifies how often the library allows one request to proceed to the service. If that call succeeds, the circuit closes and the service is once again available to traffic.",
    "In the previous figure, a Circuit Breaker pattern has been added to the original retry pattern. Note how after 100 failed requests, the circuit breakers opens and no longer allows calls to the service. The CheckCircuit value, set at 30 seconds, specifies how often the library allows one request to proceed to the service. If that call succeeds, the circuit closes and the service is once again available to traffic.",
    "Keep in mind that the intent of the Circuit Breaker pattern is ",
    "Keep in mind that the intent of the Circuit Breaker pattern is ",
    "Testing for resiliency cannot always be done the same way that you test application functionality (by running unit tests, integration tests, and so on). Instead, you must test how the end-to-end workload performs under failure conditions, which only occur intermittently. For example: inject failures by crashing processes, expired certificates, make dependent services unavailable etc. Frameworks like ",
    "Testing for resiliency cannot always be done the same way that you test application functionality (by running unit tests, integration tests, and so on). Instead, you must test how the end-to-end workload performs under failure conditions, which only occur intermittently. For example: inject failures by crashing processes, expired certificates, make dependent services unavailable etc. Frameworks like ",
    "Application resiliency is a must for handling problematic requested operations. But, it",
    "Application resiliency is a must for handling problematic requested operations. But, it",
    "Building a reliable application in the cloud is different from traditional on-premises application development. While historically you purchased higher-end hardware to scale up, in a cloud environment you scale out. Instead of trying to prevent failures, the goal is to minimize their effects and keep the system stable.",
    "Building a reliable application in the cloud is different from traditional on-premises application development. While historically you purchased higher-end hardware to scale up, in a cloud environment you scale out. Instead of trying to prevent failures, the goal is to minimize their effects and keep the system stable.",
    "That said, reliable cloud applications display distinct characteristics:",
    "That said, reliable cloud applications display distinct characteristics:",
    "They",
    "They",
    "They",
    "They",
    "Understanding how these characteristics work together - and how they affect cost - is essential to building a reliable cloud-native application. We",
    "Understanding how these characteristics work together - and how they affect cost - is essential to building a reliable cloud-native application. We",
    "We",
    "We",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "Failures vary in scope of impact. A hardware failure, such as a failed disk, can affect a single node in a cluster. A failed network switch could affect an entire server rack. Less common failures, such as loss of power, could disrupt a whole datacenter. Rarely, an entire region becomes unavailable.",
    "Failures vary in scope of impact. A hardware failure, such as a failed disk, can affect a single node in a cluster. A failed network switch could affect an entire server rack. Less common failures, such as loss of power, could disrupt a whole datacenter. Rarely, an entire region becomes unavailable.",
    null,
    null,
    "To architect redundancy, you need to identify the critical paths in your application, and then determine if there",
    "To architect redundancy, you need to identify the critical paths in your application, and then determine if there",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "\u2022 ",
    "\u2022 ",
    null,
    null,
    null,
    null,
    "The cloud thrives on scaling. The ability to increase/decrease system resources to address increasing/decreasing system load is a key tenet of the Azure cloud. But, to effectively scale an application, you need an understanding of the scaling features of each Azure service that you include in your application. Here are recommendations for effectively implementing scaling in your system.",
    "The cloud thrives on scaling. The ability to increase/decrease system resources to address increasing/decreasing system load is a key tenet of the Azure cloud. But, to effectively scale an application, you need an understanding of the scaling features of each Azure service that you include in your application. Here are recommendations for effectively implementing scaling in your system.",
    null,
    null,
    null,
    null,
    null,
    null,
    "as vertical scaling) involves replacing existing resources with more powerful hardware (more disk, memory, and processing cores). Scaling out can be invoked automatically with the autoscaling features available in some Azure cloud resources. Scaling out across multiple resources also adds redundancy to the overall system. Finally scaling up a single resource is typically more expensive than scaling out across many smaller resources. Figure 6-6 shows the two approaches:",
    "as vertical scaling) involves replacing existing resources with more powerful hardware (more disk, memory, and processing cores). Scaling out can be invoked automatically with the autoscaling features available in some Azure cloud resources. Scaling out across multiple resources also adds redundancy to the overall system. Finally scaling up a single resource is typically more expensive than scaling out across many smaller resources. Figure 6-6 shows the two approaches:",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "We encouraged the best practice of implementing programmatic retry operations in an earlier section. Keep in mind that many Azure services and their corresponding client SDKs also include retry",
    "We encouraged the best practice of implementing programmatic retry operations in an earlier section. Keep in mind that many Azure services and their corresponding client SDKs also include retry",
    "mechanisms. The following list summarizes retry features in the many of the Azure services that are discussed in this book:",
    "mechanisms. The following list summarizes retry features in the many of the Azure services that are discussed in this book:",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "Throughout this book, we",
    "Throughout this book, we",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "You can address these concerns with different libraries and frameworks, but the implementation can be expensive, complex, and time-consuming. You also end up with infrastructure concerns coupled to business logic.",
    "You can address these concerns with different libraries and frameworks, but the implementation can be expensive, complex, and time-consuming. You also end up with infrastructure concerns coupled to business logic.",
    "A better approach is an evolving technology entitled ",
    "A better approach is an evolving technology entitled ",
    null,
    null,
    null,
    null,
    "In the previous figure, note how the proxy intercepts and manages communication among the microservices and the cluster.",
    "In the previous figure, note how the proxy intercepts and manages communication among the microservices and the cluster.",
    "A service mesh is logically split into two disparate components: A ",
    "A service mesh is logically split into two disparate components: A ",
    null,
    null,
    null,
    null,
    "Once configured, a service mesh is highly functional. It can retrieve a corresponding pool of instances from a service discovery endpoint. The mesh can then send a request to a specific instance, recording the latency and response type of the result. A mesh can choose the instance most likely to return a fast response based on many factors, including its observed latency for recent requests.",
    "Once configured, a service mesh is highly functional. It can retrieve a corresponding pool of instances from a service discovery endpoint. The mesh can then send a request to a specific instance, recording the latency and response type of the result. A mesh can choose the instance most likely to return a fast response based on many factors, including its observed latency for recent requests.",
    "If an instance is unresponsive or fails, the mesh will retry the request on another instance. If it returns errors, a mesh will evict the instance from the load-balancing pool and restate it after it heals. If a request times out, a mesh can fail and then retry the request. A mesh captures and emits metrics and distributed tracing to a centralized metrics system.",
    "If an instance is unresponsive or fails, the mesh will retry the request on another instance. If it returns errors, a mesh will evict the instance from the load-balancing pool and restate it after it heals. If a request times out, a mesh can fail and then retry the request. A mesh captures and emits metrics and distributed tracing to a centralized metrics system.",
    "While a few service mesh options currently exist, ",
    "While a few service mesh options currently exist, ",
    "Secure service-to-service communication in a cluster with strong identity-based authentication and authorization.",
    "Secure service-to-service communication in a cluster with strong identity-based authentication and authorization.",
    "Automatic load balancing for HTTP, ",
    "Automatic load balancing for HTTP, ",
    "Fine-grained control of traffic behavior with rich routing rules, retries, failovers, and fault injection.",
    "Fine-grained control of traffic behavior with rich routing rules, retries, failovers, and fault injection.",
    "A pluggable policy layer and configuration API supporting access controls, rate limits, and quotas.",
    "A pluggable policy layer and configuration API supporting access controls, rate limits, and quotas.",
    "Automatic metrics, logs, and traces for all traffic within a cluster, including cluster ingress and egress.",
    "Automatic metrics, logs, and traces for all traffic within a cluster, including cluster ingress and egress.",
    "A key component for an Istio implementation is a proxy service entitled the ",
    "A key component for an Istio implementation is a proxy service entitled the ",
    "Dynamic service discovery.",
    "Dynamic service discovery.",
    "Load balancing.",
    "Load balancing.",
    "TLS termination.",
    "TLS termination.",
    "HTTP and gRPC proxies.",
    "HTTP and gRPC proxies.",
    "Circuit breaker resiliency.",
    "Circuit breaker resiliency.",
    "Health checks.",
    "Health checks.",
    "Rolling updates with ",
    "Rolling updates with ",
    "As previously discussed, Envoy is deployed as a sidecar to each microservice in the cluster.",
    "As previously discussed, Envoy is deployed as a sidecar to each microservice in the cluster.",
    "The Azure cloud embraces Istio and provides direct support for it within Azure Kubernetes Services. The following links can help you get started:",
    "The Azure cloud embraces Istio and provides direct support for it within Azure Kubernetes Services. The following links can help you get started:",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "Microservices and cloud-native applications go hand in hand with good DevOps practices. DevOps is many things to many people but perhaps one of the better definitions comes from cloud advocate and DevOps evangelist Donovan Brown:",
    "Microservices and cloud-native applications go hand in hand with good DevOps practices. DevOps is many things to many people but perhaps one of the better definitions comes from cloud advocate and DevOps evangelist Donovan Brown:",
    "\"",
    "\"",
    "Unfortunately, with terse definitions, there",
    "Unfortunately, with terse definitions, there",
    "Just as patterns have been developed to aid in the layout of code in applications, there are patterns for operating applications in a reliable way. Three useful patterns in maintaining applications have emerged: ",
    "Just as patterns have been developed to aid in the layout of code in applications, there are patterns for operating applications in a reliable way. Three useful patterns in maintaining applications have emerged: ",
    "No matter how careful we are, applications almost always behave in unexpected ways in production. When users report problems with an application, it",
    "No matter how careful we are, applications almost always behave in unexpected ways in production. When users report problems with an application, it",
    "In traditional applications, log files are typically stored on the local machine. In fact, on Unix-like operating systems, there",
    "In traditional applications, log files are typically stored on the local machine. In fact, on Unix-like operating systems, there",
    null,
    null,
    null,
    null,
    "The usefulness of logging to a flat file on a single machine is vastly reduced in a cloud environment. Applications producing logs may not have access to the local disk or the local disk may be highly transient as containers are shuffled around physical machines. Even simple scaling up of monolithic applications across multiple nodes can make it challenging to locate the appropriate file-based log file.",
    "The usefulness of logging to a flat file on a single machine is vastly reduced in a cloud environment. Applications producing logs may not have access to the local disk or the local disk may be highly transient as containers are shuffled around physical machines. Even simple scaling up of monolithic applications across multiple nodes can make it challenging to locate the appropriate file-based log file.",
    null,
    null,
    null,
    null,
    "Cloud-native applications developed using a microservices architecture also pose some challenges for file-based loggers. User requests may now span multiple services that are run on different machines",
    "Cloud-native applications developed using a microservices architecture also pose some challenges for file-based loggers. User requests may now span multiple services that are run on different machines",
    "and may include serverless functions with no access to a local file system at all. It would be very challenging to correlate the logs from a user or a session across these many services and machines.",
    "and may include serverless functions with no access to a local file system at all. It would be very challenging to correlate the logs from a user or a session across these many services and machines.",
    null,
    null,
    null,
    null,
    "Finally, the number of users in some cloud-native applications is high. Imagine that each user generates a hundred lines of log messages when they log into an application. In isolation, that is manageable, but multiply that over 100,000 users and the volume of logs becomes large enough that specialized tools are needed to support effective use of the logs.",
    "Finally, the number of users in some cloud-native applications is high. Imagine that each user generates a hundred lines of log messages when they log into an application. In isolation, that is manageable, but multiply that over 100,000 users and the volume of logs becomes large enough that specialized tools are needed to support effective use of the logs.",
    "Every programming language has tooling that permits writing logs, and typically the overhead for writing these logs is low. Many of the logging libraries provide logging different kinds of criticalities, which can be tuned at run time. For instance, the ",
    "Every programming language has tooling that permits writing logs, and typically the overhead for writing these logs is low. Many of the logging libraries provide logging different kinds of criticalities, which can be tuned at run time. For instance, the ",
    "Verbose",
    "Verbose",
    "Debug",
    "Debug",
    "Information",
    "Information",
    "Warning",
    "Warning",
    "Error",
    "Error",
    "Fatal",
    "Fatal",
    "These different log levels provide granularity in logging. When the application is functioning properly in production, it may be configured to only log important messages. When the application is",
    "These different log levels provide granularity in logging. When the application is functioning properly in production, it may be configured to only log important messages. When the application is",
    "misbehaving, then the log level can be increased so more verbose logs are gathered. This balances performance against ease of debugging.",
    "misbehaving, then the log level can be increased so more verbose logs are gathered. This balances performance against ease of debugging.",
    "The high performance of logging tools and the tunability of verbosity should encourage developers to log frequently. Many favor a pattern of logging the entry and exit of each method. This approach may sound like overkill, but it",
    "The high performance of logging tools and the tunability of verbosity should encourage developers to log frequently. Many favor a pattern of logging the entry and exit of each method. This approach may sound like overkill, but it",
    "Because of the challenges associated with using file-based logs in cloud-native apps, centralized logs are preferred. Logs are collected by the applications and shipped to a central logging application which indexes and stores the logs. This class of system can ingest tens of gigabytes of logs every day.",
    "Because of the challenges associated with using file-based logs in cloud-native apps, centralized logs are preferred. Logs are collected by the applications and shipped to a central logging application which indexes and stores the logs. This class of system can ingest tens of gigabytes of logs every day.",
    "It",
    "It",
    null,
    null,
    null,
    null,
    "Some applications aren",
    "Some applications aren",
    "Some scenarios you may need to consider include:",
    "Some scenarios you may need to consider include:",
    "One service in your application keeps failing and restarting, resulting in intermittent slow responses.",
    "One service in your application keeps failing and restarting, resulting in intermittent slow responses.",
    "At some times of the day, your application",
    "At some times of the day, your application",
    "After a recent deployment, load on the database has tripled.",
    "After a recent deployment, load on the database has tripled.",
    "Implemented properly, monitoring can let you know about conditions that will lead to problems, letting you address underlying conditions before they result in any significant user impact.",
    "Implemented properly, monitoring can let you know about conditions that will lead to problems, letting you address underlying conditions before they result in any significant user impact.",
    "Some centralized logging systems take on an additional role of collecting telemetry outside of pure logs. They can collect metrics, such as time to run a database query, average response time from a web server, and even CPU load averages and memory pressure as reported by the operating system. In conjunction with the logs, these systems can provide a holistic view of the health of nodes in the system and the application as a whole.",
    "Some centralized logging systems take on an additional role of collecting telemetry outside of pure logs. They can collect metrics, such as time to run a database query, average response time from a web server, and even CPU load averages and memory pressure as reported by the operating system. In conjunction with the logs, these systems can provide a holistic view of the health of nodes in the system and the application as a whole.",
    "The metric-gathering capabilities of the monitoring tools can also be fed manually from within the application. Business flows that are of particular interest such as new users signing up or orders being placed, may be instrumented such that they increment a counter in the central monitoring system. This aspect unlocks the monitoring tools to not only monitor the health of the application but the health of the business.",
    "The metric-gathering capabilities of the monitoring tools can also be fed manually from within the application. Business flows that are of particular interest such as new users signing up or orders being placed, may be instrumented such that they increment a counter in the central monitoring system. This aspect unlocks the monitoring tools to not only monitor the health of the application but the health of the business.",
    "Queries can be constructed in the log aggregation tools to look for certain statistics or patterns, which can then be displayed in graphical form, on custom dashboards. Frequently, teams will invest in large, wall-mounted displays that rotate through the statistics related to an application. This way, it",
    "Queries can be constructed in the log aggregation tools to look for certain statistics or patterns, which can then be displayed in graphical form, on custom dashboards. Frequently, teams will invest in large, wall-mounted displays that rotate through the statistics related to an application. This way, it",
    "Cloud-native monitoring tools provide real-time telemetry and insight into apps regardless of whether they",
    "Cloud-native monitoring tools provide real-time telemetry and insight into apps regardless of whether they",
    "If you need to react to problems with your application, you need some way to alert the right personnel. This is the third cloud-native application observability pattern and depends on logging and monitoring. Your application needs to have logging in place to allow problems to be diagnosed, and",
    "If you need to react to problems with your application, you need some way to alert the right personnel. This is the third cloud-native application observability pattern and depends on logging and monitoring. Your application needs to have logging in place to allow problems to be diagnosed, and",
    "in some cases to feed into monitoring tools. It needs monitoring to aggregate application metrics and health data in one place. Once this has been established, rules can be created that will trigger alerts when certain metrics fall outside of acceptable levels.",
    "in some cases to feed into monitoring tools. It needs monitoring to aggregate application metrics and health data in one place. Once this has been established, rules can be created that will trigger alerts when certain metrics fall outside of acceptable levels.",
    "Generally, alerts are layered on top of monitoring such that certain conditions trigger appropriate alerts to notify team members of urgent problems. Some scenarios that may require alerts include:",
    "Generally, alerts are layered on top of monitoring such that certain conditions trigger appropriate alerts to notify team members of urgent problems. Some scenarios that may require alerts include:",
    "One of your application",
    "One of your application",
    "Your application is returning unsuccessful HTTP responses to more than 1% of requests.",
    "Your application is returning unsuccessful HTTP responses to more than 1% of requests.",
    "Your application",
    "Your application",
    "You can craft queries against the monitoring tools to look for known failure conditions. For instance, queries could search through the incoming logs for indications of HTTP status code 500, which indicates a problem on a web server. As soon as one of these is detected, then an e-mail or an SMS could be sent to the owner of the originating service who can begin to investigate.",
    "You can craft queries against the monitoring tools to look for known failure conditions. For instance, queries could search through the incoming logs for indications of HTTP status code 500, which indicates a problem on a web server. As soon as one of these is detected, then an e-mail or an SMS could be sent to the owner of the originating service who can begin to investigate.",
    "Typically, though, a single 500 error isn",
    "Typically, though, a single 500 error isn",
    "One of the most damaging patterns in alerting is to fire too many alerts for humans to investigate. Service owners will rapidly become desensitized to errors that they",
    "One of the most damaging patterns in alerting is to fire too many alerts for humans to investigate. Service owners will rapidly become desensitized to errors that they",
    "There are many good centralized logging tools and they vary in cost from being free, open-source tools, to more expensive options. In many cases, the free tools are as good as or better than the paid offerings. One such tool is a combination of three open-source components: Elasticsearch, Logstash, and Kibana.",
    "There are many good centralized logging tools and they vary in cost from being free, open-source tools, to more expensive options. In many cases, the free tools are as good as or better than the paid offerings. One such tool is a combination of three open-source components: Elasticsearch, Logstash, and Kibana.",
    "Collectively these tools are known as the Elastic Stack or ELK stack.",
    "Collectively these tools are known as the Elastic Stack or ELK stack.",
    "The Elastic Stack is a powerful option for gathering information from a Kubernetes cluster. Kubernetes supports sending logs to an Elasticsearch endpoint, and for the ",
    "The Elastic Stack is a powerful option for gathering information from a Kubernetes cluster. Kubernetes supports sending logs to an Elasticsearch endpoint, and for the ",
    "KUBE",
    "KUBE",
    null,
    null,
    "This step will install Elasticsearch on the cluster and target sending all the cluster logs to it.",
    "This step will install Elasticsearch on the cluster and target sending all the cluster logs to it.",
    null,
    null,
    null,
    null,
    "Elastic Stack provides centralized logging in a low-cost, scalable, cloud-friendly manner. Its user interface streamlines data analysis so you can spend your time gleaning insights from your data instead of fighting with a clunky interface. It supports a wide variety of inputs so as your distributed application spans more and different kinds of services, you can expect to continue to be able to feed log and metric data into the system. The Elastic Stack also supports fast searches even across large data sets, making it possible even for large applications to log detailed data and still be able to have visibility into it in a performant fashion.",
    "Elastic Stack provides centralized logging in a low-cost, scalable, cloud-friendly manner. Its user interface streamlines data analysis so you can spend your time gleaning insights from your data instead of fighting with a clunky interface. It supports a wide variety of inputs so as your distributed application spans more and different kinds of services, you can expect to continue to be able to feed log and metric data into the system. The Elastic Stack also supports fast searches even across large data sets, making it possible even for large applications to log detailed data and still be able to have visibility into it in a performant fashion.",
    "The first component is ",
    "The first component is ",
    "Serilog is a logging library for .NET languages, which allows for parameterized logging. Instead of generating a textual log message that embeds fields, parameters are kept separate. This library allows for more intelligent filtering and searching. A sample Serilog configuration for writing to Logstash appears in Figure 7-7.",
    "Serilog is a logging library for .NET languages, which allows for parameterized logging. Instead of generating a textual log message that embeds fields, parameters are kept separate. This library allows for more intelligent filtering and searching. A sample Serilog configuration for writing to Logstash appears in Figure 7-7.",
    null,
    null,
    "Logstash would use a configuration like the one shown in Figure 7-8.",
    "Logstash would use a configuration like the one shown in Figure 7-8.",
    null,
    null,
    "For scenarios where extensive log manipulation isn",
    "For scenarios where extensive log manipulation isn",
    "Once the logs have been gathered by Logstash, it needs somewhere to put them. While Logstash supports many different outputs, one of the more exciting ones is Elasticsearch.",
    "Once the logs have been gathered by Logstash, it needs somewhere to put them. While Logstash supports many different outputs, one of the more exciting ones is Elasticsearch.",
    "Elasticsearch is a powerful search engine that can index logs as they arrive. It makes running queries against the logs quick. Elasticsearch can handle huge quantities of logs and, in extreme cases, can be scaled out across many nodes.",
    "Elasticsearch is a powerful search engine that can index logs as they arrive. It makes running queries against the logs quick. Elasticsearch can handle huge quantities of logs and, in extreme cases, can be scaled out across many nodes.",
    "Log messages that have been crafted to contain parameters or that have had parameters split from them through Logstash processing, can be queried directly as Elasticsearch preserves this information.",
    "Log messages that have been crafted to contain parameters or that have had parameters split from them through Logstash processing, can be queried directly as Elasticsearch preserves this information.",
    "A query that searches for the top 10 pages visited by jill@example.com, appears in Figure 7-9.",
    "A query that searches for the top 10 pages visited by jill@example.com, appears in Figure 7-9.",
    null,
    null,
    "The final component of the stack is Kibana. This tool is used to provide interactive visualizations in a web dashboard. Dashboards may be crafted even by users who are non-technical. Most data that is resident in the Elasticsearch index, can be included in the Kibana dashboards. Individual users may",
    "The final component of the stack is Kibana. This tool is used to provide interactive visualizations in a web dashboard. Dashboards may be crafted even by users who are non-technical. Most data that is resident in the Elasticsearch index, can be included in the Kibana dashboards. Individual users may",
    "have different dashboard desires and Kibana enables this customization through allowing userspecific dashboards.",
    "have different dashboard desires and Kibana enables this customization through allowing userspecific dashboards.",
    "The Elastic stack can be installed on Azure in many ways. As always, it",
    "The Elastic stack can be installed on Azure in many ways. As always, it",
    "An option with less overhead is to make use of one of the many Docker containers on which the Elastic Stack has already been configured. These containers can be dropped into an existing Kubernetes cluster and run alongside application code. The ",
    "An option with less overhead is to make use of one of the many Docker containers on which the Elastic Stack has already been configured. These containers can be dropped into an existing Kubernetes cluster and run alongside application code. The ",
    "Another option is a ",
    "Another option is a ",
    "\u2022 ",
    "\u2022 ",
    "The built-in logging in Kubernetes is primitive. However, there are some great options for getting the logs out of Kubernetes and into a place where they can be properly analyzed. If you need to monitor your AKS clusters, configuring Elastic Stack for Kubernetes is a great solution.",
    "The built-in logging in Kubernetes is primitive. However, there are some great options for getting the logs out of Kubernetes and into a place where they can be properly analyzed. If you need to monitor your AKS clusters, configuring Elastic Stack for Kubernetes is a great solution.",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "Log and metric information is gathered not just from the containers running in the cluster but also from the cluster hosts themselves. It allows correlating log information from the two making it much easier to track down an error.",
    "Log and metric information is gathered not just from the containers running in the cluster but also from the cluster hosts themselves. It allows correlating log information from the two making it much easier to track down an error.",
    "Installing the log collectors differs on ",
    "Installing the log collectors differs on ",
    "No matter which orchestrator or operating system is running the Azure Monitor daemon, the log information is forwarded to the same Azure Monitor tools with which users are familiar. This approach ensures a parallel experience in environments that mix different log sources such as a hybrid Kubernetes/Azure Functions environment.",
    "No matter which orchestrator or operating system is running the Azure Monitor daemon, the log information is forwarded to the same Azure Monitor tools with which users are familiar. This approach ensures a parallel experience in environments that mix different log sources such as a hybrid Kubernetes/Azure Functions environment.",
    null,
    null,
    null,
    null,
    "Logging is one of the most overlooked and yet most important parts of deploying any application at scale. As the size and complexity of applications increase, then so does the difficulty of debugging them. Having top quality logs available makes debugging much easier and moves it from the realm of ",
    "Logging is one of the most overlooked and yet most important parts of deploying any application at scale. As the size and complexity of applications increase, then so does the difficulty of debugging them. Having top quality logs available makes debugging much easier and moves it from the realm of ",
    "No other cloud provider has as mature of a cloud application monitoring solution than that found in Azure. Azure Monitor is an umbrella name for a collection of tools designed to provide visibility into the state of your system. It helps you understand how your cloud-native services are performing and proactively identifies issues affecting them. Figure 7-12 presents a high level of view of Azure Monitor.",
    "No other cloud provider has as mature of a cloud application monitoring solution than that found in Azure. Azure Monitor is an umbrella name for a collection of tools designed to provide visibility into the state of your system. It helps you understand how your cloud-native services are performing and proactively identifies issues affecting them. Figure 7-12 presents a high level of view of Azure Monitor.",
    null,
    null,
    null,
    null,
    "The first step in any monitoring solution is to gather as much data as possible. The more data gathered, the deeper the insights. Instrumenting systems has traditionally been difficult. Simple Network Management Protocol (SNMP) was the gold standard protocol for collecting machine level information, but it required a great deal of knowledge and configuration. Fortunately, much of this hard work has been eliminated as the most common metrics are gathered automatically by Azure Monitor.",
    "The first step in any monitoring solution is to gather as much data as possible. The more data gathered, the deeper the insights. Instrumenting systems has traditionally been difficult. Simple Network Management Protocol (SNMP) was the gold standard protocol for collecting machine level information, but it required a great deal of knowledge and configuration. Fortunately, much of this hard work has been eliminated as the most common metrics are gathered automatically by Azure Monitor.",
    "Application level metrics and events aren",
    "Application level metrics and events aren",
    "The ultimate goal of gathering information about the state of your application is to ensure that your end users have a good experience. What better way to tell if users are experiencing issues than doing ",
    "The ultimate goal of gathering information about the state of your application is to ensure that your end users have a good experience. What better way to tell if users are experiencing issues than doing ",
    "Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow users to instantly see when there are problems. These charts can be gathered into dashboards or into Workbooks, a multi-page report designed to tell a story about some aspect of the system.",
    "Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow users to instantly see when there are problems. These charts can be gathered into dashboards or into Workbooks, a multi-page report designed to tell a story about some aspect of the system.",
    "No modern application would be complete without some artificial intelligence or machine learning. To this end, data ",
    "No modern application would be complete without some artificial intelligence or machine learning. To this end, data ",
    "Application Insights provides a powerful (SQL-like) query language called ",
    "Application Insights provides a powerful (SQL-like) query language called ",
    "Figure 7-13 shows the results of this Application Insights Query.",
    "Figure 7-13 shows the results of this Application Insights Query.",
    null,
    null,
    null,
    null,
    "There is a ",
    "There is a ",
    "There are several different dashboard technologies that may be used to surface the information from Azure Monitor. Perhaps the simplest is to just run queries in Application Insights and ",
    "There are several different dashboard technologies that may be used to surface the information from Azure Monitor. Perhaps the simplest is to just run queries in Application Insights and ",
    null,
    null,
    null,
    null,
    "These charts can then be embedded in the Azure portal proper through use of the dashboard feature. For users with more exacting requirements, such as being able to drill down into several tiers of data, Azure Monitor data is available to ",
    "These charts can then be embedded in the Azure portal proper through use of the dashboard feature. For users with more exacting requirements, such as being able to drill down into several tiers of data, Azure Monitor data is available to ",
    null,
    null,
    null,
    null,
    "Sometimes, having data dashboards is insufficient. If nobody is awake to watch the dashboards, then it can still be many hours before a problem is addressed, or even detected. To this end, Azure Monitor also provides a top notch ",
    "Sometimes, having data dashboards is insufficient. If nobody is awake to watch the dashboards, then it can still be many hours before a problem is addressed, or even detected. To this end, Azure Monitor also provides a top notch ",
    "Metric values",
    "Metric values",
    "Log search queries",
    "Log search queries",
    "Activity Log events",
    "Activity Log events",
    "Health of the underlying Azure platform",
    "Health of the underlying Azure platform",
    "Tests for web site availability",
    "Tests for web site availability",
    "When triggered, the alerts can perform a wide variety of tasks. On the simple side, the alerts may just send an e-mail notification to a mailing list or a text message to an individual. More involved alerts",
    "When triggered, the alerts can perform a wide variety of tasks. On the simple side, the alerts may just send an e-mail notification to a mailing list or a text message to an individual. More involved alerts",
    "might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular application. Alerts can trigger actions in ",
    "might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular application. Alerts can trigger actions in ",
    "As common causes of alerts are identified, the alerts can be enhanced with details about the common causes of the alerts and the steps to take to resolve them. Highly mature cloud-native application deployments may opt to kick off self-healing tasks, which perform actions such as removing failing nodes from a scale set or triggering an autoscaling activity. Eventually it may no longer be necessary to wake up on-call personnel at 2AM to resolve a live-site issue as the system will be able to adjust itself to compensate or at least limp along until somebody arrives at work the next morning.",
    "As common causes of alerts are identified, the alerts can be enhanced with details about the common causes of the alerts and the steps to take to resolve them. Highly mature cloud-native application deployments may opt to kick off self-healing tasks, which perform actions such as removing failing nodes from a scale set or triggering an autoscaling activity. Eventually it may no longer be necessary to wake up on-call personnel at 2AM to resolve a live-site issue as the system will be able to adjust itself to compensate or at least limp along until somebody arrives at work the next morning.",
    "Azure Monitor automatically leverages machine learning to understand the normal operating parameters of deployed applications. This approach enables it to detect services that are operating outside of their normal parameters. For instance, the typical weekday traffic on the site might be 10,000 requests per minute. And then, on a given week, suddenly the number of requests hits a highly unusual 20,000 requests per minute. ",
    "Azure Monitor automatically leverages machine learning to understand the normal operating parameters of deployed applications. This approach enables it to detect services that are operating outside of their normal parameters. For instance, the typical weekday traffic on the site might be 10,000 requests per minute. And then, on a given week, suddenly the number of requests hits a highly unusual 20,000 requests per minute. ",
    "\u2022 ",
    "\u2022 ",
    "Most software applications need to have some knowledge of the user or process that is calling them. The user or process interacting with an application is known as a security principal, and the process of authenticating and authorizing these principals is known as identity management, or simply ",
    "Most software applications need to have some knowledge of the user or process that is calling them. The user or process interacting with an application is known as a security principal, and the process of authenticating and authorizing these principals is known as identity management, or simply ",
    "While this solution is effective within corporate networks, it isn",
    "While this solution is effective within corporate networks, it isn",
    "In today",
    "In today",
    "Modern cloud-native identity solutions typically use access tokens that are issued by a secure token service/server (STS) to a security principal once their identity is determined. The access token, typically a JSON Web Token (JWT), includes ",
    "Modern cloud-native identity solutions typically use access tokens that are issued by a secure token service/server (STS) to a security principal once their identity is determined. The access token, typically a JSON Web Token (JWT), includes ",
    "Typically, the STS is only responsible for authenticating the principal. Determining their level of access to resources is left to other parts of the application.",
    "Typically, the STS is only responsible for authenticating the principal. Determining their level of access to resources is left to other parts of the application.",
    "\u2022 ",
    "\u2022 ",
    null,
    null,
    "Many organizations still rely on local authentication services like Active Directory Federation Services (ADFS). While this approach has traditionally served organizations well for on premises authentication needs, cloud-native applications benefit from systems designed specifically for the cloud. A recent 2019 United Kingdom National Cyber Security Centre (NCSC) advisory states that ",
    "Many organizations still rely on local authentication services like Active Directory Federation Services (ADFS). While this approach has traditionally served organizations well for on premises authentication needs, cloud-native applications benefit from systems designed specifically for the cloud. A recent 2019 United Kingdom National Cyber Security Centre (NCSC) advisory states that ",
    "Access to full set of Microsoft credential protection technologies.",
    "Access to full set of Microsoft credential protection technologies.",
    "Most organizations are already relying on Azure AD to some extent.",
    "Most organizations are already relying on Azure AD to some extent.",
    "Double hashing of NTLM hashes ensures compromise won",
    "Double hashing of NTLM hashes ensures compromise won",
    null,
    null,
    null,
    null,
    "<span id=\"page-152-1\">",
    "<span id=\"page-152-1\">",
    "Microsoft Azure Active Directory (Azure AD) offers identity and access management as a service. Customers use it to configure and maintain who users are, what information to store about them, who can access that information, who can manage it, and what apps can access it. AAD can authenticate users for applications configured to use it, providing a single sign-on (SSO) experience. It can be used on its own or be integrated with Windows AD running on premises.",
    "Microsoft Azure Active Directory (Azure AD) offers identity and access management as a service. Customers use it to configure and maintain who users are, what information to store about them, who can access that information, who can manage it, and what apps can access it. AAD can authenticate users for applications configured to use it, providing a single sign-on (SSO) experience. It can be used on its own or be integrated with Windows AD running on premises.",
    "Azure AD is built for the cloud. It",
    "Azure AD is built for the cloud. It",
    "Azure AD supports company branded sign-in screens, multi-factory authentication, and cloud-based application proxies that are used to provide SSO for applications hosted on premises. It offers different kinds of security reporting and alert capabilities.",
    "Azure AD supports company branded sign-in screens, multi-factory authentication, and cloud-based application proxies that are used to provide SSO for applications hosted on premises. It offers different kinds of security reporting and alert capabilities.",
    "\u2022 ",
    "\u2022 ",
    "IdentityServer is an authentication server that implements OpenID Connect (OIDC) and OAuth 2.0 standards for ASP.NET Core. It",
    "IdentityServer is an authentication server that implements OpenID Connect (OIDC) and OAuth 2.0 standards for ASP.NET Core. It",
    "Typically, applications need to support some or all of the following scenarios:",
    "Typically, applications need to support some or all of the following scenarios:",
    "Human users accessing web applications with a browser.",
    "Human users accessing web applications with a browser.",
    "Human users accessing back-end Web APIs from browser-based apps.",
    "Human users accessing back-end Web APIs from browser-based apps.",
    "Human users on mobile/native clients accessing back-end Web APIs.",
    "Human users on mobile/native clients accessing back-end Web APIs.",
    "Other applications accessing back-end Web APIs (without an active user or user interface).",
    "Other applications accessing back-end Web APIs (without an active user or user interface).",
    "Any application may need to interact with other Web APIs, using its own identity or delegating to the user",
    "Any application may need to interact with other Web APIs, using its own identity or delegating to the user",
    null,
    null,
    null,
    null,
    "In each of these scenarios, the exposed functionality needs to be secured against unauthorized use. At a minimum, this typically requires authenticating the user or principal making a request for a resource. This authentication may use one of several common protocols such as SAML2p, WS-Fed, or OpenID Connect. Communicating with APIs typically uses the OAuth2 protocol and its support for security tokens. Separating these critical cross-cutting security concerns and their implementation details from the applications themselves ensures consistency and improves security and maintainability.",
    "In each of these scenarios, the exposed functionality needs to be secured against unauthorized use. At a minimum, this typically requires authenticating the user or principal making a request for a resource. This authentication may use one of several common protocols such as SAML2p, WS-Fed, or OpenID Connect. Communicating with APIs typically uses the OAuth2 protocol and its support for security tokens. Separating these critical cross-cutting security concerns and their implementation details from the applications themselves ensures consistency and improves security and maintainability.",
    "Outsourcing these concerns to a dedicated product like IdentityServer helps the requirement for every application to solve these problems itself.",
    "Outsourcing these concerns to a dedicated product like IdentityServer helps the requirement for every application to solve these problems itself.",
    "IdentityServer provides middleware that runs within an ASP.NET Core application and adds support for OpenID Connect and OAuth2 (see ",
    "IdentityServer provides middleware that runs within an ASP.NET Core application and adds support for OpenID Connect and OAuth2 (see ",
    "Authorize (authenticate the end user)",
    "Authorize (authenticate the end user)",
    "Token (request a token programmatically)",
    "Token (request a token programmatically)",
    "Discovery (metadata about the server)",
    "Discovery (metadata about the server)",
    "User Info (get user information with a valid access token)",
    "User Info (get user information with a valid access token)",
    "Device Authorization (used to start device flow authorization)",
    "Device Authorization (used to start device flow authorization)",
    "Introspection (token validation)",
    "Introspection (token validation)",
    "Revocation (token revocation)",
    "Revocation (token revocation)",
    "End Session (trigger single sign-out across all apps)",
    "End Session (trigger single sign-out across all apps)",
    "IdentityServer4 is available under dual license:",
    "IdentityServer4 is available under dual license:",
    "RPL lets you use the IdentityServer4 free if used in open-source work",
    "RPL lets you use the IdentityServer4 free if used in open-source work",
    "Paid lets you use the IdentityServer4 in a commercial scenario",
    "Paid lets you use the IdentityServer4 in a commercial scenario",
    "For more information about pricing, see the official product",
    "For more information about pricing, see the official product",
    "You can add it to your applications using its NuGet packages. The main package is ",
    "You can add it to your applications using its NuGet packages. The main package is ",
    "IdentityServer supports different kinds of protocols and social authentication providers that can be configured as part of each custom installation. This is typically done in the ASP.NET Core application",
    "IdentityServer supports different kinds of protocols and social authentication providers that can be configured as part of each custom installation. This is typically done in the ASP.NET Core application",
    null,
    null,
    "Many cloud-native applications use server-side APIs and rich client single page applications (SPAs) on the front end. IdentityServer ships a ",
    "Many cloud-native applications use server-side APIs and rich client single page applications (SPAs) on the front end. IdentityServer ships a ",
    null,
    null,
    null,
    null,
    null,
    null,
    "Not a day goes by where the news doesn",
    "Not a day goes by where the news doesn",
    "However, there are starting to be real-world consequences for not maintaining a security mindset when building and deploying applications. Many companies learned the hard way what can happen when servers and desktops aren",
    "However, there are starting to be real-world consequences for not maintaining a security mindset when building and deploying applications. Many companies learned the hard way what can happen when servers and desktops aren",
    "Even governments aren",
    "Even governments aren",
    "There has also been an increase in legislation that mandates certain data protections for personal data. In Europe, GDPR has been in effect for more than a year and, more recently, California passed their own version called CCDA, which comes into effect January 1, 2020. The fines under GDPR can be so punishing as to put companies out of business. Google has already been fined 50 million Euros for violations, but that",
    "There has also been an increase in legislation that mandates certain data protections for personal data. In Europe, GDPR has been in effect for more than a year and, more recently, California passed their own version called CCDA, which comes into effect January 1, 2020. The fines under GDPR can be so punishing as to put companies out of business. Google has already been fined 50 million Euros for violations, but that",
    "<span id=\"page-156-1\">",
    "<span id=\"page-156-1\">",
    "Cloud-native applications can be both easier and more difficult to secure than traditional applications. On the downside, you need to secure more smaller applications and dedicate more energy to build out the security infrastructure. The heterogeneous nature of programming languages and styles in most service deployments also means you need to pay more attention to security bulletins from many different providers.",
    "Cloud-native applications can be both easier and more difficult to secure than traditional applications. On the downside, you need to secure more smaller applications and dedicate more energy to build out the security infrastructure. The heterogeneous nature of programming languages and styles in most service deployments also means you need to pay more attention to security bulletins from many different providers.",
    "On the flip side, smaller services, each with their own data store, limit the scope of an attack. If an attacker compromises one system, it",
    "On the flip side, smaller services, each with their own data store, limit the scope of an attack. If an attacker compromises one system, it",
    "No matter if the advantages outweigh the disadvantages of cloud-native applications, the same holistic security mindset must be followed. Security and secure thinking must be part of every step of the development and operations story. When planning an application ask questions like:",
    "No matter if the advantages outweigh the disadvantages of cloud-native applications, the same holistic security mindset must be followed. Security and secure thinking must be part of every step of the development and operations story. When planning an application ask questions like:",
    "What would be the impact of this data being lost?",
    "What would be the impact of this data being lost?",
    "How can we limit the damage from bad data being injected into this service?",
    "How can we limit the damage from bad data being injected into this service?",
    "Who should have access to this data?",
    "Who should have access to this data?",
    "Are there auditing policies in place around the development and release process?",
    "Are there auditing policies in place around the development and release process?",
    "All these questions are part of a process called ",
    "All these questions are part of a process called ",
    "Once the list of threats has been established, you need to decide whether they",
    "Once the list of threats has been established, you need to decide whether they",
    "The altered processors are difficult to detect without a microscope and advanced knowledge of the on silicon design of that processor. This scenario is unlikely to happen and expensive to mitigate, so probably no threat model would recommend building exploit protection for it.",
    "The altered processors are difficult to detect without a microscope and advanced knowledge of the on silicon design of that processor. This scenario is unlikely to happen and expensive to mitigate, so probably no threat model would recommend building exploit protection for it.",
    "More likely threats, such as broken access controls permitting Id incrementing attacks (replacing Id=2 with Id=3 in the URL) or SQL injection, are more attractive to build protections against. The mitigations for these threats are quite reasonable to build and prevent embarrassing security holes that smear the company",
    "More likely threats, such as broken access controls permitting Id incrementing attacks (replacing Id=2 with Id=3 in the URL) or SQL injection, are more attractive to build protections against. The mitigations for these threats are quite reasonable to build and prevent embarrassing security holes that smear the company",
    "One of the founding ideas in computer security is the Principle of Least Privilege (POLP). It",
    "One of the founding ideas in computer security is the Principle of Least Privilege (POLP). It",
    "As an example, think of the tellers at a bank: accessing the safe is an uncommon activity. So, the average teller can",
    "As an example, think of the tellers at a bank: accessing the safe is an uncommon activity. So, the average teller can",
    "In a computer system, a fantastic example is the rights of a user connecting to a database. In many cases, there",
    "In a computer system, a fantastic example is the rights of a user connecting to a database. In many cases, there",
    "Almost every part of building a cloud-native application can benefit from remembering the principle of least privilege. You can find it at play when setting up firewalls, network security groups, roles, and scopes in Role-based access control (RBAC).",
    "Almost every part of building a cloud-native application can benefit from remembering the principle of least privilege. You can find it at play when setting up firewalls, network security groups, roles, and scopes in Role-based access control (RBAC).",
    "As applications become more complicated the number of attack vectors increases at an alarming rate. Threat modeling is flawed in that it tends to be executed by the same people building the system. In the same way that many developers have trouble envisioning user interactions and then build unusable user interfaces, most developers have difficulty seeing every attack vector. It",
    "As applications become more complicated the number of attack vectors increases at an alarming rate. Threat modeling is flawed in that it tends to be executed by the same people building the system. In the same way that many developers have trouble envisioning user interactions and then build unusable user interfaces, most developers have difficulty seeing every attack vector. It",
    "Penetration testing or ",
    "Penetration testing or ",
    "Azure itself is constantly undergoing attacks from a ",
    "Azure itself is constantly undergoing attacks from a ",
    "Should an attacker attempt to penetrate an application, there should be some warning of it. Frequently, attacks can be spotted by examining the logs from services. Attacks leave telltale signs that can be spotted before they succeed. For instance, an attacker attempting to guess a password will make many requests to a login system. Monitoring around the login system can detect weird patterns that are out of line with the typical access pattern. This monitoring can be turned into an alert that can, in turn, alert an operations person to activate some sort of countermeasure. A highly mature monitoring system might even take action based on these deviations proactively adding rules to block requests or throttle responses.",
    "Should an attacker attempt to penetrate an application, there should be some warning of it. Frequently, attacks can be spotted by examining the logs from services. Attacks leave telltale signs that can be spotted before they succeed. For instance, an attacker attempting to guess a password will make many requests to a login system. Monitoring around the login system can detect weird patterns that are out of line with the typical access pattern. This monitoring can be turned into an alert that can, in turn, alert an operations person to activate some sort of countermeasure. A highly mature monitoring system might even take action based on these deviations proactively adding rules to block requests or throttle responses.",
    "One place where security is often overlooked is around the build process. Not only should the build run security checks, such as scanning for insecure code or checked-in credentials, but the build itself should be secure. If the build server is compromised, then it provides a fantastic vector for introducing arbitrary code into the product.",
    "One place where security is often overlooked is around the build process. Not only should the build run security checks, such as scanning for insecure code or checked-in credentials, but the build itself should be secure. If the build server is compromised, then it provides a fantastic vector for introducing arbitrary code into the product.",
    "Imagine that an attacker is looking to steal the passwords of people signing into a web application. They could introduce a build step that modifies the checked-out code to mirror any login request to another server. The next time code goes through the build, it",
    "Imagine that an attacker is looking to steal the passwords of people signing into a web application. They could introduce a build step that modifies the checked-out code to mirror any login request to another server. The next time code goes through the build, it",
    "catch it in a code review because the build steps live on the build server. The exploited code will go to production where it can harvest passwords. Probably there",
    "catch it in a code review because the build steps live on the build server. The exploited code will go to production where it can harvest passwords. Probably there",
    "This scenario is a perfect example of a seemingly low-value target that can be used to break into the system. Once an attacker breaches the perimeter of the system, they can start working on finding ways to elevate their permissions to the point that they can cause real harm anywhere they like.",
    "This scenario is a perfect example of a seemingly low-value target that can be used to break into the system. Once an attacker breaches the perimeter of the system, they can start working on finding ways to elevate their permissions to the point that they can cause real harm anywhere they like.",
    ".NET Framework is already a quite secure framework. It avoids some of the pitfalls of unmanaged code, such as walking off the ends of arrays. Work is actively done to fix security holes as they",
    ".NET Framework is already a quite secure framework. It avoids some of the pitfalls of unmanaged code, such as walking off the ends of arrays. Work is actively done to fix security holes as they",
    "There are many ways to make .NET code more secure. Following guidelines such as the ",
    "There are many ways to make .NET code more secure. Following guidelines such as the ",
    "The build process is a good place to put scanning tools to detect problems in source code before they make it into production. Most every project has dependencies on some other packages. A tool that can scan for outdated packages will catch problems in a nightly build. Even when building Docker images, it",
    "The build process is a good place to put scanning tools to detect problems in source code before they make it into production. Most every project has dependencies on some other packages. A tool that can scan for outdated packages will catch problems in a nightly build. Even when building Docker images, it",
    "Azure is designed to balance usability and security for most users. Different users are going to have different security requirements, so they need to fine-tune their approach to cloud security. Microsoft publishes a great deal of security information in the ",
    "Azure is designed to balance usability and security for most users. Different users are going to have different security requirements, so they need to fine-tune their approach to cloud security. Microsoft publishes a great deal of security information in the ",
    "Within the Azure portal, the ",
    "Within the Azure portal, the ",
    "In an on-premises deployment environment, a great deal of energy is dedicated to setting up networking. Setting up routers, switches, and the such is complicated work. Networks allow certain resources to talk to other resources and prevent access in some cases. A frequent network rule is to restrict access to the production environment from the development environment on the off chance that a half-developed piece of code runs awry and deletes a swath of data.",
    "In an on-premises deployment environment, a great deal of energy is dedicated to setting up networking. Setting up routers, switches, and the such is complicated work. Networks allow certain resources to talk to other resources and prevent access in some cases. A frequent network rule is to restrict access to the production environment from the development environment on the off chance that a half-developed piece of code runs awry and deletes a swath of data.",
    "Out of the box, most PaaS Azure resources have only the most basic and permissive networking setup. For instance, anybody on the Internet can access an app service. New SQL Server instances typically",
    "Out of the box, most PaaS Azure resources have only the most basic and permissive networking setup. For instance, anybody on the Internet can access an app service. New SQL Server instances typically",
    "come restricted, so that external parties can",
    "come restricted, so that external parties can",
    "Fortunately, most Azure resources can be placed into an Azure Virtual Network that allows finegrained access control. Similar to the way that on-premises networks establish private networks that are protected from the wider world, virtual networks are islands of private IP addresses that are located within the Azure network.",
    "Fortunately, most Azure resources can be placed into an Azure Virtual Network that allows finegrained access control. Similar to the way that on-premises networks establish private networks that are protected from the wider world, virtual networks are islands of private IP addresses that are located within the Azure network.",
    null,
    null,
    null,
    null,
    "In the same way that on-premises networks have a firewall governing access to the network, you can establish a similar firewall at the boundary of the virtual network. By default, all the resources on a virtual network can still talk to the Internet. It",
    "In the same way that on-premises networks have a firewall governing access to the network, you can establish a similar firewall at the boundary of the virtual network. By default, all the resources on a virtual network can still talk to the Internet. It",
    "With the network established, internal resources like storage accounts can be set up to only allow for access by resources that are also on the Virtual Network. This firewall provides an extra level of security, should the keys for that storage account be leaked, attackers wouldn",
    "With the network established, internal resources like storage accounts can be set up to only allow for access by resources that are also on the Virtual Network. This firewall provides an extra level of security, should the keys for that storage account be leaked, attackers wouldn",
    "The nodes in an Azure Kubernetes cluster can participate in a virtual network just like other resources that are more native to Azure. This functionality is called ",
    "The nodes in an Azure Kubernetes cluster can participate in a virtual network just like other resources that are more native to Azure. This functionality is called ",
    "Continuing down the path of illustrating the principle of least privilege, not every resource within a Virtual Network needs to talk to every other resource. For instance, in an application that provides a web API over a storage account and a SQL database, it",
    "Continuing down the path of illustrating the principle of least privilege, not every resource within a Virtual Network needs to talk to every other resource. For instance, in an application that provides a web API over a storage account and a SQL database, it",
    "A policy of denying communication between resources can be annoying to implement, especially coming from a background of using Azure without traffic restrictions. On some other clouds, the concept of network security groups is much more prevalent. For instance, the default policy on AWS is that resources can",
    "A policy of denying communication between resources can be annoying to implement, especially coming from a background of using Azure without traffic restrictions. On some other clouds, the concept of network security groups is much more prevalent. For instance, the default policy on AWS is that resources can",
    "Virtual Networks can also be useful when setting up communication between on-premises and cloud resources. A virtual private network can be used to seamlessly attach the two networks together. This approach allows running a virtual network without any sort of gateway for scenarios where all the users are on-site. There are a number of technologies that can be used to establish this network. The simplest is to use a ",
    "Virtual Networks can also be useful when setting up communication between on-premises and cloud resources. A virtual private network can be used to seamlessly attach the two networks together. This approach allows running a virtual network without any sort of gateway for scenarios where all the users are on-site. There are a number of technologies that can be used to establish this network. The simplest is to use a ",
    "RBAC is a system that provides an identity to applications running in Azure. Applications can access resources using this identity instead of or in addition to using keys or passwords.",
    "RBAC is a system that provides an identity to applications running in Azure. Applications can access resources using this identity instead of or in addition to using keys or passwords.",
    "The first component in RBAC is a security principal. A security principal can be a user, group, service principal, or managed identity.",
    "The first component in RBAC is a security principal. A security principal can be a user, group, service principal, or managed identity.",
    null,
    null,
    null,
    null,
    "User Any user who has an account in Azure Active Directory is a user.",
    "User Any user who has an account in Azure Active Directory is a user.",
    "Group A collection of users from Azure Active Directory. As a member of a group, a user takes on the roles of that group in addition to their own.",
    "Group A collection of users from Azure Active Directory. As a member of a group, a user takes on the roles of that group in addition to their own.",
    "Service principal A security identity under which services or applications run.",
    "Service principal A security identity under which services or applications run.",
    "\u2022 Managed identity - An Azure Active Directory identity managed by Azure. Managed identities are typically used when developing cloud applications that manage the credentials for authenticating to Azure services.",
    "\u2022 Managed identity - An Azure Active Directory identity managed by Azure. Managed identities are typically used when developing cloud applications that manage the credentials for authenticating to Azure services.",
    "The security principal can be applied to most any resource. This aspect means that it",
    "The security principal can be applied to most any resource. This aspect means that it",
    "A security principal can take on many roles or, using a more sartorial analogy, wear many hats. Each role defines a series of permissions such as ",
    "A security principal can take on many roles or, using a more sartorial analogy, wear many hats. Each role defines a series of permissions such as ",
    null,
    null,
    null,
    null,
    "Built into Azure are also a number of high-level roles such as Owner, Contributor, Reader, and User Account Administrator. With the Owner role, a security principal can access all resources and assign permissions to others. A contributor has the same level of access to all resources but they can",
    "Built into Azure are also a number of high-level roles such as Owner, Contributor, Reader, and User Account Administrator. With the Owner role, a security principal can access all resources and assign permissions to others. A contributor has the same level of access to all resources but they can",
    "More granular built-in roles such as ",
    "More granular built-in roles such as ",
    "Roles can be applied to a restricted set of resources within Azure. For instance, applying scope to the previous example of reading from a Service Bus queue, you can narrow the permission to a single queue: ",
    "Roles can be applied to a restricted set of resources within Azure. For instance, applying scope to the previous example of reading from a Service Bus queue, you can narrow the permission to a single queue: ",
    "The scope can be as narrow as a single resource or it can be applied to an entire resource group, subscription, or even management group.",
    "The scope can be as narrow as a single resource or it can be applied to an entire resource group, subscription, or even management group.",
    "When testing if a security principal has certain permission, the combination of role and scope are taken into account. This combination provides a powerful authorization mechanism.",
    "When testing if a security principal has certain permission, the combination of role and scope are taken into account. This combination provides a powerful authorization mechanism.",
    "Previously, only ",
    "Previously, only ",
    "Deny rules take precedence over allow rules. Now representing the same ",
    "Deny rules take precedence over allow rules. Now representing the same ",
    "As you can imagine, having a large number of roles and scopes can make figuring out the effective permission of a service principal quite difficult. Piling deny rules on top of that, only serves to increase the complexity. Fortunately, there",
    "As you can imagine, having a large number of roles and scopes can make figuring out the effective permission of a service principal quite difficult. Piling deny rules on top of that, only serves to increase the complexity. Fortunately, there",
    null,
    null,
    null,
    null,
    "Passwords and certificates are a common attack vector for attackers. Password-cracking hardware can do a brute-force attack and try to guess billions of passwords per second. So it",
    "Passwords and certificates are a common attack vector for attackers. Password-cracking hardware can do a brute-force attack and try to guess billions of passwords per second. So it",
    "Many security ",
    "Many security ",
    "Azure Key Vault provides a centralized location to store passwords for things such as databases, API keys, and certificates. Once a secret is entered into the Vault, it",
    "Azure Key Vault provides a centralized location to store passwords for things such as databases, API keys, and certificates. Once a secret is entered into the Vault, it",
    "Access to the key vault is provided through RBACs, meaning that not just any user can access the information in the vault. Say a web application wishes to access the database connection string stored in Azure Key Vault. To gain access, applications need to run using a service principal. Under this assumed role, they can read the secrets from the safe. There are a number of different security settings that can further limit the access that an application has to the vault, so that it can",
    "Access to the key vault is provided through RBACs, meaning that not just any user can access the information in the vault. Say a web application wishes to access the database connection string stored in Azure Key Vault. To gain access, applications need to run using a service principal. Under this assumed role, they can read the secrets from the safe. There are a number of different security settings that can further limit the access that an application has to the vault, so that it can",
    "Access to the key vault can be monitored to ensure that only the expected applications are accessing the vault. The logs can be integrated back into Azure Monitor, unlocking the ability to set up alerts when unexpected conditions are encountered.",
    "Access to the key vault can be monitored to ensure that only the expected applications are accessing the vault. The logs can be integrated back into Azure Monitor, unlocking the ability to set up alerts when unexpected conditions are encountered.",
    "Within Kubernetes, there",
    "Within Kubernetes, there",
    "Creating a secret is as simple as finding the base64 version of the values to be stored:",
    "Creating a secret is as simple as finding the base64 version of the values to be stored:",
    "Then adding it to a secrets file named secret.yml for example that looks similar to the following example:",
    "Then adding it to a secrets file named secret.yml for example that looks similar to the following example:",
    "type",
    "type",
    "data",
    "data",
    "username",
    "username",
    "password",
    "password",
    "Finally, this file can be loaded into Kubernetes by running the following command:",
    "Finally, this file can be loaded into Kubernetes by running the following command:",
    "kubectl apply -f ./secret.yaml",
    "kubectl apply -f ./secret.yaml",
    "These secrets can then be mounted into volumes or exposed to container processes through environment variables. The ",
    "These secrets can then be mounted into volumes or exposed to container processes through environment variables. The ",
    "An alternative to use the built-in Kubernetes secrets is to access the secrets in Azure Key Vault from within Kubernetes. The simplest way to do this is to assign an RBAC role to the container looking to load secrets. The application can then use the Azure Key Vault APIs to access the secrets. However, this approach requires modifications to the code and doesn",
    "An alternative to use the built-in Kubernetes secrets is to access the secrets in Azure Key Vault from within Kubernetes. The simplest way to do this is to assign an RBAC role to the container looking to load secrets. The application can then use the Azure Key Vault APIs to access the secrets. However, this approach requires modifications to the code and doesn",
    "Keeping data safe is important whether it",
    "Keeping data safe is important whether it",
    "There are several ways to encrypt traffic on the network in Azure. The access to Azure services is typically done over connections that use Transport Layer Security (TLS). For instance, all the connections to the Azure APIs require TLS connections. Equally, connections to endpoints in Azure storage can be restricted to work only over TLS encrypted connections.",
    "There are several ways to encrypt traffic on the network in Azure. The access to Azure services is typically done over connections that use Transport Layer Security (TLS). For instance, all the connections to the Azure APIs require TLS connections. Equally, connections to endpoints in Azure storage can be restricted to work only over TLS encrypted connections.",
    "TLS is a complicated protocol and simply knowing that the connection is using TLS isn",
    "TLS is a complicated protocol and simply knowing that the connection is using TLS isn",
    "This check can be done by an external service such as SSL labs",
    "This check can be done by an external service such as SSL labs",
    "Even services like Azure SQL databases use TLS encryption to keep data hidden. The interesting part about encrypting the data in transit using TLS is that it isn",
    "Even services like Azure SQL databases use TLS encryption to keep data hidden. The interesting part about encrypting the data in transit using TLS is that it isn",
    null,
    null,
    null,
    null,
    "While this level of encryption isn",
    "While this level of encryption isn",
    "In any application, there are a number of places where data rests on the disk. The application code itself is loaded from some storage mechanism. Most applications also use some kind of a database such as SQL Server, Cosmos DB, or even the amazingly price-efficient Table Storage. These databases all use heavily encrypted storage to ensure that nobody other than the applications with proper permissions can read your data. Even the system operators can",
    "In any application, there are a number of places where data rests on the disk. The application code itself is loaded from some storage mechanism. Most applications also use some kind of a database such as SQL Server, Cosmos DB, or even the amazingly price-efficient Table Storage. These databases all use heavily encrypted storage to ensure that nobody other than the applications with proper permissions can read your data. Even the system operators can",
    "The underpinning of much of Azure is the Azure Storage engine. Virtual machine disks are mounted on top of Azure Storage. Azure Kubernetes Service runs on virtual machines that, themselves, are hosted on Azure Storage. Even serverless technologies, such as Azure Functions Apps and Azure Container Instances, run out of disk that is part of Azure Storage.",
    "The underpinning of much of Azure is the Azure Storage engine. Virtual machine disks are mounted on top of Azure Storage. Azure Kubernetes Service runs on virtual machines that, themselves, are hosted on Azure Storage. Even serverless technologies, such as Azure Functions Apps and Azure Container Instances, run out of disk that is part of Azure Storage.",
    "If Azure Storage is well encrypted, then it provides for a foundation for most everything else to also be encrypted. Azure Storage ",
    "If Azure Storage is well encrypted, then it provides for a foundation for most everything else to also be encrypted. Azure Storage ",
    "By default, the keys used for encrypting Azure Storage are managed by Microsoft. There are extensive protections in place to ensure to prevent malicious access to these keys. However, users with particular encryption requirements can also ",
    "By default, the keys used for encrypting Azure Storage are managed by Microsoft. There are extensive protections in place to ensure to prevent malicious access to these keys. However, users with particular encryption requirements can also ",
    "Virtual machines use encrypted storage, but it",
    "Virtual machines use encrypted storage, but it",
    "Databases hosted on Azure SQL use a technology called ",
    "Databases hosted on Azure SQL use a technology called ",
    "The encryption parameters are stored in the master database and, on startup, are read into memory for the remaining operations. This means that the master database must remain unencrypted. The actual key is managed by Microsoft. However, users with exacting security requirements may provide their own key in Key Vault in much the same way as is done for Azure Storage. The Key Vault provides for such services as key rotation and revocation.",
    "The encryption parameters are stored in the master database and, on startup, are read into memory for the remaining operations. This means that the master database must remain unencrypted. The actual key is managed by Microsoft. However, users with exacting security requirements may provide their own key in Key Vault in much the same way as is done for Azure Storage. The Key Vault provides for such services as key rotation and revocation.",
    "The ",
    "The ",
    "Setting up this tier of encryption requires running through a wizard in SQL Server Management Studio to select the sort of encryption and where in Key Vault to store the associated keys.",
    "Setting up this tier of encryption requires running through a wizard in SQL Server Management Studio to select the sort of encryption and where in Key Vault to store the associated keys.",
    null,
    null,
    null,
    null,
    "Client applications that read information from these encrypted columns need to make special allowances to read encrypted data. Connection strings need to be updated with Column Encryption Setting=Enabled and client credentials must be retrieved from the Key Vault. The SQL Server client must then be primed with the column encryption keys. Once that is done, the remaining actions use the standard interfaces to SQL Client. That is, tools like Dapper and Entity Framework, which are built on top of SQL Client, will continue to work without changes. Always Encrypted may not yet be available for every SQL Server driver on every language.",
    "Client applications that read information from these encrypted columns need to make special allowances to read encrypted data. Connection strings need to be updated with Column Encryption Setting=Enabled and client credentials must be retrieved from the Key Vault. The SQL Server client must then be primed with the column encryption keys. Once that is done, the remaining actions use the standard interfaces to SQL Client. That is, tools like Dapper and Entity Framework, which are built on top of SQL Client, will continue to work without changes. Always Encrypted may not yet be available for every SQL Server driver on every language.",
    "The combination of TDE and Always Encrypted, both of which can be used with client-specific keys, ensures that even the most exacting encryption requirements are supported.",
    "The combination of TDE and Always Encrypted, both of which can be used with client-specific keys, ensures that even the most exacting encryption requirements are supported.",
    "Cosmos DB is the newest database provided by Microsoft in Azure. It has been built from the ground up with security and cryptography in mind. AES-256bit encryption is standard for all Cosmos DB",
    "Cosmos DB is the newest database provided by Microsoft in Azure. It has been built from the ground up with security and cryptography in mind. AES-256bit encryption is standard for all Cosmos DB",
    "databases and can",
    "databases and can",
    null,
    null,
    null,
    null,
    "While Cosmos DB doesn",
    "While Cosmos DB doesn",
    "Azure has all the tools necessary to release a highly secure product. However, a chain is only as strong as its weakest link. If the applications deployed on top of Azure aren",
    "Azure has all the tools necessary to release a highly secure product. However, a chain is only as strong as its weakest link. If the applications deployed on top of Azure aren",
    "The favorite mantra of software consultants is to answer ",
    "The favorite mantra of software consultants is to answer ",
    "Take, for instance, the two major schools of developing web applications: Single Page Applications (SPAs) versus server-side applications. On the one hand, the user experience tends to be better with SPAs and the amount of traffic to the web server can be minimized making it possible to host them on something as simple as static hosting. On the other hand, SPAs tend to be slower to develop and more difficult to test. Which one is the right choice? Well, it depends on your situation.",
    "Take, for instance, the two major schools of developing web applications: Single Page Applications (SPAs) versus server-side applications. On the one hand, the user experience tends to be better with SPAs and the amount of traffic to the web server can be minimized making it possible to host them on something as simple as static hosting. On the other hand, SPAs tend to be slower to develop and more difficult to test. Which one is the right choice? Well, it depends on your situation.",
    "Cloud-native applications aren",
    "Cloud-native applications aren",
    "Years ago, it wasn",
    "Years ago, it wasn",
    "It",
    "It",
    "The patterns and practices that enable faster, more reliable releases to deliver value to the business are collectively known as DevOps. They consist of a wide range of ideas spanning the entire software development life cycle from specifying an application all the way up to delivering and operating that application.",
    "The patterns and practices that enable faster, more reliable releases to deliver value to the business are collectively known as DevOps. They consist of a wide range of ideas spanning the entire software development life cycle from specifying an application all the way up to delivering and operating that application.",
    "DevOps emerged before microservices and it",
    "DevOps emerged before microservices and it",
    null,
    null,
    null,
    null,
    "Through good DevOps practices, it",
    "Through good DevOps practices, it",
    "There",
    "There",
    "Azure DevOps has a long pedigree. It can trace its roots back to when Team Foundation Server first moved online and through the various name changes: Visual Studio Online and Visual Studio Team Services. Through the years, however, it has become far more than its predecessors.",
    "Azure DevOps has a long pedigree. It can trace its roots back to when Team Foundation Server first moved online and through the various name changes: Visual Studio Online and Visual Studio Team Services. Through the years, however, it has become far more than its predecessors.",
    "Azure DevOps is divided into five major components:",
    "Azure DevOps is divided into five major components:",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "The top-level organizational unit in Azure DevOps is known as a Project. Within each project the various components, such as Azure Artifacts, can be turned on and off. Each of these components provides different advantages for cloud-native applications. The three most useful are repositories, boards, and pipelines. If users want to manage their source code in another repository stack, such as GitHub, but still take advantage of Azure Pipelines and other components, that",
    "The top-level organizational unit in Azure DevOps is known as a Project. Within each project the various components, such as Azure Artifacts, can be turned on and off. Each of these components provides different advantages for cloud-native applications. The three most useful are repositories, boards, and pipelines. If users want to manage their source code in another repository stack, such as GitHub, but still take advantage of Azure Pipelines and other components, that",
    "Fortunately, development teams have many options when selecting a repository. One of them is GitHub.",
    "Fortunately, development teams have many options when selecting a repository. One of them is GitHub.",
    "Founded in 2009, GitHub is a widely popular web-based repository for hosting projects, documentation, and code. Many large tech companies, such as Apple, Amazon, Google, and mainstream corporations use GitHub. GitHub uses the open-source, distributed version control system named Git as its foundation. On top, it then adds its own set of features, including defect tracking, feature and pull requests, tasks management, and wikis for each code base.",
    "Founded in 2009, GitHub is a widely popular web-based repository for hosting projects, documentation, and code. Many large tech companies, such as Apple, Amazon, Google, and mainstream corporations use GitHub. GitHub uses the open-source, distributed version control system named Git as its foundation. On top, it then adds its own set of features, including defect tracking, feature and pull requests, tasks management, and wikis for each code base.",
    "As GitHub evolves, it too is adding DevOps features. For example, GitHub has its own continuous integration/continuous delivery (CI/CD) pipeline, called GitHub Actions. GitHub Actions is a community-powered workflow automation tool. It lets DevOps teams integrate with their existing tooling, mix and match new products, and hook into their software lifecycle, including existing CI/CD partners.",
    "As GitHub evolves, it too is adding DevOps features. For example, GitHub has its own continuous integration/continuous delivery (CI/CD) pipeline, called GitHub Actions. GitHub Actions is a community-powered workflow automation tool. It lets DevOps teams integrate with their existing tooling, mix and match new products, and hook into their software lifecycle, including existing CI/CD partners.",
    "GitHub has over 40 million users, making it the largest host of source code in the world. In October of 2018, Microsoft purchased GitHub. Microsoft has pledged that GitHub will remain an ",
    "GitHub has over 40 million users, making it the largest host of source code in the world. In October of 2018, Microsoft purchased GitHub. Microsoft has pledged that GitHub will remain an ",
    "Organizing the code for a cloud-native application can be challenging. Instead of a single giant application, the cloud-native applications tend to be made up of a web of smaller applications that talk with one another. As with all things in computing, the best arrangement of code remains an open question. There are examples of successful applications using different kinds of layouts, but two variants seem to have the most popularity.",
    "Organizing the code for a cloud-native application can be challenging. Instead of a single giant application, the cloud-native applications tend to be made up of a web of smaller applications that talk with one another. As with all things in computing, the best arrangement of code remains an open question. There are examples of successful applications using different kinds of layouts, but two variants seem to have the most popularity.",
    "Before getting down into the actual source control itself, it",
    "Before getting down into the actual source control itself, it",
    "Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.",
    "Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.",
    null,
    null,
    null,
    null,
    "At first glance, this approach seems like the most logical approach to splitting up the source code for microservices. Each repository can contain the code needed to build the one microservice. The advantages to this approach are readily visible:",
    "At first glance, this approach seems like the most logical approach to splitting up the source code for microservices. Each repository can contain the code needed to build the one microservice. The advantages to this approach are readily visible:",
    "Instructions for building and maintaining the application can be added to a README file at the root of each repository. When flipping through the repositories, it",
    "Instructions for building and maintaining the application can be added to a README file at the root of each repository. When flipping through the repositories, it",
    "Every service is located in a logical place, easily found by knowing the name of the service.",
    "Every service is located in a logical place, easily found by knowing the name of the service.",
    "Builds can easily be set up such that they",
    "Builds can easily be set up such that they",
    "The number of changes coming into a repository is limited to the small number of developers working on the project.",
    "The number of changes coming into a repository is limited to the small number of developers working on the project.",
    "Security is easy to set up by restricting the repositories to which developers have read and write permissions.",
    "Security is easy to set up by restricting the repositories to which developers have read and write permissions.",
    "Repository level settings can be changed by the owning team with a minimum of discussion with others.",
    "Repository level settings can be changed by the owning team with a minimum of discussion with others.",
    "One of the key ideas behind microservices is that services should be siloed and separated from each other. When using Domain Driven Design to decide on the boundaries for services the services act as transactional boundaries. Database updates shouldn",
    "One of the key ideas behind microservices is that services should be siloed and separated from each other. When using Domain Driven Design to decide on the boundaries for services the services act as transactional boundaries. Database updates shouldn",
    "However, this approach isn",
    "However, this approach isn",
    "If a dependency is updated, then downstream packages must also update this dependency. Unfortunately, that takes development work so, invariably, the node",
    "If a dependency is updated, then downstream packages must also update this dependency. Unfortunately, that takes development work so, invariably, the node",
    "There are libraries that are depended upon by a wide variety of projects. By dividing the microservices up with one in each repository the internal dependencies can best be resolved by using the internal repository, Azure Artifacts. Builds for libraries will push their latest versions into Azure Artifacts for internal consumption. The downstream project must still be manually updated to take a dependency on the newly updated packages.",
    "There are libraries that are depended upon by a wide variety of projects. By dividing the microservices up with one in each repository the internal dependencies can best be resolved by using the internal repository, Azure Artifacts. Builds for libraries will push their latest versions into Azure Artifacts for internal consumption. The downstream project must still be manually updated to take a dependency on the newly updated packages.",
    "Another disadvantage presents itself when moving code between services. Although it would be nice to believe that the first division of an application into microservices is 100% correct, the reality is that rarely we",
    "Another disadvantage presents itself when moving code between services. Although it would be nice to believe that the first division of an application into microservices is 100% correct, the reality is that rarely we",
    "The final and most important disadvantage is coordinating changes. In a true microservices application, there should be no deployment dependencies between services. It should be possible to deploy services A, B, and C in any order as they have loose coupling. In reality, however, there are times when it",
    "The final and most important disadvantage is coordinating changes. In a true microservices application, there should be no deployment dependencies between services. It should be possible to deploy services A, B, and C in any order as they have loose coupling. In reality, however, there are times when it",
    "To do a cross-repository change requires a commit to each repository be made in succession. Each change in each repository will need to be pull-requested and reviewed separately. This activity can be difficult to coordinate.",
    "To do a cross-repository change requires a commit to each repository be made in succession. Each change in each repository will need to be pull-requested and reviewed separately. This activity can be difficult to coordinate.",
    "An alternative to using many repositories is to put all the source code together in a giant, all knowing, single repository.",
    "An alternative to using many repositories is to put all the source code together in a giant, all knowing, single repository.",
    "In this approach, sometimes referred to as a ",
    "In this approach, sometimes referred to as a ",
    "The first advantage is that it",
    "The first advantage is that it",
    "When moving code between projects, it",
    "When moving code between projects, it",
    "Another advantage is that wide ranging changes that cross service boundaries can be made in a single commit. This activity reduces the overhead of having potentially dozens of changes to review individually.",
    "Another advantage is that wide ranging changes that cross service boundaries can be made in a single commit. This activity reduces the overhead of having potentially dozens of changes to review individually.",
    "There are many tools that can perform static analysis of code to detect insecure programming practices or problematic use of APIs. In a multi-repository world, each repository will need to be iterated over to find the problems in them. The single repository allows running the analysis all in one place.",
    "There are many tools that can perform static analysis of code to detect insecure programming practices or problematic use of APIs. In a multi-repository world, each repository will need to be iterated over to find the problems in them. The single repository allows running the analysis all in one place.",
    "There are also many disadvantages to the single repository approach. One of the most worrying ones is that having a single repository raises security concerns. If the contents of a repository are leaked in a repository per service model, the amount of code lost is minimal. With a single repository, everything the company owns could be lost. There have been many examples in the past of this happening and derailing entire game development efforts. Having multiple repositories exposes less surface area, which is a desirable trait in most security practices.",
    "There are also many disadvantages to the single repository approach. One of the most worrying ones is that having a single repository raises security concerns. If the contents of a repository are leaked in a repository per service model, the amount of code lost is minimal. With a single repository, everything the company owns could be lost. There have been many examples in the past of this happening and derailing entire game development efforts. Having multiple repositories exposes less surface area, which is a desirable trait in most security practices.",
    "The size of the single repository is likely to become unmanageable rapidly. This presents some interesting performance implications. It may become necessary to use specialized tools such as ",
    "The size of the single repository is likely to become unmanageable rapidly. This presents some interesting performance implications. It may become necessary to use specialized tools such as ",
    "Frequently the argument for using a single repository boils down to an argument that Facebook or Google use this method for source code arrangement. If the approach is good enough for these companies, then, surely, it",
    "Frequently the argument for using a single repository boils down to an argument that Facebook or Google use this method for source code arrangement. If the approach is good enough for these companies, then, surely, it",
    "In the end, either solution can be used to host the source code for microservices. However, in most cases, the management, and engineering overhead of operating in a single repository isn",
    "In the end, either solution can be used to host the source code for microservices. However, in most cases, the management, and engineering overhead of operating in a single repository isn",
    "Regardless of the single versus multiple repositories debate each service will have its own directory. One of the best optimizations to allow developers to cross between projects quickly is to maintain a standard directory structure.",
    "Regardless of the single versus multiple repositories debate each service will have its own directory. One of the best optimizations to allow developers to cross between projects quickly is to maintain a standard directory structure.",
    null,
    null,
    null,
    null,
    "Whenever a new project is created, a template that puts in place the correct structure should be used. This template can also include such useful items as a skeleton README file and an azurepipelines.yml. In any microservice architecture, a high degree of variance between projects makes bulk operations against the services more difficult.",
    "Whenever a new project is created, a template that puts in place the correct structure should be used. This template can also include such useful items as a skeleton README file and an azurepipelines.yml. In any microservice architecture, a high degree of variance between projects makes bulk operations against the services more difficult.",
    "There are many tools that can provide templating for an entire directory, containing several source code directories. ",
    "There are many tools that can provide templating for an entire directory, containing several source code directories. ",
    "Managing tasks in any project can be difficult. Up front there are countless questions to be answered about the sort of workflows to set up to ensure optimal developer productivity.",
    "Managing tasks in any project can be difficult. Up front there are countless questions to be answered about the sort of workflows to set up to ensure optimal developer productivity.",
    "Cloud-native applications tend to be smaller than traditional software products or at least they",
    "Cloud-native applications tend to be smaller than traditional software products or at least they",
    "Azure DevOps comes with a number of popular templates pre-configured. In the most basic configuration, all that is needed to know is what",
    "Azure DevOps comes with a number of popular templates pre-configured. In the most basic configuration, all that is needed to know is what",
    "One of the more important parts of Agile methodologies is self-introspection at regular intervals. These reviews are meant to provide insight into what problems the team is facing and how they can be improved. Frequently, this means changing the flow of issues and features through the development process. So, it",
    "One of the more important parts of Agile methodologies is self-introspection at regular intervals. These reviews are meant to provide insight into what problems the team is facing and how they can be improved. Frequently, this means changing the flow of issues and features through the development process. So, it",
    "The stages in the boards aren",
    "The stages in the boards aren",
    null,
    null,
    null,
    null,
    "The description field supports the normal styles you",
    "The description field supports the normal styles you",
    "Tasks can be rolled up into features, which define a larger unit of work. Features, in turn, can be ",
    "Tasks can be rolled up into features, which define a larger unit of work. Features, in turn, can be ",
    null,
    null,
    null,
    null,
    "There are different kinds of views into the issues in Azure Boards. Items that aren",
    "There are different kinds of views into the issues in Azure Boards. Items that aren",
    null,
    null,
    null,
    null,
    "By now, it should be apparent that there",
    "By now, it should be apparent that there",
    "Almost no change in the software development life cycle has been so revolutionary as the advent of continuous integration (CI) and continuous delivery (CD). Building and running automated tests against the source code of a project as soon as a change is checked in catches mistakes early. Prior to the advent of continuous integration builds, it wouldn",
    "Almost no change in the software development life cycle has been so revolutionary as the advent of continuous integration (CI) and continuous delivery (CD). Building and running automated tests against the source code of a project as soon as a change is checked in catches mistakes early. Prior to the advent of continuous integration builds, it wouldn",
    "repository and find that it didn",
    "repository and find that it didn",
    "Traditionally shipping software to the production environment required extensive documentation and a list of steps. Each one of these steps needed to be manually completed in a very error prone process.",
    "Traditionally shipping software to the production environment required extensive documentation and a list of steps. Each one of these steps needed to be manually completed in a very error prone process.",
    null,
    null,
    null,
    null,
    "The sister of continuous integration is continuous delivery in which the freshly built packages are deployed to an environment. The manual process can",
    "The sister of continuous integration is continuous delivery in which the freshly built packages are deployed to an environment. The manual process can",
    "The environment to which continuous delivery delivers might be a test environment or, as is being done by many major technology companies, it could be the production environment. The latter requires an investment in high-quality tests that can give confidence that a change isn",
    "The environment to which continuous delivery delivers might be a test environment or, as is being done by many major technology companies, it could be the production environment. The latter requires an investment in high-quality tests that can give confidence that a change isn",
    "The importance of automating the build and delivery process is accentuated by cloud-native applications. Deployments happen more frequently and to more environments so manually deploying borders on impossible.",
    "The importance of automating the build and delivery process is accentuated by cloud-native applications. Deployments happen more frequently and to more environments so manually deploying borders on impossible.",
    "Azure DevOps provides a set of tools to make continuous integration and deployment easier than ever. These tools are located under Azure Pipelines. The first of them is Azure Builds, which is a tool for running YAML-based build definitions at scale. Users can either bring their own build machines (great for if the build requires a meticulously set up environment) or use a machine from a constantly refreshed pool of Azure hosted virtual machines. These hosted build agents come pre-installed with a wide range of development tools for not just .NET development but for everything from Java to Python to iPhone development.",
    "Azure DevOps provides a set of tools to make continuous integration and deployment easier than ever. These tools are located under Azure Pipelines. The first of them is Azure Builds, which is a tool for running YAML-based build definitions at scale. Users can either bring their own build machines (great for if the build requires a meticulously set up environment) or use a machine from a constantly refreshed pool of Azure hosted virtual machines. These hosted build agents come pre-installed with a wide range of development tools for not just .NET development but for everything from Java to Python to iPhone development.",
    "DevOps includes a wide range of out of the box build definitions that can be customized for any build. The build definitions are defined in a file called azure-pipelines.yml and checked into the repository so they can be versioned along with the source code. This makes it much easier to make changes to the build pipeline in a branch as the changes can be checked into just that branch. An example azurepipelines.yml for building an ASP.NET web application on full framework is show in Figure 10-9.",
    "DevOps includes a wide range of out of the box build definitions that can be customized for any build. The build definitions are defined in a file called azure-pipelines.yml and checked into the repository so they can be versioned along with the source code. This makes it much easier to make changes to the build pipeline in a branch as the changes can be checked into just that branch. An example azurepipelines.yml for building an ASP.NET web application on full framework is show in Figure 10-9.",
    null,
    null,
    "This build definition uses a number of built-in tasks that make creating builds as simple as building a Lego set (simpler than the giant Millennium Falcon). For instance, the NuGet task restores NuGet packages, while the VSBuild task calls the Visual Studio build tools to perform the actual compilation. There are hundreds of different tasks available in Azure DevOps, with thousands more that are maintained by the community. It",
    "This build definition uses a number of built-in tasks that make creating builds as simple as building a Lego set (simpler than the giant Millennium Falcon). For instance, the NuGet task restores NuGet packages, while the VSBuild task calls the Visual Studio build tools to perform the actual compilation. There are hundreds of different tasks available in Azure DevOps, with thousands more that are maintained by the community. It",
    "Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build. In most cases, building on every check-in is desirable. Builds can be filtered so that different builds run against different parts of the repository or against different branches. This allows for scenarios like running fast builds with reduced testing on pull requests and running a full regression suite against the trunk on a nightly basis.",
    "Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build. In most cases, building on every check-in is desirable. Builds can be filtered so that different builds run against different parts of the repository or against different branches. This allows for scenarios like running fast builds with reduced testing on pull requests and running a full regression suite against the trunk on a nightly basis.",
    "The end result of a build is a collection of files known as build artifacts. These artifacts can be passed along to the next step in the build process or added to an Azure Artifacts feed, so they can be consumed by other builds.",
    "The end result of a build is a collection of files known as build artifacts. These artifacts can be passed along to the next step in the build process or added to an Azure Artifacts feed, so they can be consumed by other builds.",
    "Builds take care of compiling the software into a shippable package, but the artifacts still need to be pushed out to a testing environment to complete continuous delivery. For this, Azure DevOps uses a separate tool called Releases. The Releases tool makes use of the same tasks",
    "Builds take care of compiling the software into a shippable package, but the artifacts still need to be pushed out to a testing environment to complete continuous delivery. For this, Azure DevOps uses a separate tool called Releases. The Releases tool makes use of the same tasks",
    null,
    null,
    null,
    null,
    "Each stage in the build can be automatically triggered by the completion of the previous phase. In many cases, however, this isn",
    "Each stage in the build can be automatically triggered by the completion of the previous phase. In many cases, however, this isn",
    "There",
    "There",
    "One drawback to using the Releases functionality is that it can",
    "One drawback to using the Releases functionality is that it can",
    "In chapter 1, we affirmed that cloud native is much about speed and agility. Users expect rapid responsiveness, innovative features, and zero downtime. Feature flags are a modern deployment technique that helps increase agility for cloud-native applications. They enable you to deploy new features into a production environment, but restrict their availability. With the flick of a switch, you can activate a new feature for specific users without restarting the app or deploying new code. They separate the release of new features from their code deployment.",
    "In chapter 1, we affirmed that cloud native is much about speed and agility. Users expect rapid responsiveness, innovative features, and zero downtime. Feature flags are a modern deployment technique that helps increase agility for cloud-native applications. They enable you to deploy new features into a production environment, but restrict their availability. With the flick of a switch, you can activate a new feature for specific users without restarting the app or deploying new code. They separate the release of new features from their code deployment.",
    "Feature flags are built upon conditional logic that control visibility of functionality for users at run time. In modern cloud-native systems, it",
    "Feature flags are built upon conditional logic that control visibility of functionality for users at run time. In modern cloud-native systems, it",
    "Other use cases for feature flags include:",
    "Other use cases for feature flags include:",
    "Restrict premium functionality to specific customer groups willing to pay higher subscription fees.",
    "Restrict premium functionality to specific customer groups willing to pay higher subscription fees.",
    "Stabilize a system by quickly deactivating a problem feature, avoiding the risks of a rollback or immediate hotfix.",
    "Stabilize a system by quickly deactivating a problem feature, avoiding the risks of a rollback or immediate hotfix.",
    "Disable an optional feature with high resource consumption during peak usage periods.",
    "Disable an optional feature with high resource consumption during peak usage periods.",
    "Conduct experimental feature releases to small user segments to validate feasibility and popularity.",
    "Conduct experimental feature releases to small user segments to validate feasibility and popularity.",
    "Feature flags also promote trunk-based development. It",
    "Feature flags also promote trunk-based development. It",
    "At its core, a feature flag is a reference to a simple decision object. It returns a Boolean state of on or off. The flag typically wraps a block of code that encapsulates a feature capability. The state of the flag determines whether that code block executes for a given user. Figure 10-11 shows the implementation.",
    "At its core, a feature flag is a reference to a simple decision object. It returns a Boolean state of on or off. The flag typically wraps a block of code that encapsulates a feature capability. The state of the flag determines whether that code block executes for a given user. Figure 10-11 shows the implementation.",
    null,
    null,
    "Note how this approach separates the decision logic from the feature code.",
    "Note how this approach separates the decision logic from the feature code.",
    "In chapter 1, we discussed the Twelve-Factor App. The guidance recommended keeping configuration settings external from application executable code. When needed, settings can be read in from the external source. Feature flag configuration values should also be independent from their codebase. By externalizing flag configuration in a separate repository, you can change flag state without modifying and redeploying the application.",
    "In chapter 1, we discussed the Twelve-Factor App. The guidance recommended keeping configuration settings external from application executable code. When needed, settings can be read in from the external source. Feature flag configuration values should also be independent from their codebase. By externalizing flag configuration in a separate repository, you can change flag state without modifying and redeploying the application.",
    null,
    null,
    "Feature flags can be easily implemented in an ",
    "Feature flags can be easily implemented in an ",
    "Once configured in your Startup class, you can add feature flag functionality at the controller, action, or middleware level. Figure 10-12 presents controller and action implementation:",
    "Once configured in your Startup class, you can add feature flag functionality at the controller, action, or middleware level. Figure 10-12 presents controller and action implementation:",
    null,
    null,
    "If a feature flag is disabled, the user will receive a 404 (Not Found) status code with no response body. Feature flags can also be injected directly into C# classes. Figure 10-13 shows feature flag injection:",
    "If a feature flag is disabled, the user will receive a 404 (Not Found) status code with no response body. Feature flags can also be injected directly into C# classes. Figure 10-13 shows feature flag injection:",
    null,
    null,
    "The Feature Management libraries manage the feature flag lifecycle behind the scenes. For example, to minimize high numbers of calls to the configuration store, the libraries cache flag states for a specified duration. They can guarantee the immutability of flag states during a request call. They also offer a Point-in-time snapshot. You can reconstruct the history of any key-value and provide its past value at any moment within the previous seven days.",
    "The Feature Management libraries manage the feature flag lifecycle behind the scenes. For example, to minimize high numbers of calls to the configuration store, the libraries cache flag states for a specified duration. They can guarantee the immutability of flag states during a request call. They also offer a Point-in-time snapshot. You can reconstruct the history of any key-value and provide its past value at any moment within the previous seven days.",
    "Cloud-native systems embrace microservices, containers, and modern system design to achieve speed and agility. They provide automated build and release stages to ensure consistent and quality code. But, that",
    "Cloud-native systems embrace microservices, containers, and modern system design to achieve speed and agility. They provide automated build and release stages to ensure consistent and quality code. But, that",
    "Modern cloud-native applications embrace the widely accepted practice of ",
    "Modern cloud-native applications embrace the widely accepted practice of ",
    "Tools like Azure Resource Manager (ARM), Terraform, and the Azure Command Line Interface (CLI) enable you to declaratively script the cloud infrastructure you require.",
    "Tools like Azure Resource Manager (ARM), Terraform, and the Azure Command Line Interface (CLI) enable you to declaratively script the cloud infrastructure you require.",
    "ARM stands for ",
    "ARM stands for ",
    "Azure Resource Manager templates are a JSON-based language for defining various resources in Azure. The basic schema looks something like Figure 10-14.",
    "Azure Resource Manager templates are a JSON-based language for defining various resources in Azure. The basic schema looks something like Figure 10-14.",
    null,
    null,
    "Within this template, one might define a storage container inside the resources section like so:",
    "Within this template, one might define a storage container inside the resources section like so:",
    null,
    null,
    "An ARM template can be parameterized with dynamic environment and configuration information. Doing so enables it to be reused to define different environments, such as development, QA, or production. Normally, the template creates all resources within a single Azure resource group. It",
    "An ARM template can be parameterized with dynamic environment and configuration information. Doing so enables it to be reused to define different environments, such as development, QA, or production. Normally, the template creates all resources within a single Azure resource group. It",
    "There are many examples of ARM templates available in the ",
    "There are many examples of ARM templates available in the ",
    "Resource Manager templates can be run in many of ways. Perhaps the simplest way is to simply paste them into the Azure portal. For experimental deployments, this method can be quick. They can also be run as part of a build or release process in Azure DevOps. There are tasks that will leverage connections into Azure to run the templates. Changes to Resource Manager templates are applied incrementally, meaning that to add a new resource requires just adding it to the template. The tooling will reconcile differences between the current resources and those defined in the template. Resources will then be created or altered so they match what is defined in the template.",
    "Resource Manager templates can be run in many of ways. Perhaps the simplest way is to simply paste them into the Azure portal. For experimental deployments, this method can be quick. They can also be run as part of a build or release process in Azure DevOps. There are tasks that will leverage connections into Azure to run the templates. Changes to Resource Manager templates are applied incrementally, meaning that to add a new resource requires just adding it to the template. The tooling will reconcile differences between the current resources and those defined in the template. Resources will then be created or altered so they match what is defined in the template.",
    "Cloud-native applications are often constructed to be cloud agnostic. Being so means the application isn",
    "Cloud-native applications are often constructed to be cloud agnostic. Being so means the application isn",
    null,
    null,
    "An example Terraform file that does the same as the previous Resource Manager template (Figure 10- 15) is shown in Figure 10-16:",
    "An example Terraform file that does the same as the previous Resource Manager template (Figure 10- 15) is shown in Figure 10-16:",
    null,
    null,
    "Terraform also provides intuitive error messages for problem templates. There",
    "Terraform also provides intuitive error messages for problem templates. There",
    "As with Resource Manager templates, command-line tools are available to deploy Terraform templates. There are also community-created tasks in Azure Pipelines that can validate and apply Terraform templates.",
    "As with Resource Manager templates, command-line tools are available to deploy Terraform templates. There are also community-created tasks in Azure Pipelines that can validate and apply Terraform templates.",
    "Sometimes Terraform and ARM templates output meaningful values, such as a connection string to a newly created database. This information can be captured in the build pipeline and used in subsequent tasks.",
    "Sometimes Terraform and ARM templates output meaningful values, such as a connection string to a newly created database. This information can be captured in the build pipeline and used in subsequent tasks.",
    "Finally, you can leverage ",
    "Finally, you can leverage ",
    "Azure CLI scripts work well when you need to tear down and redeploy your infrastructure. Updating an existing environment can be tricky. Many CLI commands aren",
    "Azure CLI scripts work well when you need to tear down and redeploy your infrastructure. Updating an existing environment can be tricky. Many CLI commands aren",
    "These scripts can also be embedded in Azure DevOps pipelines as Azure CLI tasks. Executing the pipeline invokes the script.",
    "These scripts can also be embedded in Azure DevOps pipelines as Azure CLI tasks. Executing the pipeline invokes the script.",
    "Figure 10-17 shows a YAML snippet that lists the version of Azure CLI and the details of the subscription. Note how Azure CLI commands are included in an inline script.",
    "Figure 10-17 shows a YAML snippet that lists the version of Azure CLI and the details of the subscription. Note how Azure CLI commands are included in an inline script.",
    null,
    null,
    "In the article, ",
    "In the article, ",
    "A key property of cloud-native applications is that they leverage the capabilities of the cloud to speed up development. This design often means that a full application uses different kinds of technologies. Applications may be shipped in Docker containers, some services may use Azure Functions, while other parts may run directly on virtual machines allocated on large metal servers with hardware GPU acceleration. No two cloud-native applications are the same, so it",
    "A key property of cloud-native applications is that they leverage the capabilities of the cloud to speed up development. This design often means that a full application uses different kinds of technologies. Applications may be shipped in Docker containers, some services may use Azure Functions, while other parts may run directly on virtual machines allocated on large metal servers with hardware GPU acceleration. No two cloud-native applications are the same, so it",
    "The Docker containers may run on Kubernetes using a Helm Chart for deployment. The Azure Functions may be allocated using Terraform templates. Finally, the virtual machines may be allocated using Terraform but built out using Ansible. This is a large variety of technologies and there has been no way to package them all together into a reasonable package. Until now.",
    "The Docker containers may run on Kubernetes using a Helm Chart for deployment. The Azure Functions may be allocated using Terraform templates. Finally, the virtual machines may be allocated using Terraform but built out using Ansible. This is a large variety of technologies and there has been no way to package them all together into a reasonable package. Until now.",
    "Cloud Native Application Bundles (CNABs) are a joint effort by many community-minded companies such as Microsoft, Docker, and HashiCorp to develop a specification to package distributed applications.",
    "Cloud Native Application Bundles (CNABs) are a joint effort by many community-minded companies such as Microsoft, Docker, and HashiCorp to develop a specification to package distributed applications.",
    "The effort was announced in December of 2018, so there",
    "The effort was announced in December of 2018, so there",
    "The CNABs can contain different kinds of installation technologies. This aspect allows things like Helm Charts, Terraform templates, and Ansible Playbooks to coexist in the same package. Once built, the packages are self-contained and portable; they can be installed from a USB stick. The packages are cryptographically signed to ensure they originate from the party they claim.",
    "The CNABs can contain different kinds of installation technologies. This aspect allows things like Helm Charts, Terraform templates, and Ansible Playbooks to coexist in the same package. Once built, the packages are self-contained and portable; they can be installed from a USB stick. The packages are cryptographically signed to ensure they originate from the party they claim.",
    "The core of a CNAB is a file called bundle.json. This file defines the contents of the bundle, be they Terraform or images or anything else. Figure 11-9 defines a CNAB that invokes some Terraform. Notice, however, that it actually defines an invocation image that is used to invoke the Terraform. When packaged up, the Docker file that is located in the ",
    "The core of a CNAB is a file called bundle.json. This file defines the contents of the bundle, be they Terraform or images or anything else. Figure 11-9 defines a CNAB that invokes some Terraform. Notice, however, that it actually defines an invocation image that is used to invoke the Terraform. When packaged up, the Docker file that is located in the ",
    null,
    null,
    "The bundle.json also defines a set of parameters that are passed down into the Terraform. Parameterization of the bundle allows for installation in various different environments.",
    "The bundle.json also defines a set of parameters that are passed down into the Terraform. Parameterization of the bundle allows for installation in various different environments.",
    "The CNAB format is also flexible, allowing it to be used against any cloud. It can even be used against on-premises solutions such as ",
    "The CNAB format is also flexible, allowing it to be used against any cloud. It can even be used against on-premises solutions such as ",
    "There are so many great tools in the DevOps space these days and even more fantastic books and papers on how to succeed. A favorite book to get started on the DevOps journey is ",
    "There are so many great tools in the DevOps space these days and even more fantastic books and papers on how to succeed. A favorite book to get started on the DevOps journey is ",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "In summary, here are important conclusions from this guide:",
    "In summary, here are important conclusions from this guide:",
    null,
    null,
    "The ",
    "The ",
    null,
    null,
    null,
    null,
    null,
    null,
    "These cloud-native pillars include:",
    "These cloud-native pillars include:",
    "The cloud and its underlying service model",
    "The cloud and its underlying service model",
    "Modern design principles",
    "Modern design principles",
    "Microservices",
    "Microservices",
    "Containerization and container orchestration",
    "Containerization and container orchestration",
    "Cloud-based backing services, such as databases and message brokers",
    "Cloud-based backing services, such as databases and message brokers",
    "Automation, including Infrastructure as Code and code deployment",
    "Automation, including Infrastructure as Code and code deployment",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null
]