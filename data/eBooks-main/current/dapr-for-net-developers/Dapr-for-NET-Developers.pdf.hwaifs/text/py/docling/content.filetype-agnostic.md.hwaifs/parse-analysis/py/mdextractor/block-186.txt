public Task Handle(OrderStartedDomainEvent notification, CancellationToken cancellationToken) { var message = CreateEmailBody(notification); var metadata = new Dictionary<string , string> { ["emailFrom"] = "eShopOn@dapr.io" , ["emailTo" = notification.UserName , ["subject"] = $"Your eShopOnDapr order #{notification.Order.Id}" }; return _daprClient.InvokeBindingAsync("sendmail" , "create", message, metadata, cancellationToken); } public Task SendOrderConfirmationAsync(Order order) { var message = CreateEmailBody(order); return _daprClient.InvokeBindingAsync( "sendmail" , "create" , CreateEmailBody(order), new Dictionary<string , string> { ["emailFrom"] = "eshopondapr@example.com" , ["emailTo"] = order.BuyerEmail , ["subject"] = $"Your eShopOnDapr Order #{order.OrderNumber}" }); }