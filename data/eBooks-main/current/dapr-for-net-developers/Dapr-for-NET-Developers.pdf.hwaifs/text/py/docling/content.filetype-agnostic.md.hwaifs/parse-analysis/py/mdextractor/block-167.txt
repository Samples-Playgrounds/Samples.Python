public class RedisBasketRepository : IBasketRepository { private readonly ConnectionMultiplexer _redis; private readonly IDatabase _database; public RedisBasketRepository(ConnectionMultiplexer redis) { _redis = redis; _database = redis.GetDatabase(); } public async Task<CustomerBasket> GetBasketAsync(string customerId) { var data = await _database.StringGetAsync(customerId); if (data.IsNullOrEmpty) { return null; } return JsonConvert.DeserializeObject<CustomerBasket>(data); } // ... }