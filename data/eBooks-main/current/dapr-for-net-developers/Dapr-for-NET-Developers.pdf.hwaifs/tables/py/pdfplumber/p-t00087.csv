,0
0,public async Task SendVehicleEntryAsync(VehicleRegistered vehicleRegistered)
1,{
2,var eventJson = JsonSerializer.Serialize(vehicleRegistered);
3,"var message = new MqttApplicationMessage(""trafficcontrol/entrycam"","
4,Encoding.UTF8.GetBytes(eventJson));
5,"await _client.PublishAsync(message, MqttQualityOfService.AtMostOnce);"
6,}
7,
8,public async Task SendVehicleExitAsync(VehicleRegistered vehicleRegistered)
9,{
10,var eventJson = JsonSerializer.Serialize(vehicleRegistered);
11,"var message = new MqttApplicationMessage(""trafficcontrol/exitcam"","
12,Encoding.UTF8.GetBytes(eventJson));
13,"await _client.PublishAsync(message, MqttQualityOfService.AtMostOnce);"
14,}
