using System.Runtime.CompilerServices; using System.Runtime.Intrinsics; using System.Runtime.Intrinsics.X86; internal class Program { private static void Main() { Vector128<byte> v = Vector128.Create((byte)123); while ( true ) { WithIntrinsics(v); WithVector(v); } } [MethodImpl(MethodImplOptions.NoInlining)] private static int WithIntrinsics(Vector128<byte> v) => Sse2.MoveMask(v); [MethodImpl(MethodImplOptions.NoInlining)] private static uint WithVector(Vector128<byte> v) => v.ExtractMostSignificantBits(); }