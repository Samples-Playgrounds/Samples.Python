struct SyncReader : IReader { public static ValueTask<int> ReadAsync(Stream s, Memory<byte> buffer) => new ValueTask<int>(s.Read(buffer.Span)); } struct AsyncReader : IReader