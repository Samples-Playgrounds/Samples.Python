// Match 'a' atomically any number of times. { int iteration = slice.IndexOfAnyExcept('a'); if (iteration < 0) { iteration = slice.Length; } slice = slice.Slice(iteration); pos += iteration; } // Advance the next matching position. if (base . runtextpos < pos) { base . runtextpos = pos; } // Match 'b'. if (slice.IsEmpty || slice[0] != 'b') { return false; // The input didn't match. } // The input matched. pos++; base . runtextpos = pos; base . Capture(0, matchStart, pos); return true; }