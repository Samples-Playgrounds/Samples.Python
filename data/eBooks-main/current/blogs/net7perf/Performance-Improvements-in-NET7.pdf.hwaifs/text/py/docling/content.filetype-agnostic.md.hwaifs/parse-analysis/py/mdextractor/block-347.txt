private IntPtr _mem; [GlobalSetup] public void Setup() { _mem = Marshal.AllocHGlobal(8); Marshal.StructureToPtr(new SimpleType { Value1 = 42, Value2 = 84 }, _mem, false); } [GlobalCleanup] public void Cleanup() => Marshal.FreeHGlobal(_mem); public struct SimpleType { public int Value1; public int Value2; } [Benchmark(Baseline = true)] public SimpleType PtrToStructure() => Marshal.PtrToStructure<SimpleType>(_mem); [Benchmark] public unsafe SimpleType Cast() => *(SimpleType*)_mem;