,0
0,private string _path;
1,
2,[GlobalSetup]
3,public void Setup()
4,{
5,_path = Path.GetTempFileName();
6,"File.WriteAllBytes(_path, Enumerable.Range(0, 10_000_000).Select(i =>"
7,(byte)i).ToArray());
8,}
9,
10,[GlobalCleanup]
11,public void Cleanup()
12,{
13,File.Delete(_path);
14,}
15,
16,[Benchmark]
17,public void MMF()
18,{
19,"using var mmf = MemoryMappedFile.CreateFromFile(_path, FileMode.Open, null);"
20,"using var s = mmf.CreateViewStream(0, 10_000_000, MemoryMappedFileAccess.Read);"
21,}
