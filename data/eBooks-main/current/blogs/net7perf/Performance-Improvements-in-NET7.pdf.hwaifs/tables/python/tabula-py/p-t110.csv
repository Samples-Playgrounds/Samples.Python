,"static unsafe bool Contains(ReadOnlySpan<byte> haystack, byte needle)"
0,{
1,if (Vector.IsHardwareAccelerated && haystack.Length >= Vector<byte>.Count)
2,{
3,fixed (byte* haystackPtr = &MemoryMarshal.GetReference(haystack))
4,{
5,Vector<byte> target = new Vector<byte>(needle);
6,byte* current = haystackPtr;
7,byte* endMinusOneVector = haystackPtr + haystack.Length - Vector<byte>.Count;
8,do
9,{
10,"if (Vector.EqualsAny(target, *(Vector<byte>*)current))"
11,{
12,return true;
13,}
14,
15,current += Vector<byte>.Count;
16,}
17,while (current < endMinusOneVector);
18,
19,"if (Vector.EqualsAny(target, *(Vector<byte>*)endMinusOneVector))"
20,{
21,return true;
22,}
23,}
24,}
25,else
26,{
27,for (int i = 0; i < haystack.Length; i++)
28,{
29,if (haystack[i] == needle)
30,{
31,return true;
32,}
33,}
34,}
35,
36,return false;
37,}
