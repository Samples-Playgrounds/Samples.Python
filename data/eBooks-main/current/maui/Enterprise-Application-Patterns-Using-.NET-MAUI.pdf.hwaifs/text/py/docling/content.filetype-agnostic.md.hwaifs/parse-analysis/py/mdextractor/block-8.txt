UnregisterEvent(); var eventName = EventName; if (View is null || string . IsNullOrWhiteSpace(eventName)) { return; } eventInfo = View . GetType()?.GetRuntimeEvent(eventName) ?? throw new ArgumentException($"{nameof(EventToCommandBehavior)}: Couldn't resolve the event." , nameof(EventName)); ArgumentNullException . ThrowIfNull(eventInfo . EventHandlerType); ArgumentNullException . ThrowIfNull(eventHandlerMethodInfo); eventHandler = eventHandlerMethodInfo . CreateDelegate(eventInfo . EventHandlerType , this) ?? throw new ArgumentException($"{nameof(EventToCommandBehavior)}: Couldn't create event handler." , nameof(EventName)); eventInfo . AddEventHandler(View , eventHandler); } void UnregisterEvent() { if (eventInfo is not null && eventHandler is not null) { eventInfo . RemoveEventHandler(View , eventHandler); } eventInfo = null; eventHandler = null; } /// <summary> /// Virtual method that executes when a Command is invoked /// </summary> /// <param name="sender"></param> /// <param name="eventArgs"></param> [Microsoft . Maui . Controls . Internals . Preserve(Conditional = true)] protected virtual void OnTriggerHandled(object? sender = null , object? eventArgs = null) { var parameter = CommandParameter ?? EventArgsConverter?.Convert(eventArgs , typeof(object), null , null); var command = Command; if (command?.CanExecute(parameter) ?? false) { command . Execute(parameter); } } }