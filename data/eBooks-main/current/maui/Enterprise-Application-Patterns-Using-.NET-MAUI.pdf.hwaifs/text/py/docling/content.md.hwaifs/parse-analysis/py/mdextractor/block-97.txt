[TestMethod] public void AddCatalogItemCommandSendsAddProductMessageTest() { var messageReceived = false; var catalogService = new CatalogMockService(); var catalogViewModel = new CatalogViewModel(catalogService); MessagingCenter.Subscribe<CatalogViewModel, CatalogItem>( this, MessageKeys.AddProduct, (sender, arg) => { messageReceived = true; }); catalogViewModel.AddCatalogItemCommand.Execute( null );