,public static IServiceCollection AddDefaultAuthentication(this IHostApplicationBuilder
0,builder)
1,{
2,var services = builder.Services;
3,var configuration = builder.Configuration;
4,
5,"var identitySection = configuration.GetSection(""Identity"");"
6,
7,if (!identitySection.Exists())
8,{
9,"// No identity section, so no authentication"
10,return services;
11,}
12,
13,"// prevent from mapping ""sub"" claim to nameidentifier."
14,"JsonWebTokenHandler.DefaultInboundClaimTypeMap.Remove(""sub"");"
15,
16,services.AddAuthentication().AddJwtBearer(options =>
17,{
