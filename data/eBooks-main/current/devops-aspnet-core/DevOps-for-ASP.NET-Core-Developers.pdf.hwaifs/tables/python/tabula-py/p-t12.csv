,environment:
0,name: PRE-PROD
1,url: ${{ steps.deploywebapp.outputs.webapp-url }}
2,
3,steps:
4,- name: Download a Build Artifact
5,uses: actions/download-artifact@v3
6,with:
7,name: website
8,path: website
9,
10,- name: Login via Azure CLI
11,uses: azure/login@v1
12,with:
13,creds: ${{ secrets.AZURE_CREDENTIALS }}
14,
15,- name: Deploy web app
16,id: deploywebapp
17,uses: azure/webapps-deploy@v2
18,with:
19,app-name: ${{ env.app-name }}
20,slot-name: staging
21,package: website
22,
23,- name: az cli logout
24,run: az logout
