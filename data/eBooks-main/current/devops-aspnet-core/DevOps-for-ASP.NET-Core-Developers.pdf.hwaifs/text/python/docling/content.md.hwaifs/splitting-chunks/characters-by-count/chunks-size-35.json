"[\"<!-- image -->\\n\\nCam Soper Scott Addie Colin Dembovsky\\n\\n<!-- image -->\\n\\n## EDITION v1.1.0\\n\\nRefer chan\", \"gelog for the book updates and community contributions.\\n\\nThis guide is available as a downloadable P\", \"DF e-book.\\n\\nPUBLISHED BY\\n\\nMicrosoft Developer Division, .NET, and Visual Studio product teams\\n\\nA div\", \"ision of Microsoft Corporation\\n\\nOne Microsoft Way\\n\\nRedmond, Washington 98052-6399\\n\\nCopyright \\u00a9 2022 \", \"by Microsoft Corporation\\n\\nAll rights reserved. No part of the contents of this book may be reproduce\", \"d or transmitted in any form or by any means without the written permission of the publisher.\\n\\nThis \", \"book is provided 'as -is' and expresses the author's views and opinions. The views, opinions, and in\", \"formation expressed in this book, including URL and other Internet website references, may change wi\", \"thout notice.\\n\\nSome examples depicted herein are provided for illustration only and are fictitious. \", \"No real association or connection is intended or should be inferred.\\n\\nMicrosoft and the trademarks l\", \"isted at https://www.microsoft.com on the 'Trademarks' webpage are trademarks of the Microsoft group\", \" of companies.\\n\\nMac and macOS are trademarks of Apple Inc.\\n\\nThe Docker whale logo is a registered tr\", \"ademark of Docker, Inc. Used by permission.\\n\\nAll other marks and logos are property of their respect\", \"ive owners.\\n\\n## Credits\\n\\nAuthors:\\n\\nCam Soper\\n\\nScott Addie\\n\\nColin Dembovsky\\n\\n## Welcome\\n\\nWelcome to t\", \"he Azure Development Lifecycle guide for .NET! This guide introduces the basic concepts of building \", \"a development lifecycle around Azure using .NET tools and processes. After finishing this guide, you\", \"'ll reap the benefits of a mature DevOps too lchain.\\n\\n## Who this guide is for\\n\\n<!-- image -->\\n\\n<!--\", \" image -->\\n\\nYou should be an experienced ASP.NET Core developer (200300 level). You don't need to kn\", \"ow anything about Azure, as we'll cover that in this introduction. This guide may also be useful for\", \" DevOps engineers who are more focused on operations than development.\\n\\nThis guide targets Windows d\", \"evelopers. However, Linux and macOS are fully supported by .NET Core. To adapt this guide for Linux/\", \"macOS, watch for callouts for Linux/macOS differences.\\n\\n## What this guide doesn't cover\\n\\nThis guide\", \" is focused on an end-toend continuous deployment experience for .NET developers. It's not an exhaus\", \"tive guide to all things Azure, and it doesn't focus extensively on .NET APIs for Azure services. Th\", \"e emphasis is all around continuous integration, deployment, monitoring, and debugging. Near the end\", \" of the guide, recommendations for next steps are offered. Included in the suggestions are Azure pla\", \"tform services that are useful to ASP.NET Core developers.\\n\\n## What's in this guide\\n\\n## Tools and do\", \"wnloads\\n\\nLearn where to acquire the tools used in this guide.\\n\\n## Deploy to App Service\\n\\nLearn the v\", \"arious methods for deploying an ASP.NET Core app to Azure App Service.\\n\\n## Continuous integration an\", \"d deployment with Azure DevOps\\n\\nBuild an end-to-end continuous integration and deployment solution f\", \"or your ASP.NET Core app with GitHub, Azure DevOps Services, and Azure.\\n\\n## Continuous integration a\", \"nd deployment with GitHub Actions\\n\\nBuild an end-to-end continuous integration and deployment solutio\", \"n for your ASP.NET Core app with GitHub, GitHub Actions, and Azure, including code scanning for secu\", \"rity and quality using CodeQL.\\n\\n## Monitor and debug\\n\\nUse Azure's tools to monitor, troubleshoot, an\", \"d tune your application.\\n\\n## Next steps\\n\\nOther learning paths for the ASP.NET Core developer learnin\", \"g Azure.\\n\\n## Additional introductory reading\\n\\nIf this is your first exposure to cloud computing, the\", \"se articles explain the basics.\\n\\n- What is Cloud Computing?\\n- Examples of Cloud Computing\\n- What is \", \"IaaS?\\n- What is PaaS?\\n\\n<!-- image -->\\n\\n## Contents\\n\\n| Tools and downloads...........................\", \"................................................................................... 1               \", \"                                            |\\n|-----------------------------------------------------\", \"----------------------------------------------------------------------------------------------------\", \"--------------------------------------|\\n| Prerequisites ............................................\", \"....................................................................................................\", \"..............................1 |\\n| Recommended tools (Windows only)................................\", \"..............................................................................................1     \", \"                          |\\n| Deploy an app to App Service..........................................\", \"...................................................... 3                                            \", \"                    |\\n| Download and test the app...................................................\", \"..............................................................................................3     \", \"              |\\n| Create the Azure App Service Web App..............................................\", \"...........................................................................5                        \", \"        |\\n| Deployment with Visual Studio...........................................................\", \"...............................................................................6                    \", \"  |\\n| Deployment slots..............................................................................\", \".......................................................................................8        |\\n| \", \"Summary.............................................................................................\", \"..................................................................................... 10  |\\n| Additi\", \"onal reading........................................................................................\", \"........................................................................ 10         |\\n| Continuous i\", \"ntegration and deployment with Azure DevOps ......................................... 11            \", \"                                                                              |\\n| Publish the app's \", \"code to GitHub .....................................................................................\", \"............................................. 12                        |\\n| Disconnect local Git dep\", \"loyment ............................................................................................\", \"....................................... 12                        |\\n| Create an Azure DevOps organiz\", \"ation...............................................................................................\", \".......................... 13                               |\\n| Create a team project in Azure DevOp\", \"s organization .....................................................................................\", \"...... 13                                             |\\n| Configure a self-hosted agent if necessary\", \"....................................................................................................\", \"............ 13                                 |\\n| Configure the Azure Pipelines pipeline..........\", \"....................................................................................................\", \".......... 14                             |\\n| Grant Azure DevOps access to the GitHub repository....\", \"..................................................................................14                \", \"                                    |\\n| Create the build definition ................................\", \"....................................................................................................\", \".......16                     |\\n| Create the release pipeline.......................................\", \"....................................................................................................\", \"18                      |\\n| Commit changes to GitHub and automatically deploy to Azure..............\", \"......................................................... 22                                        \", \"                  |\\n| Examine the Azure Pipelines pipeline..........................................\", \"................................................................................. 23                \", \"            |\\n| Build definition....................................................................\", \"..............................................................................................23    \", \"      |\\n| Release pipeline..........................................................................\", \"......................................................................................26            \", \"|\\n| Additional reading..............................................................................\", \".................................................................................. 29         |\\n| Pu\", \"blish the app's code to GitHub .....................................................................\", \".........................................................30                             |\\n| Disconne\", \"ct local Git deployment.............................................................................\", \"..................................................31                              |\\n\\n| Create an Azu\", \"re DevOps organization .............................................................................\", \".......................................31                          |\\n|------------------------------\", \"----------------------------------------------------------------------------------------------------\", \"---------------------------------------------------|\\n| Create a team project in Azure DevOps organiz\", \"ation.......................................................................................32      \", \"                                   |\\n| Configure a self-hosted agent if necessary ..................\", \".........................................................................................32         \", \"                   |\\n| Configure the Azure Pipelines pipeline.......................................\", \"............................................................................32                      \", \"   |\\n| Commit changes to GitHub and automatically deploy to Azure...................................\", \"...............................40                                                      |\\n| Examine t\", \"he Azure Pipelines pipeline ........................................................................\", \"..............................................41                       |\\n| Additional reading.......\", \"....................................................................................................\", \"................................................47     |\\n| Continuous integration and deployment wit\", \"h GitHub Actions.......................................................................... 48       \", \"                                       |\\n| GitHub Actions...........................................\", \"....................................................................................................\", \"...................48  |\\n| Secure code with CodeQL .................................................\", \"...........................................................................................48       \", \"       |\\n| Compare and contrast GitHub Actions and Azure Pipelines..................................\", \"........................................49                                                 |\\n| Conti\", \"nuous integration and deployment with GitHub Actions................................................\", \".......................... 49                                              |\\n| GitHub Actions.......\", \"....................................................................................................\", \".......................................................49  |\\n| Secure code with CodeQL .............\", \"....................................................................................................\", \"...........................50              |\\n| Compare and contrast GitHub Actions and Azure Pipelin\", \"es..........................................................................50                      \", \"                           |\\n| Compare and contrast GitHub Actions and Azure Pipelines..............\", \"................................................................. 50                                \", \"           |\\n| Pipelines as code....................................................................\", \"..........................................................................................50   |\\n| A\", \"gents and runners...................................................................................\", \"......................................................................51       |\\n| Comparison of Git\", \"Hub Actions and Azure Pipelines ....................................................................\", \".....................52                                        |\\n| Build a .NET web app using GitHub\", \" Actions............................................................................................\", \".................. 55                          |\\n| Workflow structure...............................\", \"....................................................................................................\", \".......................55      |\\n| Create a basic build workflow....................................\", \".................................................................................................56 \", \"               |\\n| Dissect the workflow file .......................................................\", \"........................................................................................58         |\", \"\\n| Publish the output...............................................................................\", \"............................................................................59     |\\n| Deploy a .NET\", \" web app using GitHub Actions.......................................................................\", \"................................... 61                             |\\n| Environments.................\", \"....................................................................................................\", \"................................................61 |\\n| Azure authentication.........................\", \"....................................................................................................\", \"..........................62       |\\n| Add environments ............................................\", \"....................................................................................................\", \"...........63      |\\n| Deploy to staging............................................................\", \".................................................................................................65 \", \"   |\\n| Deploy to production.........................................................................\", \"............................................................................68         |\\n| configura\", \"tion................................................................................................\", \"...........................71                                          |\\n| Handle environment       \", \"                                                                                                    \", \"                                                       |\\n\\n| Final workflow file ....................\", \"....................................................................................................\", \"....................................73                  |\\n|-----------------------------------------\", \"----------------------------------------------------------------------------------------------------\", \"--------------------------------------------------------|\\n| Secure .NET Code with CodeQL and GitHub \", \"Actions.............................................................................................\", \" 75                                                     |\\n| Create the code scanning workflow ......\", \"....................................................................................................\", \"...............76                                       |\\n| Customize CodeQL settings...............\", \"....................................................................................................\", \"......................79                                |\\n| Review the security alerts .............\", \"....................................................................................................\", \"............................80                          |\\n| Monitor and debug.......................\", \"........................................................................................ 83         \", \"                                                        |\\n| Basic monitoring and troubleshooting ...\", \"....................................................................................................\", \"................. 83                                    |\\n| Advanced monitoring ....................\", \"....................................................................................................\", \"................................. 84                    |\\n| Profile with Application Insights ......\", \"....................................................................................................\", \"........................... 84                          |\\n| Logging.................................\", \"....................................................................................................\", \"................................................ 87     |\\n| Log streaming ..........................\", \"....................................................................................................\", \".......................................... 87           |\\n| Alerts..................................\", \"....................................................................................................\", \".................................................... 88 |\\n| Live debugging..........................\", \"....................................................................................................\", \"........................................ 88             |\\n| Conclusion..............................\", \"....................................................................................................\", \"............................................. 89        |\\n| Additional reading......................\", \"....................................................................................................\", \"...................................... 89               |\\n| Next steps .............................\", \"................................................................................................. 90\", \"                                                        |\\n| Storage and databases...................\", \"....................................................................................................\", \"................................ 90                     |\\n| Identity ...............................\", \"....................................................................................................\", \"................................................... 90  |\\n| Mobile .................................\", \"....................................................................................................\", \".................................................. 90   |\\n| Web infrastructure......................\", \"....................................................................................................\", \"...................................... 91               |\\n\\n## Tools and downloads\\n\\nAzure has several\", \" interfaces for provisioning and managing resources, such as the Azure portal, Azure CLI, Azure Powe\", \"rShell, Azure Cloud Shell, and Visual Studio. This guide takes a minimalist approach and uses the Az\", \"ure Cloud Shell whenever possible to reduce the steps required. However, the Azure portal must be us\", \"ed for some portions.\\n\\n## Prerequisites\\n\\nThe following subscriptions are required:\\n\\n- Azure -If you \", \"don't have an account, get a free trial.\\n- Azure DevOps Services -your Azure DevOps subscription and\", \" organization is created in Chapter 4.\\n- GitHub -If you don't have an account, sign up for free.\\n\\nTh\", \"e following tools are required:\\n\\n- Git -A fundamental understanding of Git is recommended for this g\", \"uide. Review the Git documentation, specifically git remote and git push.\\n- .NET Core SDK -Version 2\", \".1.300 or later is required to build and run the sample app. If Visual Studio is installed with the \", \".NET Core cross-platform development workload, the .NET Core SDK is already installed.\\n\\nVerify your \", \".NET Core SDK installation. Open a command shell, and run the following command:\\n\\n:::{custom-style=C\", \"odeBox} dotnetcli   dotnet --version :::\\n\\n## Recommended tools (Windows only)\\n\\n- Visual Studio 's ro\", \"bust Azure tools provide a GUI for most of the functionality described in this guide. Any edition of\", \" Visual Studio will work, including the free Visual Studio Community Edition. The tutorials are writ\", \"ten to demonstrate development, deployment, and DevOps both with and without Visual Studio.\\n\\nConfirm\", \" that Visual Studio has the following workloads installed:\\n\\n- -ASP.NET and web development\\n- -Azure \", \"development\\n\\n- -.NET Core cross-platform development\\n\\n## Deploy an app to App Service\\n\\nAzure App Ser\", \"vice is Azure's web hosting platform. Deploying a web app to Azure App Service can be done manually \", \"or by an automated process. This section of the guide discusses deployment methods that can be trigg\", \"ered manually or by script using the command line, or triggered manually using Visual Studio.\\n\\nIn th\", \"is section, you'll accomplish the following tasks:\\n\\n[!div class='checklist']\\n\\n- Download and build t\", \"he sample app.\\n- Create an Azure App Service Web App using the Azure Cloud Shell.\\n- Deploy the sampl\", \"e app to Azure using Git.\\n- Deploy a change to the app using Visual Studio.\\n- Add a staging slot to \", \"the web app.\\n- Deploy an update to the staging slot.\\n- Swap the staging and production slots.\\n\\n## Do\", \"wnload and test the app\\n\\nThe app used in this guide is a pre-built ASP.NET Core app, Simple Feed Rea\", \"der . It's an ASP.NET Core Razor Pages app that uses the Microsoft.SyndicationFeed.ReaderWriter API \", \"to retrieve an RSS/Atom feed and display the news items in a list.\\n\\nFeel free to review the code, bu\", \"t it's important to understand that there's nothing special about this app. It's just a simple ASP.N\", \"ET Core app for illustrative purposes.\\n\\nFrom a command shell, download the code, build the project, \", \"and run it as follows.\\n\\n## Note\\n\\nLinux and macOS users should make appropriate changes for paths, fo\", \"r example, using forward slash (/) rather than back slash (\\\\).*\\n\\n1. Clone the code to a folder on yo\", \"ur local machine.\\n\\nHome page - SimpleFee X\\n\\nGi. Command Prompt - dotnet run\\n\\n\\u2192\\n\\nlocalhost:5000/?Feed\", \"Url=http%3A%2F%2F1\\n\\n- \\u2022 \\u00d7\\n\\n* 2 ..\\n\\nC: \\\\5rc\\\\simple-feed-reader\\\\SimpleFeedReader&gt;dotnet run\\n\\nHostin\", \"g environment: Production\\n\\n- :::{custom-style=CodeBox} console  git clone https://github.com/dotnet-\", \"architecture/simplefeed-reader/ :::\\n2. Change your working folder to the simple-feed-reader folder t\", \"hat was created.\\n\\nSimpleFeedReader\\n\\nEnter a feed URL:\\n\\n- :::{custom-style=CodeBox} console  cd .\\\\sim\", \"ple-feed-reader\\\\SimpleFeedReader :::\\n3. Restore the packages, and build the solution.\\n- :::{custom-s\", \"tyle=CodeBox} dotnetcli  dotnet build :::\\n4. Run the app.\\n\\n6/15/2018 11:50:21 PM\\n\\n+00:00\\n\\n:::{custom\", \"-style=CodeBox} dotnetcli  dotnet run :::\\n\\nASP.NET Core Architect David Fowler's hidden gems in 2.1\\n\", \"\\nCarriage Returns and Line Feeds will ultimately bite you - Some Git Tips\\n\\n<!-- image -->\\n\\n5. Open a\", \" browser and navigate to http://localhost:5000. The app allows you to type or paste a syndication fe\", \"ed URL and view a list of news items.\\n\\n<!-- image -->\\n\\nRetrieve Feed\\n\\nTitle\\n\\n6. Once you're satisfie\", \"d the app is working correctly, shut it down by pressing Ctrl+C in the command shell.\\n\\n## Create the\", \" Azure App Service Web App\\n\\nTo deploy the app, you'll need to create an App Service Web App. After c\", \"reation of the Web App, you'll deploy to it from your local machine using Git.\\n\\n1. Sign in to the Az\", \"ure Cloud Shell. Note: When you sign in for the first time, Cloud Shell prompts to create a storage \", \"account for configuration files. Accept the defaults or provide a unique name.\\n2. Use the Cloud Shel\", \"l for the following steps.\\n- a. Declare a variable to store your web app's name. The name must be un\", \"ique to be used in the default URL. Using the $RANDOM Bash function to construct the name guarantees\", \" uniqueness and results in the format webappname99999.\\n\\n:::{custom-style=CodeBox} console  webappnam\", \"e=mywebapp$RANDOM :::\\n\\n- b. Create a resource group. Resource groups provide a means to aggregate Az\", \"ure resources to be managed as a group.\\n2. :::{custom-style=CodeBox} azurecli  az group create --loc\", \"ation centralus --name AzureTutorial :::\\n\\nThe az command invokes the Azure CLI. The CLI can be run l\", \"ocally, but using it in the Cloud Shell saves time and configuration.\\n\\n- c. Create an App Service pl\", \"an in the S1 tier. An App Service plan is a grouping of web apps that share the same pricing tier. T\", \"he S1 tier isn't free, but it's required for the staging slots feature.\\n\\n:::{custom-style=CodeBox} a\", \"zurecli  az appservice plan create --name $webappname -resource-group AzureTutorial --sku S1 :::\\n\\n- \", \"d. Create the web app resource using the App Service plan in the same resource group.\\n\\n:::{custom-st\", \"yle=CodeBox} azurecli  az webapp create --name $webappname --resourcegroup AzureTutorial --plan $web\", \"appname :::\\n\\n- e. Set the deployment branch to main in the appsettings configuration.\\n\\n:::{custom-st\", \"yle=CodeBox} azurecli  az webapp config appsettings set --name $webappname -resource-group AzureTuto\", \"rial --settings DEPLOYMENT\\\\_BRANCH=main :::\\n\\n- f. Set the deployment credentials. These deployment c\", \"redentials apply to all the web apps in your subscription. Don't use special characters in the user \", \"name.\\n\\n:::{custom-style=CodeBox} azurecli  az webapp deployment user set --user-name REPLACE\\\\_WITH\\\\_\", \"USER\\\\_NAME --password REPLACE\\\\_WITH\\\\_PASSWORD :::\\n\\n- g. Configure the web app to accept deployments \", \"from local Git and display the Git deployment URL . Note this URL for reference later .\\n\\n:::{custom-\", \"style=CodeBox} azurecli  echo Git deployment URL: $(az webapp deployment source config-local-git --n\", \"ame $webappname --resource-group AzureTutorial --query url -output tsv) :::\\n\\n- h. Display the web ap\", \"p URL . Browse to this URL to see the blank web app. Note this URL for reference later .\\n2. :::{cust\", \"om-style=CodeBox} console  echo Web app URL:\\n\\nhttp://$webappname.azurewebsites.net :::\\n\\n3. Using a c\", \"ommand shell on your local machine, navigate to the web app's project folder (for example, *.-feed-r\", \"eader). Execute the following commands to set up Git to push to the deployment URL:\\n- a. Add the rem\", \"ote URL to the local repository.\\n3. :::{custom-style=CodeBox} console  git remote add azure-prod GIT\", \"\\\\_DEPLOYMENT\\\\_URL :::\\n- b. Push the local default branch ( main ) to the azure-prod remote's deploym\", \"ent branch ( main ).\\n\\n:::{custom-style=CodeBox} console  git push azure-prod main :::\\n\\nYou'll be pro\", \"mpted for the deployment credentials you created earlier. Observe the output in the command shell. A\", \"zure builds the ASP.NET Core app remotely.\\n\\n4. In a browser, navigate to the Web app URL and note th\", \"e app has been built and deployed. Additional changes can be committed to the local Git repository w\", \"ith git commit. These changes are pushed to Azure with the preceding git push command.\\n\\n## Deploymen\", \"t with Visual Studio\\n\\n## Note\\n\\nThis section applies to Windows only. Linux and macOS users should ma\", \"ke the change described in step 2 below. Save the file, and commit the change to the local repositor\", \"y with git commit. Finally, push the change with git push, as in the first section.*\\n\\nThe app has al\", \"ready been deployed from the command shell. Let's use Visual Studio's integrated tools to deploy an \", \"update to the app. Behind the scenes, Visual Studio accomplishes the same thing as the command line \", \"tooling, but within Visual Studio's famili ar UI.\\n\\n1. Open SimpleFeedReader.sln in Visual Studio.\\n2.\", \" In Solution Explorer, open Pages.cshtml . Change &lt;h2&gt;Simple Feed Reader&lt;/h2&gt; to &lt;h2&\", \"gt;Simple Feed Reader - V2&lt;/h2&gt;.\\n3. Press Ctrl+Shift+B to build the app.\\n4. In Solution Explor\", \"er, right-click on the project and click Publish .\\n\\nApp Service\\n\\nHost your web and mobile applicatio\", \"ns, REST APls, and more in Azure\\n\\nSubscription\\n\\nSolution Explorer\\n\\nMicrosoft casoper@microsoft.com\\n\\n\", \"Search Solution Explorer (Ctri+:)\\n\\n1 Solution SimpleFeedReader' (1 project)\\n\\nIm SimpleFeedReadi\\n\\nBui\", \"ld vs-beta\\n\\nView\\n\\nResource Group\\n\\nSearch\\n\\n4\\n\\nRebuild\\n\\nClean\\n\\nView\\n\\nPack\\n\\nPublish...\\n\\nOverview\\n\\nScope\", \" to This\\n\\nNew Solution Explorer View\\n\\nShow on Code Map\\n\\nFile Nesting\\n\\nAzureTutorial\\n\\nEdit SimpleFeed\", \"Reader.csproj\\n\\nAdd mywebapp14483\\n\\ncasoper-blog\\n\\nManage NuGet Packages...\\n\\nManage User Secrets\\n\\nSet a\", \"s StartUp Project\\n\\nDebug\\n\\nSource Control\\n\\nCut\\n\\nRemove\\n\\nRename\\n\\nUnload Project\\n\\nOpen Folder in File E\", \"xplorer\\n\\nProperties\\n\\nConnected Services\\n\\nDependencies\\n\\n\\u2022Properties\\n\\nPages\\n\\nRepositories appsettings.\", \"json\\n\\n<!-- image -->\\n\\n5. Visual Studio can create a new App Service resource, but this update will b\", \"e published over the existing deployment. In the Pick a publish target dialog, select App Service fr\", \"om the list on the left, and then select Select Existing . Click Publish .\\n6. In the App Service dia\", \"log, confirm that the Microsoft or Organizational account used to create your Azure subscription is \", \"displayed in the upper right. If it's not, click the drop -down and add it.\\n7. Confirm that the corr\", \"ect Azure Subscription is selected. For View , select Resource Group . Expand the AzureTutorial reso\", \"urce group and then select the existing web app. Click OK .\\n\\n<!-- image -->\\n\\nVisual Studio builds an\", \"d deploys the app to Azure. Browse to the web app URL. Validate that the &lt;h2&gt; element modifica\", \"tion is live.\\n\\nXX\\n\\nX\\n\\n\\u2022 = 1] Home page - SimpleFer X + v\\n\\n\\u2192\\n\\nmywebapp14483.azurewebsites.net/\\n\\nSimpl\", \"eFeedReader\\n\\nSimple Feed Reader - V2\\n\\nEnter a feed URL:\\n\\nRetrieve Feed\\n\\n\\u00a9 2017 - SimpleFeedReader\\n\\n-\", \" \\u2022 x\\n\\n# R\\n\\n<!-- image -->\\n\\n## Deployment slots\\n\\nDeployment slots support the staging of changes with\", \"out impacting the app running in production. Once the staged version of the app is validated by a qu\", \"ality assurance team, the production and staging slots can be swapped. The app in staging is promote\", \"d to production in this manner. The following steps create a staging slot, deploy some changes to it\", \", and swap the staging slot with production after verification.\\n\\n1. Sign in to the Azure Cloud Shell\", \", if not already signed in.\\n2. Create the staging slot.\\n- a. Create a deployment slot with the name \", \"staging .\\n4. :::{custom-style=CodeBox} azurecli  az webapp deployment slot create --name $webappname\", \" --resource-group AzureTutorial --slot staging :::\\n- b. Set the deployment branch to main in the app\", \"settings configuration.\\n6. :::{custom-style=CodeBox} azurecli  az webapp config appsettings set --na\", \"me $webappname -resource-group AzureTutorial --slot staging --settings DEPLOYMENT\\\\_BRANCH=main :::\\n-\", \" c. Configure the staging slot to use deployment from local Git and get the staging deployment URL. \", \"Note this URL for reference later .\\n8. :::{custom-style=CodeBox} azurecli  echo Git deployment URL f\", \"or staging: $(az webapp deployment source config-local-git --name $webappname --resource-group Azure\", \"Tutorial -slot staging --query url --output tsv) :::\\n- d. Display the staging slot's URL. Browse to \", \"the URL to see the empty staging slot. Note this URL for reference later .\\n\\n\\u00a9 mywebapp14483.azureweb\", \"sites.net/\\n\\nSimpleFeedReader\\n\\nSimple Feed Reader - V2\\n\\nEnter a feed URL:\\n\\nRetrieve Feed\\n\\n\\u00a9 2017 - Si\", \"mpleFeedReader\\n\\n3. In a text editor or Visual Studio, modify Pages/Index.cshtml again so that the &l\", \"t;h2&gt; element reads &lt;h2&gt;Simple Feed Reader - V3&lt;/h2&gt; and save the file.\\n\\nSimpleFeedRe\", \"ader\\n\\nEnter a feed URL:\\n\\n4. Commit the file to the local Git repository, using either the Changes pa\", \"ge in Visual Studio's Team Explorer tab, or by entering the following using the local machine's comm\", \"and shell:\\n\\nRetrieve Feed\\n\\n:::{custom-style=CodeBox} console  git commit -a -m \\\"upgraded to V3\\\" :::\\n\", \"\\n\\u00a9 2017 - SimpleFeedReader\\n\\n5. Using the local machine's command shell, add the staging deployment U\", \"RL as a Git remote and push the committed changes:\\n- a. Add the remote URL for staging to the local \", \"Git repository.\\n- b. Push the local default branch ( main ) to the azure-staging remote's deployment\", \" branch ( main ).\\n\\n```\\n:::{custom-style=CodeBox} console  git remote add azure-staging <Git_staging_\", \"deployment_URL> :::\\n```\\n\\n:::{custom-style=CodeBox} console  git push azure-staging main :::\\n\\nWait wh\", \"ile Azure builds and deploys the app.\\n\\n6. To verify that V3 has been deployed to the staging slot, o\", \"pen two browser windows. In one window, navigate to the original web app URL. In the other window, n\", \"avigate to the staging web app URL. The production URL serves V2 of the app. The staging URL serves \", \"V3 of the app.\\n7. In the Cloud Shell, swap the verified/warmed-up staging slot into production.\\n\\n<!-\", \"- image -->\\n\\n-0 \\u00d7\\n\\n- :::{custom-style=CodeBox} console  echo Staging web app URL: http://$webappname\", \"staging.azurewebsites.net :::\\n\\n&lt; &gt; O\\n\\nO mywebapp14483-staging.azurewebsites.net/\\n\\nSimpleFeedRe\", \"ader\\n\\nSimple Feed Reader - V2\\n\\nEnter a feed URL:\\n\\nRetrieve Feed\\n\\n\\u00a9 2017 - SimpleFeedReader\\n\\n:::{cust\", \"om-style=CodeBox} azurecli  az webapp deployment slot swap --name $webappname -resource-group AzureT\", \"utorial --slot staging :::\\n\\n8. Verify that the swap occurred by refreshing the two browser windows.\\n\", \"\\n-\\n\\n\\u2022 \\u00d7\\n\\n<!-- image -->\\n\\n## Summary\\n\\nIn this section, the following tasks were completed:\\n\\n- Downloa\", \"ded and built the sample app.\\n- Created an Azure App Service Web App using the Azure Cloud Shell.\\n- \", \"Deployed the sample app to Azure using Git.\\n- Deployed a change to the app using Visual Studio.\\n- Ad\", \"ded a staging slot to the web app.\\n- Deployed an update to the staging slot.\\n- Swapped the staging a\", \"nd production slots.\\n\\nIn the next section, you'll learn how to build a DevOps pipeline with Azure Pi\", \"pelines.\\n\\n## Additional reading\\n\\n- Web Apps overview\\n- Build a .NET Core and SQL Database web app in\", \" Azure App Service\\n- Configure deployment credentials for Azure App Service\\n- Set up staging environ\", \"ments in Azure App Service\\n\\nO mywebapp14483.azurewebsites.net/\\n\\nSimpleFeedReader\\n\\nSimple Feed Reader\", \" - V3\\n\\nEnter a feed URL:\\n\\nRetrieve Feed\\n\\n-\\n\\n\\u2022 \\u00d7\\n\\n2 ...\\n\\n## Continuous integration and deployment wit\", \"h Azure DevOps\\n\\n## Note\\n\\nThis section details continuous integration and deployment with Azure DevOp\", \"s. You can achieve that with GitHub Actions as well. GitHub Actions is a workflow engine built into \", \"GitHub that can also be used for continuous integration and deployment. To follow the guide for buil\", \"ding and deploying to Azure using GitHub, complete the Publish the app's code to GitHub and Disconne\", \"ct local Git deployment sections below and then proceed to the GitHub Actions section.\\n\\nIn the previ\", \"ous chapter, you created a local Git repository for the Simple Feed Reader app. In this chapter, you\", \"'ll publish that code to a GitHub repository and construct an Azure DevOps Services pipeline using A\", \"zure Pipelines. The pipeline enables continuous builds and deployments of the app. Any commit to the\", \" GitHub repository triggers a build and a deployment to the Azure Web App's staging slot.\\n\\nIn this s\", \"ection, you'll complete the following tasks:\\n\\n[!div class='checklist']\\n\\n- Publish the app's code to \", \"GitHub\\n- Disconnect local Git deployment\\n- Create an Azure DevOps organization\\n- Create a team proje\", \"ct in Azure DevOps organization\\n- Configure a self-hosted agent if necessary\\n- Create a build defini\", \"tion\\n- Create a release pipeline\\n- Commit changes to GitHub and automatically deploy to Azure\\n- Exam\", \"ine the Azure Pipelines pipeline\\n\\n## Publish the app's code to GitHub\\n\\n1. Open a browser window, and\", \" navigate to https://github.com.\\n2. Click the + drop-down in the header, and select New repository :\", \"\\n1. Select your account in the Owner drop-down, and enter simple-feed-reader in the Repository name \", \"textbox.\\n2. Click the Create repository button.\\n3. Open your local machine's command shell. Navigate\", \" to the directory in which the simple-feedreader Git repository is stored.\\n4. Rename the existing or\", \"igin remote to upstream . Execute the following command:\\n7. :::{custom-style=CodeBox} console  git r\", \"emote rename origin upstream :::\\n5. Add a new origin remote pointing to your copy of the repository \", \"on GitHub. Execute the following command:\\n6. Publish your local Git repository to the newly created \", \"GitHub repository. Execute the following command:\\n10. :::{custom-style=CodeBox} console  git push -u\", \" origin main :::\\n7. Open a browser window, and navigate to https://github.com/&lt;GitHub\\\\_username&g\", \"t;/simplefeed-reader/. Validate that your code appears in the GitHub repository.\\n\\n<!-- image -->\\n\\n``\", \"`\\n:::{custom-style=CodeBox} console  git remote add origin https://github.com/<GitHub_username>/simp\", \"le-feed-reader/ :::\\n```\\n\\n## Disconnect local Git deployment\\n\\nRemove the local Git deployment with th\", \"e following steps. Azure Pipelines (an Azure DevOps service) both replaces and augments that functio\", \"nality.\\n\\n1. Open the Azure portal, and navigate to the staging (mywebapp&lt;unique\\\\_number&gt;/stagi\", \"ng) Web App. The Web App can be quickly located by entering staging in the portal's search box:\\n\\n<!-\", \"- image -->\\n\\nClick Deployment Center . A new panel appears. Click Disconnect to remove the local Git\", \" source control configuration that was added in the previous chapter. Confirm the removal operation \", \"by clicking the Yes button.\\n\\n1. Navigate to the mywebapp App Service. As a reminder, the portal's se\", \"arch box can be used to quickly locate the App Service.\\n2. Click Deployment Center . A new panel app\", \"ears. Click Disconnect to remove the local Git source control configuration that was added in the pr\", \"evious chapter. Confirm the removal operation by clicking the Yes button.\\n\\n## Create an Azure DevOps\", \" organization\\n\\n1. Open a browser, and navigate to the Azure DevOps organization creation page.\\n2. Se\", \"lect New organization\\n3. Confirm the information, and then select Continue .\\n4. Sign in to your orga\", \"nization at any time, https://dev.azure.com/{yourorganization}\\n\\n## Create a team project in Azure De\", \"vOps organization\\n\\n1. Choose the organization, and then select New project .\\n2. Enter the project na\", \"me as MyFirstProject and select the Visibility as Private\\n3. Select Create project .\\n\\nFor more infor\", \"mation, see Create a project\\n\\n## Configure a self-hosted agent if necessary\\n\\nTo build your code or d\", \"eploy your software using Azure Pipelines, you need at least one agent. In Azure Pipelines, you can \", \"run parallel jobs on either Microsoft-hosted or self-hosted agent. But with the recent change in Azu\", \"re Pipelines free grant of parallel jobs is temporarily disable for the public projects.For more det\", \"ails, refer Configure and pay for parallel jobs.\\n\\nGo to Organization Settings and then Pipelines &gt\", \"; Parallel jobs . If you see value 0 under Microsofthosted that means you need a Self-hosted agent t\", \"o run your pipeline.\\n\\nJobs Agents Details Security Settings Maintenance History\\n\\nPublic projects\\n\\nFr\", \"ee\\n\\nLast run l\\n\\nYesterday\\n\\nMicrosoft-hosted O\\n\\nCurrent status\\n\\nIdle\\n\\nAgent version\\n\\n2.185.1\\n\\n<!-- im\", \"age -->\\n\\nYou can create that by following details mentioned in Self-hosted agents. After successful \", \"configuration, you'll be able to see available agent under Organization Settings &gt; Agent pools &g\", \"t; {youragentname}\\n\\n<!-- image -->\\n\\n## Configure the Azure Pipelines pipeline\\n\\nThere are three disti\", \"nct steps to complete. Completing the steps in the following three sections results in an operationa\", \"l DevOps pipeline.\\n\\n## Grant Azure DevOps access to the GitHub repository\\n\\n1. In your project, navig\", \"ate to the Pipelines page. Then choose the action to create a new pipeline:\\n\\n<!-- image -->\\n\\nConnect\", \"\\n\\nSelect\\n\\nConfigure\\n\\nReview\\n\\n\\u2022 We need your authorization to access your repositories\\n\\nNew pipeline\\n\", \"\\nWhere is your code?\\n\\nConnection name *\\n\\nAzure Repos Git\\n\\n1. Use Use the classic editor to create th\", \"e pipeline.\\n\\n\\u2022 Bitbucket Cloud YAML\\n\\nAuthorize using Auth\\n\\nHosted by Atlassian\\n\\nYAML\\n\\nHome to the wo\", \"rld's largest community of developers\\n\\n\\u2022 Goreto\\n\\nGitHub Enterprise Server\\n\\nYAML\\n\\nAre sul Enterprise \", \"sever u enterprise\\n\\nOther Git\\n\\nAny generic Git repository\\n\\n= Subversion\\n\\nCentralized version control\", \" by Apache\\n\\nUse the classic editor to create a pipeline without YAML.\\n\\nSelect the GitHub option from\", \" the Select a source section::\\n\\nSelect a source\\n\\n<!-- image -->\\n\\nVSTS Git\\n\\n1. Select the GitHub opti\", \"on from the Select a source section::\\n\\nExternal Git\\n\\n<!-- image -->\\n\\n1. Authorization is required be\", \"fore Azure DevOps can access your GitHub repository. Enter GitHub connection in the Connection name \", \"textbox. For example:\\n1. If two-factor authentication is enabled on your GitHub account, a personal \", \"access token is required. In that case, click the Authorize with a GitHub personal access token link\", \". See the official GitHub personal access token creation instructions for help. Only the repo scope \", \"of permissions is needed. Otherwise, click the Authorize using OAuth button.\\n\\n<!-- image -->\\n\\nTasks \", \"Variables Triggers Options Retention History\\n\\nPipeline\\n\\nSelect a template\\n\\nBuld pipeine\\n\\nName\\n\\nMyFir\", \"stProject-ASP.NET Core (.NET Framework)-Cl\\n\\nOr start with an at Empty pipeline y Get sources\\n\\n\\u00a9 sugh\", \"oreo/simple-feed-resder 2 main\\n\\nAgent job 1\\n\\n3 Run on agent\\n\\nUse NuGet 4.4.1\\n\\nOthers\\n\\nNuGet restore\\n\", \"\\nVisual Studio buld\\n\\n* But solution\\n\\nVisual Studio Test dotnet\\n\\nA Test sembles\\n\\nPublish symbols path\", \"\\n\\nPublish build artifacts\\n\\n1 Push out stact\\n\\n+\\n\\nAgent pool * @ | Pool information | Manage E\\n\\nDefaul\", \"t\\n\\nASP.NET Corel\\n\\n\\\" U\\n\\n2. When prompted, sign in to your GitHub account. Then select Authorize to gr\", \"ant access to your Azure DevOps organization. If successful, a new service endpoint is created.\\n3. C\", \"lick the ellipsis button next to the Repository button. Select the /simple-feed-reader repository fr\", \"om the list. Click the Select button.\\n4. Select the default branch ( main ) from the Default branch \", \"for manual and scheduled builds drop-down. Click the Continue button. The template selection page ap\", \"pears.\\n\\n## Create the build definition\\n\\n1. From the template selection page, enter ASP.NET Core in t\", \"he search box:\\n1. The template search results appear. Hover over the ASP.NET Core template, and clic\", \"k the Apply button.\\n2. The Tasks tab of the build definition appears. Select the self-hosted Agent p\", \"ool if you have created that in the earlier step.\\n4. &gt; [!NOTE]\\n5. &gt; If you are using MS-hosted\", \" agent then select the *Hosted &gt; Azure Pipelines* from drop down.\\n\\n<!-- image -->\\n\\n<!-- image -->\", \"\\n\\n\\u2022 Save &amp; queue v &gt; Discard\\n\\n= Summary &gt; Queue ...\\n\\nX\\n\\nSave build definition\\n\\n\\u2022 Enable co\", \"ntinuous integration l\\n\\nSave &amp; queue V\\n\\nSelect folder *\\n\\n\\\\\\n\\nI Batch changes while a build is in \", \"progress\\n\\nH\\n\\nSave &amp; queue\\n\\nComment\\n\\nBranch filters\\n\\n1. Click the Triggers tab.\\n\\nSave\\n\\nType\\n\\nSave\", \" as draft\\n\\nInclude\\n\\n+ Add\\n\\nPath filters\\n\\n+ Add\\n\\n2. Check the Enable continuous integration box. Unde\", \"r the Branch filters section, confirm that the Type drop-down is set to Include . Set the Branch spe\", \"cification drop-down to main .\\n\\nSave\\n\\n<!-- image -->\\n\\nCancel\\n\\nThese settings cause a build to trigge\", \"r when any change is pushed to the default branch (*main*) of the GitHub repository. Continuous inte\", \"gration is tested in the [Commit changes to GitHub and automatically deploy to Azure](#commit-change\", \"s-togithub-and-automatical) section.\\n\\n1. Click the Save &amp; queue button, and select the Save opti\", \"on:\\n1. The following modal dialog appears:\\n\\n<!-- image -->\\n\\n<!-- image -->\\n\\nUse the default folder o\", \"f *\\\\\\\\*, and click the **Save** button.\\n\\n...\\n\\n- Overview\\n\\nE Boards\\n\\nSelect a template\\n\\nOr start with \", \"an la Empty job\\n\\nRepos\\n\\nPipelines\\n\\nFeatured a Pipelines\\n\\ndi Environments\\n\\n* Releases\\n\\n001 Library\\n\\n#\", \"# Create the release pipeline\\n\\nDeploy your application to Azure App Service. Choose from\\n\\nWebJobs.\\n\\n\", \"1. Click the Releases tab of your team project. Click the New pipeline button.\\n\\n\\u2022 Task groups\\n\\nOther\", \"s\\n\\n*** Deployment groups\\n\\n\\u2022 Test Plans\\n\\nArtifacts\\n\\nAzure App Service deployment with continuous moni\", \"toring\\n\\nDeploy your Web applications to Azure App Service and enable continuous monitoring using App\", \"lication Insights.\\n\\nAzure App Service deployment with slot\\n\\nDeploy your Azure Web App to a staging s\", \"lot and swap slots tol deploy to production.\\n\\nAzure App Service deployment with tests and performanc\", \"e tests\\n\\nDeploy your Azure Web App and run tests or cloud-based web performance tests.\\n\\nAzure Servic\", \"e Fabric Compose deployment\\n\\nDeploy a Docker Compose application to a Service Fabric cluster.\\n\\nAzure\", \" Service Fabric deployment\\n\\n<!-- image -->\\n\\nThe template selection pane appears.\\n\\n1. From the templa\", \"te selection page, enter App Service Deployment in the search box:\\n1. The template search results ap\", \"pear. Hover over the Azure App Service Deployment with Slot template, and click the Apply button. Th\", \"e Pipeline tab of the release pipeline appears.\\n\\n<!-- image -->\\n\\nAzure App Service Deplo! X\\n\\nAll pip\", \"elines \\u203a ** New release pipeline\\n\\nAdd artifact\\n\\nPipeline\\n\\n\\u2022 Tasks v\\n\\nVariables\\n\\nSource type\\n\\nArtifac\", \"ts | + Add\\n\\nV Build artifact\\n\\n+ Add an\\n\\n3 more artifact types V\\n\\nSchedule\\n\\nProject *\\n\\nnot set\\n\\nMyFir\", \"stProject\\n\\nSource (Build definition) *\\n\\nThis setting is required.\\n\\nAdd\\n\\n1. Click the Add button in t\", \"he Artifacts box. The Add artifact panel appears:\\n1. Select the Build tile from the Source type sect\", \"ion. This type allows for the linking of the release pipeline to the build definition.\\n2. Select MyF\", \"irstProject from the Project drop-down.\\n3. Select the build definition name, MyFirstProject-ASP.NET \", \"Core-CI , from the Source (Build definition) drop-down.\\n4. Select Latest from the Default version dr\", \"op-down. This option builds the artifacts produced by the latest run of the build definition.\\n\\n<!-- \", \"image -->\\n\\nRetention Options\\n\\nHistory\\n\\nStages | + Add v\\n\\n<!-- image -->\\n\\nLAUN\\n\\nStages | + Add v\\n\\nR\\n\\n\", \"+ Add\\n\\nStage\\n\\nProduction\\n\\n5. Replace the text in the Source alias textbox with Drop .\\n6. Click the A\", \"dd button. The Artifacts section updates to display the changes.\\n7. Click the lightning bolt icon to\", \" enable continuous deployments:\\n\\nDrop\\n\\nSchedule not set\\n\\n<!-- image -->\\n\\nWith this option enabled, a\", \" deployment occurs each time a new build is available.\\n\\n1. A Continuous deployment trigger panel app\", \"ears to the right. Click the toggle button to enable the feature. It isn't necessary to enable the P\", \"ull request trigger .\\n2. Click the Add drop-down in the Build branch filters section. Choose the Bui\", \"ld Definition's default branch option. This filter causes the release to trigger only for a build fr\", \"om the GitHub repository's default branch ( main ).\\n3. Click the Save button. Click the OK button in\", \" the resulting Save modal dialog.\\n4. Click the Stage 1 box. An Stage panel appears to the right. Cha\", \"nge the Stage 1 text in the Stage name textbox to Production .\\n1. Click the 1 phase, 2 tasks link in\", \" the Production box:\\n\\n<!-- image -->\\n\\nStage owner\\n\\nArtifacts\\n\\nW Delete ^ Move V ...\\n\\nProduction\\n\\nDep\", \"loyment process\\n\\nRun on agent\\n\\nStages | + Add v\\n\\n# Run on agent\\n\\nAzure App Service deploy\\n\\nDeploy Az\", \"ure App Service to Slot\\n\\nAzure Ano Service manage\\n\\n* Manage Azure App Service - Slot Swap\\n\\nProductio\", \"n\\n\\n\\u2022 1 job, 2 tasks\\n\\nAgent job O\\n\\nDisplay name *\\n\\nRun on agent\\n\\nAgent selection ^\\n\\nAgent pool \\u2022 | Po\", \"ol information | Manage C\\n\\nDefault\\n\\nThe **Tasks** tab of the environment appears.\\n\\n<!-- image -->\\n\\n1\", \". Click the Deploy Azure App Service to Slot task. Its settings appear in a panel to the right.\\n2. S\", \"elect the Azure subscription associated with the App Service from the Azure subscription drop-down. \", \"Once selected, click the Authorize button.\\n3. Select Web App from the App type drop-down.\\n4. Select \", \"mywebapp/ from the App service name drop-down.\\n5. Select AzureTutorial from the Resource group drop-\", \"down.\\n6. Select staging from the Slot drop-down.\\n7. Select Run on agent * under Tasks . On the right\", \" pane, you'll see Agent Job .\\n8. Select the self-hosted Agent pool if you have created that in the e\", \"arlier step.\\n9. &gt; [!NOTE]\\n10. &gt; If you are using MS-hosted agent then select the *Hosted &gt; \", \"Azure Pipelines* from drop down.\\n1. Click the Save button.\\n2. Hover over the default release pipelin\", \"e name. Click the pencil icon to edit it. Use MyFirstProject-ASP.NET Core-CD as the name.\\n\\n<!-- imag\", \"e -->\\n\\n\\u2022 Remove\\n\\nTasks\\n\\n\\u2022 MyFirstProject / MyFirst... V\\n\\nDashboards Code Work\\n\\nTriggers\\n\\n-\\n\\nContinuo\", \"us integration\\n\\nBuilds\\n\\nReleases\\n\\nLibrary\\n\\nOptions\\n\\nRetention\\n\\nHistory\\n\\nTask Groups Deployment Group\", \"s scottaddie/simple-feed-reader\\n\\nEnabled\\n\\nAll definitions \\u203a\\n\\nBuild an\\n\\nSave &amp; queue V\\n\\n\\u2022 scottad\", \"die/simple-feed-reader\\n\\n<!-- image -->\\n\\n1. Click the Save button.\\n\\n## Commit changes to GitHub and a\", \"utomatically deploy to Azure\\n\\n1. Open SimpleFeedReader.sln in Visual Studio.\\n2. In Solution Explorer\", \", open Pages.cshtml . Change &lt;h2&gt;Simple Feed Reader - V3&lt;/h2&gt; to &lt;h2&gt;Simple Feed R\", \"eader - V4&lt;/h2&gt;.\\n3. Press Ctrl+Shift+B to build the app.\\n4. Commit the file to the GitHub repo\", \"sitory. Use either the Changes page in Visual Studio's Team Explorer tab, or execute the following u\", \"sing the local machine's command shell: :::{custom-style=CodeBox} console  git commit -a -m \\\"upgrade\", \"d to V4\\\" :::\\n5. Push the change in the default branch ( main ) to the origin remote of your GitHub r\", \"epository. In the following command, replace the placeholder {BRANCH} with the default branch (use m\", \"ain):\\n\\n:::{custom-style=CodeBox} console  git push origin {BRANCH} :::\\n\\nThe commit appears in the Gi\", \"tHub repository's default branch ( main ). You'll be able to see the commit history in https://githu\", \"b.com/&lt;GitHub\\\\_username&gt;/simple-feedreader/commits/main.\\n\\nThe build is triggered, since contin\", \"uous integration is enabled in the build definition's Triggers tab:\\n\\n<!-- image -->\\n\\nVariables\\n\\nO Se\", \"arch all pipelines\\n\\nPipelines\\n\\nRecent All Runs\\n\\n+ New v\\n\\nMyFirstProject-ASP.NET Core-..\\n\\nRecently ru\", \"n pipelines\\n\\n@ Production\\n\\nPipeline\\n\\nMyFirstProject-ASP.NET Core-CD\\n\\nSimpleFeedReader\\n\\nReleases\\n\\nDep\", \"loyments\\n\\nAnalytics\\n\\nReleases\\n\\nRelease-3\\n\\nLast run sia 20210420.... \\u00bf main\\n\\n#20210420.5 \\u2022 Update Ind\", \"ex shtml\\n\\nNew pipeline\\n\\nEdit\\n\\n* Create release\\n\\nT Filter pipelines\\n\\n# All releases v ta Just now\\n\\nSi\", \"mple Feed Reader - V4\\n\\nEnter a feed URL:\\n\\nRetrieve Feed\\n\\n1. Navigate to the Pipelines . You'll see t\", \"he CI pipeline details and monitor each steps if you drill down Jobs details.\\n1. Similarly, go to th\", \"e Releases tab to see the details of CD pipeline. You can always drill down further to see more deta\", \"ils of each step.\\n1. Once the build succeeds, a deployment to Azure occurs. Navigate to the app in t\", \"he browser. Notice that the 'V4' text appears in the heading:\\n\\n<!-- image -->\\n\\n<!-- image -->\\n\\n<!-- \", \"image -->\\n\\n## Examine the Azure Pipelines pipeline\\n\\n## Build definition\\n\\nA build definition was crea\", \"ted with the name MyFirstProject-ASP.NET Core-CI . Upon completion, the build produces a .zip file i\", \"ncluding the assets to be published. The release pipeline deploys those assets to Azure.\\n\\nThe build \", \"definition's Tasks tab lists the individual steps being used. There are five build tasks.\\n\\nCreated\\n\\n\", \"4/20/2021, 12:58:08 PM\\n\\nStages\\n\\n\\u00a9 Production\\n\\n\\u2022 ... \\u203a MyFirstProject-ASP.NET Core (NET Framework)-C|\", \"\\n\\nOptions Retention History\\n\\nTasks Variables Triggers m\\n\\nPipeline\\n\\nBuild pipeline\\n\\n= Get sources\\n\\n\\u2022 \", \"sughosneo/simple-feed-reader\\n\\nAgent job 1\\n\\n= Run on agent\\n\\nUse NuGet 4.4.1\\n\\n#\\u2022 NuGet tool installer\\n\", \"\\nNuGet restore\\n\\nNuGet\\n\\n\\u2022 Build solution\\n\\nVisual Studio build\\n\\nTest Assemblies\\n\\nVisual Studio Test\\n\\nP\", \"ublish Artifact\\n\\nPublish build artifacts\\n\\n<!-- image -->\\n\\n1. Restore -Executes the dotnet restore co\", \"mmand to restore the app's NuGet packages. The default package feed used is nuget.org.\\n2. Build -Exe\", \"cutes the dotnet build -configuration release command to compile the app's code. This --configuratio\", \"n option is used to produce an optimized version of the code, which is suitable for deployment to a \", \"production environment. Modify the BuildConfiguration variable on the build definition's Variables t\", \"ab if, for example, a debug configuration is needed.\\n3. Test -Executes the dotnet test --configurati\", \"on release --logger trx --results-directory &lt;local\\\\_path\\\\_on\\\\_build\\\\_agent&gt; command to run the\", \" app's unit tests. Unit tests are executed within any C# project matching the ** / Tests/ .csproj gl\", \"ob pattern. Test results are saved in a .trx file at the location specified by the --results-directo\", \"ry option. If any tests fail, the build fails and isn't deployed.\\n\\nH Save &amp; queue y\\n\\nTasks\\n\\nVari\", \"ables\\n\\n&lt; MyFirstProject-ASP.NET Core (.NET Framework)-Cl\\n\\nRuns Branches Analytics\\n\\nDescription\\n\\n#\", \"20210420.5 Update Index.cshtml\\n\\n\\u2022 Individual Cl for (* 3\\u00ba main $ 97c0a2b *\\n\\n#20210420.4 Update Index\", \".cshtml\\n\\n#20210420.3 Update Index.cshtml\\n\\n\\u2022 Individual Cl for ( 8\\u00ba main $ 58b2b8e *\\n\\n#20210420.2 Upd\", \"ate Index.cshtml\\n\\n\\u2022 Individual Cl for * 8\\u00b0 main \\u00b0 cb034f7|\\n\\n\\u2022 Queue\\n\\nEdit\\n\\nRun pipeline ts 19m ago\\n\\n\", \"\\u00a9 41s\\n\\n[!NOTE] To verify the unit tests work, modify SimpleFeedReader.Tests.cs to purposefully break\", \" one of the tests. For example, change Assert.True(result.Count &gt; 0); to Assert.False(result.Coun\", \"t &gt; 0); in the Returns\\\\_News\\\\_Stories\\\\_Given\\\\_Valid\\\\_Uri method. Commit and push the change to Gi\", \"tHub. The build is triggered and fails. The build pipeline status changes to failed . Revert the cha\", \"nge, commit, and push again. The build succeeds.\\n\\n4. Publish -Executes the dotnet publish --configur\", \"ation release --output &lt;local\\\\_path\\\\_on\\\\_build\\\\_agent&gt; command to produce a .zip file with the\", \" artifacts to be deployed. The --output option specifies the publish location of the .zip file. That\", \" location is specified by passing a predefined variable named $(build.artifactstagingdirectory). Tha\", \"t variable expands to a local path, such as *c:\\\\_work\\\\1, on the build agent.\\n5. Publish Artifact -Pu\", \"blishes the .zip file produced by the Publish task. The task accepts the .zip file location as a par\", \"ameter, which is the predefined variable $(build.artifactstagingdirectory). The .zip file is publish\", \"ed as a folder named drop .\\n\\nClick the build definition's Summary link to view a history of builds w\", \"ith the definition:\\n\\n<!-- image -->\\n\\nOn the resulting page, click the individual build for more deta\", \"ils.\\n\\n<!-- image -->\\n\\nA summary of this specific build is displayed. Click the published link, and n\", \"otice the drop folder produced by the build is listed:\\n\\nTriggers\\n\\nOptions\\n\\nRetention\\n\\nHistory\\n\\n\\u2022 Sav\", \"e &amp; queue v\\n\\nStages\\n\\n7 Discard\\n\\n= Summary\\n\\n...\\n\\nPipeline\\n\\nTasks v\\n\\nVariables\\n\\nRetention on MyFir\", \"stProject-ASP.NET Core (.NET Framework)-Cl * Retained by release\\n\\n\\u2022 #20210420.5 Update Index.cshtml\\n\", \"\\nSummary Releases\\n\\nTriggered by\\n\\n# sughosneo\\n\\nRepository and version\\n\\n\\u2022sughosneo/simple-feed-reader\\n\", \"\\nArtifacts | + Add\\n\\n8 main $ 97c0a2b\\n\\n&lt; Artifacts\\n\\nPublished Consumed\\n\\nName\\n\\nDrop\\n\\n&gt; \\u2022 drop\\n\\nR\", \"un new\\n\\nView change\\n\\n<!-- image -->\\n\\nSchedule not set\\n\\nUse the ellipsis and click on Downloads artif\", \"acts links to inspect the published artifacts.\\n\\n## Release pipeline\\n\\nA release pipeline was created \", \"with the name MyFirstProject-ASP.NET Core-CD :\\n\\n<!-- image -->\\n\\nThe two major components of the rele\", \"ase pipeline are the Artifacts and the Stages . Clicking the box in the Artifacts section reveals th\", \"e following panel:\\n\\nOptions\\n\\nHistory\\n\\nPipeline\\n\\nTasks v\\n\\nVariables\\n\\nPipeline\\n\\nTasks V\\n\\nProduction\\n\\nA\", \"rtifacts | \\u2020 Add\\n\\nDeployment process\\n\\nPhase 1\\n\\nRun on agent\\n\\nDrop\\n\\nFo Azure App Service Deploy\\n\\nSche\", \"dule not set\\n\\nAzure App Senice Manage\\n\\nRetention Options\\n\\nHistory\\n\\nVariables\\n\\nRetention\\n\\nOptions\\n\\nAr\", \"tifact\\n\\nStages | + Add v\\n\\n...\\n\\nBuild - Drop\\n\\n<!-- image -->\\n\\nThe Source (Build definition) value rep\", \"resents the build definition to which this release pipeline is linked. The .zip file produced by a s\", \"uccessful run of the build definition is provided to the Production environment for deployment to Az\", \"ure. Click the 1 phase, 2 tasks link in the Production environment box to view the release pipeline \", \"tasks:\\n\\n<!-- image -->\\n\\nThe release pipeline consists of two tasks: Deploy Azure App Service to Slot\", \" and Manage Azure App Service - Slot Swap . Clicking the first task reveals the following task confi\", \"guration:\\n\\n[I] Delete\\n\\nX\\n\\nPipeline\\n\\nTasks V\\n\\nProduction\\n\\nDeployment process\\n\\nPhase1\\n\\nRun on agent\\n\\n<\", \"!-- image -->\\n\\nThe Azure subscription, service type, web app name, resource group, and deployment sl\", \"ot are defined in the deployment task. The Package or folder textbox holds the .zip file path to be \", \"extracted and deployed to the staging slot of the mywebapp&lt;unique\\\\_number&gt; web app.\\n\\nClicking \", \"the slot swap task reveals the following task configuration:\\n\\nVariables\\n\\nRetention /\\n\\nOptions\\n\\nAzure\", \" App Service Manage\\n\\nVersion\\n\\n0.=\\n\\nDisplay name *\\n\\nManage Azure App Service - Slot Swap\\n\\nAzure subsc\", \"ription * @ | Manage E\\n\\nVisual Studio Enterprise\\n\\nAction 0\\n\\nSwap Slots\\n\\nApp Service name *\\n\\nmywebapp\", \"11857\\n\\nResource group *\\n\\nAzureTutorial\\n\\nSource Slot *\\n\\nstaging\\n\\nSwap with Production f\\n\\nPreserve Vne\", \"t\\n\\n<!-- image -->\\n\\nThe subscription, resource group, service type, web app name, and deployment slot\", \" details are provided. The Swap with Production check box is checked. Consequently, the bits deploye\", \"d to the staging slot are swapped into the production environment.\\n\\n## Additional reading\\n\\n- Create \", \"your first pipeline with Azure Pipelines\\n- Build and .NET Core project\\n- Deploy a web app with Azure\", \" Pipelines\\n\\nNew repository\\n\\nNew gist\\n\\n## Continuous integration and deployment with Azure DevOps\\n\\n##\", \" Note\\n\\nThis section details continuous integration and deployment with Azure DevOps. You can achieve\", \" that with GitHub Actions as well. GitHub Actions is a workflow engine built into GitHub that can al\", \"so be used for continuous integration and deployment. To follow the guide for building and deploying\", \" to Azure using GitHub, complete the Publish the app's code to GitHub and Disconnect local Git deplo\", \"yment sections below and then proceed to the GitHub Actions section.\\n\\nIn the previous chapter, you c\", \"reated a local Git repository for the Simple Feed Reader app. In this chapter, you'll publish that c\", \"ode to a GitHub repository and construct an Azure DevOps Services pipeline using Azure Pipelines. Th\", \"e pipeline enables continuous builds and deployments of the app. Any commit to the GitHub repository\", \" triggers a build and a deployment to the Azure Web App's staging slot.\\n\\nIn this section, you'll com\", \"plete the following tasks:\\n\\n[!div class='checklist']\\n\\n- Publish the app's code to GitHub\\n- Disconnec\", \"t local Git deployment\\n- Create an Azure DevOps organization\\n- Create a team project in Azure DevOps\", \" organization\\n- Configure a self-hosted agent if necessary\\n- Create a build definition\\n- Create a re\", \"lease pipeline\\n- Commit changes to GitHub and automatically deploy to Azure\\n- Examine the Azure Pipe\", \"lines pipeline\\n\\n## Publish the app's code to GitHub\\n\\n1. Open a browser window, and navigate to https\", \"://github.com.\\n2. Click the + drop-down in the header, and select New repository :\\n\\n<!-- image -->\\n\\n\", \"+\\n\\n1. Select your account in the Owner drop-down, and enter simple-feed-reader in the Repository nam\", \"e textbox.\\n2. Click the Create repository button.\\n3. Open your local machine's command shell. Naviga\", \"te to the directory in which the simple-feedreader Git repository is stored.\\n4. Rename the existing \", \"origin remote to upstream . Execute the following command:\\n5. :::{custom-style=CodeBox} console  git\", \" remote rename origin upstream :::\\n5. Add a new origin remote pointing to your copy of the repositor\", \"y on GitHub. Execute the following command:\\n7. :::{custom-style=CodeBox} console  git remote add ori\", \"gin https://github.com/&lt;GitHub\\\\_username&gt;/simple-feed-reader/ :::\\n6. Publish your local Git re\", \"pository to the newly created GitHub repository. Execute the following command:\\n9. :::{custom-style=\", \"CodeBox} console  git push -u origin main :::\\n7. Open a browser window, and navigate to https://gith\", \"ub.com/&lt;GitHub\\\\_username&gt;/simplefeed-reader/. Validate that your code appears in the GitHub re\", \"pository.\\n\\n## Disconnect local Git deployment\\n\\nRemove the local Git deployment with the following st\", \"eps. Azure Pipelines (an Azure DevOps service) both replaces and augments that functionality.\\n\\n1. Op\", \"en the Azure portal, and navigate to the staging (mywebapp&lt;unique\\\\_number&gt;/staging) Web App. T\", \"he Web App can be quickly located by entering staging in the portal's search box:\\n1. Click Deploymen\", \"t Center . A new panel appears. Click Disconnect to remove the local Git source control configuratio\", \"n that was added in the previous chapter. Confirm the removal operation by clicking the Yes button.\\n\", \"2. Navigate to the mywebapp App Service. As a reminder, the portal's search box can be used to quick\", \"ly locate the App Service.\\n3. Click Deployment Center . A new panel appears. Click Disconnect to rem\", \"ove the local Git source control configuration that was added in the previous chapter. Confirm the r\", \"emoval operation by clicking the Yes button.\\n\\n<!-- image -->\\n\\n## Create an Azure DevOps organization\", \"\\n\\n1. Open a browser, and navigate to the Azure DevOps organization creation page.\\n2. Select New orga\", \"nization\\n3. Confirm the information, and then select Continue .\\n\\nJobs Agents Details Security Settin\", \"gs Maintenance History\\n\\nPublic projects\\n\\nFree\\n\\nLast run\\n\\nYesterday\\n\\nCurrent status\\n\\nIdle\\n\\nAgent vers\", \"ion\\n\\n2.185.1\\n\\n4. Sign in to your organization at any time, https://dev.azure.com/{yourorganization}\\n\", \"\\nParallel jobs\\n\\n## Create a team project in Azure DevOps organization\\n\\n1. Choose the organization, a\", \"nd then select New project .\\n2. Enter the project name as MyFirstProject and select the Visibility a\", \"s Private\\n3. Select Create project .\\n\\nFor more information, see Create a project\\n\\n## Configure a sel\", \"f-hosted agent if necessary\\n\\nTo build your code or deploy your software using Azure Pipelines, you n\", \"eed at least one agent. In Azure Pipelines, you can run parallel jobs on either Microsoft-hosted or \", \"self-hosted agent. But with the recent change in Azure Pipelines free grant of parallel jobs is temp\", \"orarily disable for the public projects.For more details, refer Configure and pay for parallel jobs.\", \"\\n\\nGo to Organization Settings and then Pipelines &gt; Parallel jobs . If you see value 0 under Micro\", \"softhosted that means you need a Self-hosted agent to run your pipeline.\\n\\n<!-- image -->\\n\\nYou can cr\", \"eate that by following details mentioned in Self-hosted agents. After successful configuration, you'\", \"ll be able to see available agent under Organization Settings &gt; Agent pools &gt;\\n\\n## {youragentna\", \"me}\\n\\n<!-- image -->\\n\\n## Configure the Azure Pipelines pipeline\\n\\nThere are three distinct steps to co\", \"mplete. Completing the steps in the following three sections results in an operational DevOps pipeli\", \"ne.\\n\\npipeline.\\n\\nSelect a source\\n\\nVSTS Git\\n\\n## Grant Azure DevOps access to the GitHub repository\\n\\nEx\", \"ternal Git\\n\\n1. In your project, navigate to the Pipelines page. Then choose the action to create a n\", \"ew pipeline:\\n\\nCreate your first Pipeline\\n\\nAutomate your build and release processes using our wizard\", \", and go from code to cloud-hosted within minutes.\\n\\nCreate Pipeline\\n\\nUse Use the classic editor to c\", \"reate the pipeline.\\n\\nConnect\\n\\nSelect\\n\\nNew pipeline\\n\\nWhere is your code?\\n\\nAzure Repos Git YAML\\n\\nFree \", \"private Git repositories, pull requests, and code search\\n\\nBitbucket Cloud YAML\\n\\n<!-- image -->\\n\\nHost\", \"ed by Atlassian\\n\\n1. Use Use the classic editor to create the pipeline.\\n\\nYAML\\n\\nThe self-hosted versio\", \"n of GitHub Enterprise\\n\\nThe sel-hosted vere an or er\\n\\n\\u2192 Other ei\\n\\nAny generic Git repository\\n\\nS subv\", \"ersion\\n\\nCentralized version control by Apache\\n\\nUse the classic editor to create a pipeline without Y\", \"AML.\\n\\n<!-- image -->\\n\\n1. Select the GitHub option from the Select a source section::\\n1. Authorizatio\", \"n is required before Azure DevOps can access your GitHub repository. Enter GitHub connection in the \", \"Connection name textbox. For example:\\n\\n<!-- image -->\\n\\nConfigure\\n\\nSelect a template\\n\\nOr start with a\", \"n e Empty pipeline\\n\\nASP.NET Core\\n\\n\\u2022 We need your authorization to access your repositories\\n\\nConnecti\", \"on name *\\n\\nOthers scottaddie GitHub connection\\n\\ndotnet\\n\\nASP.NET Core\\n\\nBuild and test an ASPINET Core\", \" web application.\\n\\nAuthorize using OAuth aN ASP.NET Core (NET Framework)\\n\\nBuild an ASPINET Core web \", \"application that targets the full .NET Framework.\\n\\n<!-- image -->\\n\\n1. If two-factor authentication i\", \"s enabled on your GitHub account, a personal access token is required. In that case, click the Autho\", \"rize with a GitHub personal access token link. See the official GitHub personal access token creatio\", \"n instructions for help. Only the repo scope of permissions is needed. Otherwise, click the Authoriz\", \"e using OAuth button.\\n2. When prompted, sign in to your GitHub account. Then select Authorize to gra\", \"nt access to your Azure DevOps organization. If successful, a new service endpoint is created.\\n3. Cl\", \"ick the ellipsis button next to the Repository button. Select the /simple-feed-reader repository fro\", \"m the list. Click the Select button.\\n4. Select the default branch ( main ) from the Default branch f\", \"or manual and scheduled builds drop-down. Click the Continue button. The template selection page app\", \"ears.\\n\\n## Create the build definition\\n\\n1. From the template selection page, enter ASP.NET Core in th\", \"e search box:\\n\\n<!-- image -->\\n\\nThe template search results appear. Hover over the ASP.NET Core templ\", \"ate, and click the Apply button.\\n\\n1. The Tasks tab of the build definition appears. Select the self-\", \"hosted Agent pool if you have created that in the earlier step.\\n\\nX\\n\\nTasks\\n\\nVariables Triggers Option\", \"s\\n\\nRetention History\\n\\nPipeline\\n\\nCuld poeine y Get sources\\n\\nB Save &amp; queue Y Discard\\n\\n\\u2022 Enable co\", \"ntinuous integration\\n\\n\\u2022 sughosneo/simple-feed-reader\\n\\n= Summary\\n\\n\\u2022 Queue ...\\n\\nName*\\n\\nP main\\n\\nAgent j\", \"ob 1\\n\\nO Batch changes while a build is in progress\\n\\n3 Run on agent\\n\\nUse NuGet 4.4.1\\n\\nBranch filters\\n\", \"\\nPo NuGet too rasier\\n\\nNuset restore\\n\\nVisual Studio build\\n\\n0) Paul soution\\n\\nType\\n\\nTest Assemblies\\n\\nVi\", \"sual Studio Test\\n\\nInclude\\n\\nPublish symbols path\\n\\n+ Publish Artifact\\n\\nPubish buld artifacts\\n\\n+ Add\\n\\nP\", \"ath filters\\n\\n+ Add\\n\\n+\\n\\nMyFirstProject-ASP.NET Core (.NET Framework)-Cl\\n\\nAgent pool \\u2022 \\u00a9 | Pool inform\", \"ation | Manage E\\n\\nDefault\\n\\n~ O\\n\\n<!-- image -->\\n\\n## &gt; [!NOTE]\\n\\n- &gt; If you are using MS-hosted a\", \"gent then select the *Hosted &gt; Azure Pipelines* from drop down.\\n1. Click the Triggers tab.\\n2. Che\", \"ck the Enable continuous integration box. Under the Branch filters section, confirm that the Type dr\", \"op-down is set to Include . Set the Branch specification drop-down to main .\\n\\n<!-- image -->\\n\\nThese \", \"settings cause a build to trigger when any change is pushed to the default branch (*main*) of the Gi\", \"tHub repository. Continuous integration is tested in the [Commit changes to GitHub and automatically\", \" deploy to Azure](#commit-changes-togithub-and-automatical) section.\\n\\n1. Click the Save &amp; queue \", \"button, and select the Save option:\\n\\nOverview\\n\\nBoards\\n\\nSave build definition\\n\\nRepos\\n\\nE Save &amp; qu\", \"eue V\\n\\nLI!\\n\\n* Pipelines\\n\\nSelect folder *\\n\\n1 Save &amp; queue a Pipelines\\n\\ndi Environments\\n\\n\\u2022 Release\", \"s\\n\\nH Save\\n\\n0% Library\\n\\nComment\\n\\n\\u2022 Task groups\\n\\n1 Save as draft\\n\\n*** Deployment groups\\n\\n\\u2022 Test Plans\\n\", \"\\nArtifacts\\n\\n<!-- image -->\\n\\n1. The following modal dialog appears:\\n\\n<!-- image -->\\n\\nUse the default \", \"folder of *\\\\\\\\*, and click the **Save** button.\\n\\n## Create the release pipeline\\n\\n1. Click the Release\", \"s tab of your team project. Click the New pipeline button.\\n\\n<!-- image -->\\n\\nX\\n\\nNo release pipelines \", \"found\\n\\nAutomate your release process in a few easy steps with a new pipeline\\n\\nNew pipeline\\n\\nCancel\\n\\n\", \"All pipelines \\u203a * New release pipeline\\n\\nSelect a template\\n\\nPipeline\\n\\nOr start with an ku Empty job\\n\\n\", \"\\u2022 Tasks v\\n\\nVariables\\n\\nRetention Options\\n\\nHistory\\n\\nFeatured\\n\\nArtifacts | + Add\\n\\nWebJobs.\\n\\nOthers arti\", \"fact\\n\\n1. From the template selection page, enter App Service Deployment in the search box:\\n\\nAzure Ap\", \"p Service deployment with continuous\\n\\n+ Add an monitoring\\n\\n\\u2022 1 job, 2 tasks\\n\\nDeploy your Web applica\", \"tions to Azure App Service and enable continuous monitoring using Application Insights.\\n\\nSchedule no\", \"t set\\n\\nAzure App Service deployment with slot\\n\\nDeploy your Azure Web App to a staging slot and swap \", \"slots to deploy to production.\\n\\nAzure App Service deployment with tests and performance tests\\n\\nDeplo\", \"y your Azure Web App and run tests or cloud-based web performance tests.\\n\\nClick the Add button in th\", \"e Artifacts box. The Add artifact panel appears:\\n\\nAzure Service Fabric Compose deployment\\n\\nAdd artif\", \"act\\n\\nDeploy a Docker Compose application to a Service Fabric cluster.\\n\\nSource type\\n\\nAzure Service Fa\", \"bric deployment\\n\\nDeploy an Azure Service Fabric application.\\n\\n/ Build\\n\\nGit\\n\\n3 more artifact types v\\n\", \"\\nProject*\\n\\nMyFirstProject\\n\\nSource (Build definition) *\\n\\nO This setting is required.\\n\\nAdd\\n\\n<!-- image\", \" -->\\n\\n1. The template search results appear. Hover over the Azure App Service Deployment with Slot t\", \"emplate, and click the Apply button. The Pipeline tab of the release pipeline appears.\\n1. Click the \", \"Add button in the Artifacts box. The Add artifact panel appears:\\n\\n<!-- image -->\\n\\n<!-- image -->\\n\\nSt\", \"ages | + Add v\\n\\nAzure App Service deployment\\n\\nThe template selection pane appears.\\n\\nAzure App Servic\", \"e Deploy X\\n\\nArtifacts\\n\\n+ Add\\n\\n1. Select the Build tile from the Source type section. This type allow\", \"s for the linking of the release pipeline to the build definition.\\n2. Select MyFirstProject from the\", \" Project drop-down.\\n\\nDrop\\n\\n3. Select the build definition name, MyFirstProject-ASP.NET Core-CI , fro\", \"m the Source (Build definition) drop-down.\\n4. Select Latest from the Default version drop-down. This\", \" option builds the artifacts produced by the latest run of the build definition.\\n5. Replace the text\", \" in the Source alias textbox with Drop .\\n6. Click the Add button. The Artifacts section updates to d\", \"isplay the changes.\\n7. Click the lightning bolt icon to enable continuous deployments:\\n\\n<!-- image -\", \"->\\n\\nWith this option enabled, a deployment occurs each time a new build is available.\\n\\n1. A Continuo\", \"us deployment trigger panel appears to the right. Click the toggle button to enable the feature. It \", \"isn't necessary to enable the Pull request trigger .\\n2. Click the Add drop-down in the Build branch \", \"filters section. Choose the Build Definition's default branch option. This filter causes the release\", \" to trigger only for a build from the GitHub repository's default branch ( main ).\\n3. Click the Save\", \" button. Click the OK button in the resulting Save modal dialog.\\n4. Click the Stage 1 box. An Stage \", \"panel appears to the right. Change the Stage 1 text in the Stage name textbox to Production .\\n\\nProdu\", \"ction\\n\\nDeployment process\\n\\nRun on agent\\n\\n= Run on agent\\n\\nStages | + Add v\\n\\nStages | \\u2020 Add v\\n\\nDeploy \", \"Azure App Service to Slot\\n\\nAzure App Service deploy\\n\\n, Manage Azure App Service - Slot Swap\\n\\nAzure A\", \"DD service mandaci\\n\\nProduction\\n\\n\\u2022 1 job, 2 tasks\\n\\nR\\n\\nAgent job O\\n\\nDisplay name*\\n\\nRun on agent\\n\\nStage\", \"\\n\\nProduction\\n\\nAgent selection ^\\n\\nAgent pool \\u00a9 | Pool information | Manage C\\n\\nE Properties ^\\n\\nDefault\", \"\\n\\nName and owners of the stage\\n\\n<!-- image -->\\n\\n1. Click the 1 phase, 2 tasks link in the Production\", \" box:\\n\\n<!-- image -->\\n\\nThe **Tasks** tab of the environment appears.\\n\\n1. Click the Deploy Azure App \", \"Service to Slot task. Its settings appear in a panel to the right.\\n2. Select the Azure subscription \", \"associated with the App Service from the Azure subscription drop-down. Once selected, click the Auth\", \"orize button.\\n3. Select Web App from the App type drop-down.\\n4. Select mywebapp/ from the App servic\", \"e name drop-down.\\n5. Select AzureTutorial from the Resource group drop-down.\\n6. Select staging from \", \"the Slot drop-down.\\n7. Select Run on agent * under Tasks . On the right pane, you'll see Agent Job .\", \"\\n8. Select the self-hosted Agent pool if you have created that in the earlier step.\\n\\n<!-- image -->\\n\", \"\\n...\\n\\nI| Delete = Move V ...\\n\\n\\u2022 Remove\\n\\n\\\" o\\n\\nTasks\\n\\n\\u2022 MyFirstProject / MyFirst... V\\n\\nDashboards Code\", \" Work\\n\\nTriggers\\n\\n-\\n\\nContinuous integration\\n\\nReleases\\n\\nLibrary\\n\\n- &gt; [!NOTE]\\n- &gt; If you are usin\", \"g MS-hosted agent then select the *Hosted &gt; Azure Pipelines* from drop down.\\n1. Click the Save bu\", \"tton.\\n2. Hover over the default release pipeline name. Click the pencil icon to edit it. Use MyFirst\", \"Project-ASP.NET Core-CD as the name.\\n1. Click the Save button.\\n\\n<!-- image -->\\n\\n## Commit changes to\", \" GitHub and automatically deploy to Azure\\n\\n1. Open SimpleFeedReader.sln in Visual Studio.\\n2. In Solu\", \"tion Explorer, open Pages.cshtml . Change &lt;h2&gt;Simple Feed Reader - V3&lt;/h2&gt; to &lt;h2&gt;\", \"Simple Feed Reader - V4&lt;/h2&gt;.\\n3. Press Ctrl+Shift+B to build the app.\\n4. Commit the file to th\", \"e GitHub repository. Use either the Changes page in Visual Studio's Team Explorer tab, or execute th\", \"e following using the local machine's command shell: :::{custom-style=CodeBox} console  git commit -\", \"a -m \\\"upgraded to V4\\\" :::\\n5. Push the change in the default branch ( main ) to the origin remote of \", \"your GitHub repository. In the following command, replace the placeholder {BRANCH} with the default \", \"branch (use main):\\n\\n:::{custom-style=CodeBox} console  git push origin {BRANCH} :::\\n\\nThe commit appe\", \"ars in the GitHub repository's default branch ( main ). You'll be able to see the commit history in \", \"https://github.com/&lt;GitHub\\\\_username&gt;/simple-feedreader/commits/main.\\n\\nThe build is triggered,\", \" since continuous integration is enabled in the build definition's Triggers tab:\\n\\n<!-- image -->\\n\\nOp\", \"tions\\n\\nRetention\\n\\nHistory\\n\\nTask Groups Deployment Groups\\n\\nBuild an\\n\\nSave &amp; queue V\\n\\n\\u2022 scottaddie\", \"/simple-feed-reader\\n\\nBuilds\\n\\nVariables\\n\\nO Search all pipelines\\n\\nPipelines\\n\\nRecent All Runs\\n\\n+ New v\\n\", \"\\nSimpleFeedReader\\n\\nMyFirstProject-ASP.NET Core-..\\n\\nRecently run pipelines\\n\\n@ Production\\n\\nPipeline\\n\\nM\", \"yFirstProject-ASP.NET Core-CD\\n\\nReleases Denloyments Analvtics\\n\\nReleases\\n\\nRelease-3\\n\\nLast run sia 202\", \"10420.... 8\\u00ba main\\n\\n#20210420.5 \\u2022 Update Index shtml\\n\\nNew pipeline\\n\\nEdit\\n\\n\\u2022 Create release\\n\\nT Filter \", \"pipelines\\n\\n# All releases v ta Just now\\n\\n1. Navigate to the Pipelines . You'll see the CI pipeline d\", \"etails and monitor each steps if you drill down Jobs details.\\n\\nEnter a feed URL:\\n\\nRetrieve Feed\\n\\n<!-\", \"- image -->\\n\\n1. Similarly, go to the Releases tab to see the details of CD pipeline. You can always \", \"drill down further to see more details of each step.\\n\\n\\u00a9 2017 - SimpleFeedReader\\n\\n<!-- image -->\\n\\n1. \", \"Once the build succeeds, a deployment to Azure occurs. Navigate to the app in the browser. Notice th\", \"at the 'V4' text appears in the heading:\\n\\n<!-- image -->\\n\\n## Examine the Azure Pipelines pipeline\\n\\n#\", \"# Build definition\\n\\nA build definition was created with the name MyFirstProject-ASP.NET Core-CI . Up\", \"on completion, the build produces a .zip file including the assets to be published. The release pipe\", \"line deploys those assets to Azure.\\n\\nThe build definition's Tasks tab lists the individual steps bei\", \"ng used. There are five build tasks.\\n\\nCreated\\n\\n4/20/2021,12:58:08 PM\\n\\nStages\\n\\n\\u00a9 Production\\n\\n\\u2022 ... \\u203a \", \"MyFirstProject-ASP.NET Core (NET Framework)-C|\\n\\nOptions Retention History\\n\\nTasks Variables Triggers \", \"m\\n\\nPipeline\\n\\nBuild pipeline\\n\\n= Get sources\\n\\n\\u2022 sughosneo/simple-feed-reader\\n\\nAgent job 1\\n\\n= Run on ag\", \"ent\\n\\nUse NuGet 4.4.1\\n\\n#\\u2022 NuGet tool installer\\n\\nNuGet restore\\n\\nNuGet\\n\\n\\u2022 Build solution\\n\\nVisual Studio\", \" build\\n\\nTest Assemblies\\n\\nVisual Studio Test\\n\\nPublish Artifact\\n\\nPublish build artifacts\\n\\n<!-- image -\", \"->\\n\\n1. Restore -Executes the dotnet restore command to restore the app's NuGet packages. The default\", \" package feed used is nuget.org.\\n2. Build -Executes the dotnet build -configuration release command \", \"to compile the app's code. This --configuration option is used to produce an optimized version of th\", \"e code, which is suitable for deployment to a production environment. Modify the BuildConfiguration \", \"variable on the build definition's Variables tab if, for example, a debug configuration is needed.\\n3\", \". Test -Executes the dotnet test --configuration release --logger trx --results-directory &lt;local\\\\\", \"_path\\\\_on\\\\_build\\\\_agent&gt; command to run the app's unit tests. Unit tests are executed within any \", \"C# project matching the ** / Tests/ .csproj glob pattern. Test results are saved in a .trx file at t\", \"he location specified by the --results-directory option. If any tests fail, the build fails and isn'\", \"t deployed.\\n\\nH Save &amp; queue y\\n\\nTasks\\n\\nVariables\\n\\n&lt; MyFirstProject-ASP.NET Core (.NET Framewor\", \"k)-Cl\\n\\nRuns Branches Analytics\\n\\nDescription\\n\\n#20210420.5 Update Index.cshtml\\n\\n\\u2022 Individual Cl for (*\", \" 3\\u00ba main $ 97c0a2b *\\n\\n#20210420.4 Update Index.cshtml\\n\\n#20210420.3 Update Index.cshtml\\n\\n\\u2022 Individual\", \" Cl for ( 8\\u00ba main $ 58b2b8e *\\n\\n#20210420.2 Update Index.cshtml\\n\\n\\u2022 Individual Cl for * 8\\u00b0 main \\u00b0 cb03\", \"4f7|\\n\\n\\u2022 Queue\\n\\nEdit\\n\\nRun pipeline ts 19m ago\\n\\n\\u00a9 41s\\n\\n[!NOTE] To verify the unit tests work, modify S\", \"impleFeedReader.Tests.cs to purposefully break one of the tests. For example, change Assert.True(res\", \"ult.Count &gt; 0); to Assert.False(result.Count &gt; 0); in the Returns\\\\_News\\\\_Stories\\\\_Given\\\\_Valid\", \"\\\\_Uri method. Commit and push the change to GitHub. The build is triggered and fails. The build pipe\", \"line status changes to failed . Revert the change, commit, and push again. The build succeeds.\\n\\n4. P\", \"ublish -Executes the dotnet publish --configuration release --output &lt;local\\\\_path\\\\_on\\\\_build\\\\_age\", \"nt&gt; command to produce a .zip file with the artifacts to be deployed. The --output option specifi\", \"es the publish location of the .zip file. That location is specified by passing a predefined variabl\", \"e named $(build.artifactstagingdirectory). That variable expands to a local path, such as *c:\\\\_work\\\\\", \"1, on the build agent.\\n5. Publish Artifact -Publishes the .zip file produced by the Publish task. Th\", \"e task accepts the .zip file location as a parameter, which is the predefined variable $(build.artif\", \"actstagingdirectory). The .zip file is published as a folder named drop .\\n\\nClick the build definitio\", \"n's Summary link to view a history of builds with the definition:\\n\\n<!-- image -->\\n\\nOn the resulting \", \"page, click the individual build for more details.\\n\\n<!-- image -->\\n\\nA summary of this specific build\", \" is displayed. Click the published link, and notice the drop folder produced by the build is listed:\", \"\\n\\nTriggers\\n\\nOptions\\n\\nRetention\\n\\nHistory\\n\\n\\u2022 Save &amp; queue v\\n\\nStages\\n\\n7 Discard\\n\\n= Summary\\n\\n...\\n\\nPi\", \"peline\\n\\nTasks V\\n\\nVariables\\n\\nRetention on MyFirstProject-ASP.NET Core (.NET Framework)-Cl * Retained \", \"by release\\n\\n\\u2022 #20210420.5 Update Index.cshtml\\n\\nSummary Releases\\n\\nTriggered by\\n\\n# sughosneo\\n\\nReposito\", \"ry and version\\n\\n\\u2022sughosneo/simple-feed-reader\\n\\nArtifacts | + Add\\n\\n8 main $ 97c0a2b\\n\\n&lt; Artifacts\\n\\n\", \"Published Consumed\\n\\nName\\n\\nDrop\\n\\n&gt; \\u2022 drop\\n\\nRun new\\n\\nView change\\n\\n<!-- image -->\\n\\nSchedule not set\\n\", \"\\nUse the ellipsis and click on Downloads artifacts links to inspect the published artifacts.\\n\\n## Rel\", \"ease pipeline\\n\\nA release pipeline was created with the name MyFirstProject-ASP.NET Core-CD :\\n\\n<!-- i\", \"mage -->\\n\\nThe two major components of the release pipeline are the Artifacts and the Stages . Clicki\", \"ng the box in the Artifacts section reveals the following panel:\\n\\nOptions\\n\\nHistory\\n\\nPipeline\\n\\nTasks \", \"v\\n\\nVariables\\n\\nPipeline\\n\\nTasks V\\n\\nProduction\\n\\nArtifacts | \\u2020 Add\\n\\nDeployment process\\n\\nPhase 1\\n\\nRun on \", \"agent\\n\\nDrop\\n\\nFo Azure App Service Deploy\\n\\nSchedule not set\\n\\nAzure App Senice Manage\\n\\nRetention Optio\", \"ns\\n\\nHistory\\n\\nVariables\\n\\nRetention\\n\\nOptions\\n\\nArtifact\\n\\nStages | + Add v\\n\\n...\\n\\nBuild - Drop\\n\\n<!-- imag\", \"e -->\\n\\nThe Source (Build definition) value represents the build definition to which this release pip\", \"eline is linked. The .zip file produced by a successful run of the build definition is provided to t\", \"he Production environment for deployment to Azure. Click the 1 phase, 2 tasks link in the Production\", \" environment box to view the release pipeline tasks:\\n\\n<!-- image -->\\n\\nThe release pipeline consists \", \"of two tasks: Deploy Azure App Service to Slot and Manage Azure App Service - Slot Swap . Clicking t\", \"he first task reveals the following task configuration:\\n\\n[I] Delete\\n\\nX\\n\\nPipeline\\n\\nTasks V\\n\\nProductio\", \"n\\n\\nDeployment process\\n\\nPhase1\\n\\nRun on agent\\n\\n<!-- image -->\\n\\nThe Azure subscription, service type, w\", \"eb app name, resource group, and deployment slot are defined in the deployment task. The Package or \", \"folder textbox holds the .zip file path to be extracted and deployed to the staging slot of the mywe\", \"bapp&lt;unique\\\\_number&gt; web app.\\n\\nClicking the slot swap task reveals the following task configur\", \"ation:\\n\\nVariables\\n\\nRetention /\\n\\nOptions\\n\\nAzure App Service Manage\\n\\nVersion\\n\\n0.=\\n\\nDisplay name *\\n\\nMan\", \"age Azure App Service - Slot Swap\\n\\nAzure subscription * @ | Manage E\\n\\nVisual Studio Enterprise\\n\\nActi\", \"on 0\\n\\nSwap Slots\\n\\nApp Service name *\\n\\nmywebapp11857\\n\\nResource group *\\n\\nAzureTutorial\\n\\nSource Slot *\\n\", \"\\nstaging\\n\\nSwap with Production f\\n\\nPreserve Vnet\\n\\n<!-- image -->\\n\\nThe subscription, resource group, s\", \"ervice type, web app name, and deployment slot details are provided. The Swap with Production check \", \"box is checked. Consequently, the bits deployed to the staging slot are swapped into the production \", \"environment.\\n\\n## Additional reading\\n\\n- Create your first pipeline with Azure Pipelines\\n- Build and .\", \"NET Core project\\n- Deploy a web app with Azure Pipelines\\n\\n## Continuous integration and deployment w\", \"ith GitHub Actions\\n\\nGitHub has long been the home for millions of open-source developers around the \", \"globe. Most developers associate source control with GitHub. However, GitHub is an evolving platform\", \" that can be used for more than just synchronizing Git repositories.\\n\\n## GitHub Actions\\n\\nGitHub Acti\", \"ons is a workflow engine that can automate workflows for nearly all events that occur on GitHub. Act\", \"ions is a great solution for Continuous Integration/Continuous Deployment (CI/CD) pipelines.\\n\\nIn thi\", \"s section of articles, you'll learn how to create an Actions workflow. The workflow will build, test\", \", and deploy a .NET web app to Azure Web Apps.\\n\\n## Note\\n\\nBefore you begin, complete the Publish the \", \"app's code to GitHub and Disconnect local Git deployment sections of the Continuous integration and \", \"deployment with Azure DevOps section to publish your code to GitHub. Then proceed to the Build artic\", \"le.\\n\\nIn the Build article, you'll create the initial workflow to build and test the .NET app. You'll\", \": [!div class='checklist']\\n\\n- Learn the basic structure of a GitHub Action workflow YAML file.\\n- Use\", \" a template to create a basic build workflow that builds a .NET app and executes unit tests.\\n- Publi\", \"sh the compiled app so that it's ready for deployment.\\n\\nIn the Deploy article, you'll:\\n\\n[!div class=\", \"'checklist']\\n\\n- Learn about environments in GitHub Actions.\\n- Create two environments and specify en\", \"vironment protection rules.\\n- Create environment secrets for managing environment-specific configura\", \"tion.\\n- Extend the workflow YAML file to add deployment steps.\\n- Add a manual dispatch trigger.\\n\\n## \", \"Secure code with CodeQL\\n\\nIn addition to building and deploying code, GitHub Advanced Security offers\", \" tools for 'shifting left' with security. That is, integrating security early on in the software del\", \"ivery lifecycle. CodeQL is a code scanning language that runs queries to find potential vulnerabilit\", \"ies or quality issues in your code. CodeQL is run using an Actions workflow.\\n\\nIn the CodeQL article,\", \" you'll:\\n\\n[!div class='checklist']\\n\\n- Create a Code Scanning Action.\\n- Edit the workflow file to inc\", \"lude custom scan settings.\\n- See scanning results.\\n\\n## Compare and contrast GitHub Actions and Azure\", \" Pipelines\\n\\nGitHub Actions and Azure Pipelines have a common lineage and are similar in many respect\", \"s. However, you should understand the differences before selecting a platform for building, testing,\", \" and deploying apps. In the Comparison article, you'll deep dive into these platforms and compare an\", \"d contrast them. You'll also learn how to select the correct platform for your CI/CD needs.\\n\\n## Cont\", \"inuous integration and deployment with GitHub Actions\\n\\nGitHub has long been the home for millions of\", \" open-source developers around the globe. Most developers associate source control with GitHub. Howe\", \"ver, GitHub is an evolving platform that can be used for more than just synchronizing Git repositori\", \"es.\\n\\n## GitHub Actions\\n\\nGitHub Actions is a workflow engine that can automate workflows for nearly a\", \"ll events that occur on GitHub. Actions is a great solution for Continuous Integration/Continuous De\", \"ployment (CI/CD) pipelines.\\n\\nIn this section of articles, you'll learn how to create an Actions work\", \"flow. The workflow will build, test, and deploy a .NET web app to Azure Web Apps.\\n\\n| Note           \", \"                                                                                                    \", \"                                                                                                    \", \"                                |\\n|-----------------------------------------------------------------\", \"----------------------------------------------------------------------------------------------------\", \"-----------------------------------------------------------------------------------|\\n| Before you be\", \"gin, complete the Publish the app's code to GitHub and Disconnect local Git deployment sections of t\", \"he Continuous integration and deployment with Azure DevOps section to publish your code to GitHub. T\", \"hen proceed to the Build article. |\\n\\nIn the Build article, you'll create the initial workflow to bui\", \"ld and test the .NET app. You'll:\\n\\n[!div class='checklist']\\n\\n- Learn the basic structure of a GitHub\", \" Action workflow YAML file.\\n- Use a template to create a basic build workflow that builds a .NET app\", \" and executes unit tests.\\n- Publish the compiled app so that it's ready for deployment.\\n\\nIn the Depl\", \"oy article, you'll:\\n\\n[!div class='checklist']\\n\\n- Learn about environments in GitHub Actions.\\n\\n- Crea\", \"te two environments and specify environment protection rules.\\n- Create environment secrets for manag\", \"ing environment-specific configuration.\\n- Extend the workflow YAML file to add deployment steps.\\n- A\", \"dd a manual dispatch trigger.\\n\\n## Secure code with CodeQL\\n\\nIn addition to building and deploying cod\", \"e, GitHub Advanced Security offers tools for 'shifting left' with security. That is, integrating sec\", \"urity early on in the software delivery lifecycle. CodeQL is a code scanning language that runs quer\", \"ies to find potential vulnerabilities or quality issues in your code. CodeQL is run using an Actions\", \" workflow.\\n\\nIn the CodeQL article, you'll:\\n\\n[!div class='checklist']\\n\\n- Create a Code Scanning Actio\", \"n.\\n- Edit the workflow file to include custom scan settings.\\n- See scanning results.\\n\\n## Compare and\", \" contrast GitHub Actions and Azure Pipelines\\n\\nGitHub Actions and Azure Pipelines have a common linea\", \"ge and are similar in many respects. However, you should understand the differences before selecting\", \" a platform for building, testing, and deploying apps. In the Comparison article, you'll deep dive i\", \"nto these platforms and compare and contrast them. You'll also learn how to select the correct platf\", \"orm for your CI/CD needs.\\n\\n## Compare and contrast GitHub Actions and Azure Pipelines\\n\\nGitHub Action\", \"s and Azure Pipelines have a common history. In fact, the Actions agent is a fork of the Pipelines a\", \"gent. There are many similarities between GitHub Actions and Azure Pipelines and it's worth comparin\", \"g and contrasting them.\\n\\n## Pipelines as code\\n\\nBefore you compare GitHub Actions and Azure Pipelines\", \", you should consider the benefits of pipelines as code . Pipelines as code:\\n\\n[!div class='checklist\", \"']\\n\\n- Benefit from standard source control practices (such as code reviews via pull request and vers\", \"ioning).\\n- Can be audited for changes just like any other files in the repository.\\n- Don't require a\", \"ccessing a separate system or UI to edit.\\n- Can fully codify the build, test, and deploy process for\", \" code.\\n\\n- Can usually be templatized to empower teams to create standard processes across multiple r\", \"epositories.\\n\\n## Note\\n\\nThe term 'pipelines' can also be referred to by several different interchange\", \"able words: pipeline , workflow , and build are common terms. In this article, references to Azure P\", \"ipelines are referring to YAML Pipelines, and not the older UI-based Classic Pipelines.\\n\\n## Agents a\", \"nd runners\\n\\nBefore you examine pipelines themselves, you should consider how these pipelines execute\", \" . Both GitHub Actions and Azure Pipelines are really orchestration engines . When a pipeline is tri\", \"ggered, the system finds an 'agent' and tells the agent to execute the jobs defined in the pipeline \", \"file.\\n\\nAzure Pipelines run on agents . The agent is written in .NET, so it will run wherever .NET ca\", \"n run: Windows, macOS, and Linux. Agents can even run in containers. Agents are registered to a pool\", \" in Azure Pipelines or to a repository or organization in GitHub. Agents can be hosted or private .\\n\", \"\\nGitHub Workflows execute on runners . The runner code is essentially a fork of the Azure Pipelines \", \"code, so it's very similar. It's also cross -platform and you can also use hosted or self-hosted run\", \"ners.\\n\\n## Hosted agents and runners\\n\\nHosted agents (Azure Pipelines) and hosted runners (GitHub) are\", \" agents that are spun up and managed by Azure DevOps or GitHub respectively. You don't need to maint\", \"ain any build infrastructure. When a pipeline triggers that targets a hosted agent, an instance of t\", \"he specified agent image is created. The job is run by the agent on the instance, and once the job c\", \"ompletes, the instance is destroyed. The same applies for hosted runners running GitHub workflows.\\n\\n\", \"## Note\\n\\nThe list of software installed on Azure Pipelines images is listed in this repository. You \", \"can select the platform folder and examine the README.md files. You can find information on GitHub h\", \"osted runners.\\n\\n## Private agents and self-hosted runners\\n\\nThere are times when you can't use hosted\", \" images. For example, when you:\\n\\n- Require SDKs or other software that isn't installed on the images\", \".\\n- Need to access resources that aren't public (such as an internal SonarQube server or an internal\", \" Artifactory instance).\\n- Need to deploy to private networks.\\n- Need to install licenses for third-p\", \"arty software required for building your code.\\n- Need more storage or memory than is provided to the\", \" hosted agent images.\\n- Need more time than the maximum build time limit for hosted agents.\\n\\n## Impo\", \"rtant\\n\\nIt's possible to install tools and SDKs when running pipelines on hosted agents. If the insta\", \"ll steps don't take long, this is viable. However, if the tools/software take a long time to install\", \", then you may be better off with a private agent or self-hosted runner, since the install steps wil\", \"l need to execute for every run of the workflow.\\n\\n## Azure DevOps agents\\n\\nEvery Azure DevOps account\", \" has a hosted pool with a single agent that can run one job at a time. Also included is a set number\", \" of free build minutes. You may purchase additional 'hosted pipelines' in Azure DevOps. When you pur\", \"chase an additional hosted pip eline, you're really removing the build minutes limit and adding conc\", \"urrency . One pipeline can run one job at a time. Two pipelines can run two jobs simultaneously, and\", \" so on.\\n\\n## Comparison of agents\\n\\n| Feature                                  | GitHub               \", \"                                                                                                    \", \"                          | Azure Pipelines                                                         \", \"                                                                                                    \", \"                                                                                                    \", \"               | Links                                  |\\n|-----------------------------------------\", \"-|--------------------------------------------------------------------------------------------------\", \"--------------------------------------------------|-------------------------------------------------\", \"----------------------------------------------------------------------------------------------------\", \"----------------------------------------------------------------------------------------------------\", \"---------------------------------------|----------------------------------------|\\n| Hosted agents fo\", \"r public repos/projects  | Free                                                                     \", \"                                                                          | Up to 10 free Microsoft-\", \"hosted parallel jobs that can run for up to 360 minutes (6 hours) each time with no overall time lim\", \"it per month. You aren't given this free grant by default, you have to submit a request             \", \"                                                               | Azure Pipelines GitHub             \", \"    |\\n| Hosted agents for private repos/projects | 2,000 minutes free per month, 3,000 minutes for P\", \"ro and Team licenses, 50,000 minutes for Enterprise license. Additional minutes may be purchased. | \", \"One free parallel job that can run for up to 60 minutes each time, until you've used 1,800 minutes (\", \"30 hours) per month. You can pay for additional capacity per parallel job. Paid parallel jobs remove\", \" the monthly time limit and allow you to run each job for up to 360 minutes (6 hours). |            \", \"                            |\\n| Cross-platform                           | Yes                      \", \"                                                                                                    \", \"                      | Yes                                                                         \", \"                                                                                                    \", \"                                                                                                    \", \"           |                                        |\\n| Scale set agents                         | N\", \"o                                                                                                   \", \"                                              | Yes                                                 \", \"                                                                                                    \", \"                                                                                                    \", \"                                   | Azure virtual machine scale set agents |\\n\\n## Comparison of GitH\", \"ub Actions and Azure Pipelines\\n\\nAzure Pipelines (YAML pipelines) provide a mature set of features. S\", \"ome of the features include:\\n\\n- Approvals\\n- Artifact storage\\n\\n- Deployment jobs\\n- Environments\\n- Gat\", \"es\\n- Stages\\n- Templates\\n- Triggers\\n- Variable groups\\n\\nFor a full list of Azure Pipelines features, r\", \"efer to the Feature availability table.\\n\\nGitHub Actions are evolving rapidly and provide features su\", \"ch as triggers for almost all GitHub events, artifact storage, environments and environment rules, s\", \"tarter templates, and matrices. Read more about the entire feature set refer GitHub Actions.\\n\\n## Fea\", \"ture comparison\\n\\nThe following table is current as of January 2023 and is not an exhaustive list of \", \"features.\\n\\n| Feature           | Description                                                      | \", \"GitHub Actions   | Azure Pipelines   |\\n|-------------------|----------------------------------------\", \"--------------------------|------------------|-------------------|\\n| Approvals         | Define appr\", \"oval conditions before moving further in the pipeline | Yes              | Yes               |\\n| Art\", \"ifacts         | Upload, store, and download artifacts from jobs                  | Yes             \", \" | Yes               |\\n| Caching           | Cache folders or files for subsequent runs             \", \"          | Yes              | Yes               |\\n| Conditions        | Specify conditions for step\", \"s or jobs                             | Yes              | Yes               |\\n| Container Jobs    |\", \" Run jobs inside a container                                      | Yes              | Yes          \", \"     |\\n| Demands           | Specify demands that must be met to match jobs to agents         | Yes \", \"             | Yes               |\\n| Dependenci es     | Specify dependencies between jobs or stages\", \"                      | Yes              | Yes               |\\n| Deployment Groups | A logical set o\", \"f target machines for deployments                 | No               | Yes               |\\n| Deploym\", \"ent Jobs   | Job that targets a deployment group                              | No               | Y\", \"es               |\\n\\n| Feature                                      | Description                    \", \"                                                                       | GitHub Actions   | Azure Pi\", \"pelines   |\\n|----------------------------------------------|----------------------------------------\", \"---------------------------------------------------------------|------------------|-----------------\", \"--|\\n| Environment s                                | A collection of resources to target or a logica\", \"l environment                                          | Yes              | Yes               |\\n| Ga\", \"tes/Check s                                | Automatic collection and evaluation of signals to contr\", \"ol continuation                                | Yes              | Yes               |\\n| Jobs      \", \"                                   | Sequence of steps that are executed on an agent                \", \"                                       | Yes              | Yes               |\\n| Service Containers\", \"                           | Manage the lifecycle of a containerized service instance available duri\", \"ng a job                       | Yes              | Yes               |\\n| Service Connections       \", \"                   | Abstract credentials to external systems                                       \", \"                       | No               | Yes               |\\n| Passwordles s connections to cloud\", \" providers | Provide technologies and support use cases that reduce and potentially eliminate the us\", \"e of passwords | Yes              | No                |\\n| Stages                                    \", \"   | Group jobs in a pipeline                                                                       \", \"       | No               | Yes               |\\n| Templates                                    | Def\", \"ine reusable, parameterized building blocks for steps, jobs, or variables                          |\", \" Yes              | Yes               |\\n| Starter Templates                            | Defines a s\", \"tarter workflow based on the type of code detected in a repository                         | Yes    \", \"          | No                |\\n| Triggers                                     | Set of events that \", \"cause the pipeline to trigger                                                      | Yes            \", \"  | Yes               |\\n\\n| Feature         | Description                                            \", \"            | GitHub Actions   | Azure Pipelines   |\\n|-----------------|----------------------------\", \"----------------------------------------|------------------|-------------------|\\n| Variables       |\", \" Variables that can be passed in, statically or dynamically defined | Yes              | Yes        \", \"       |\\n| Variable Groups | Store values for use across multiple pipelines                     | No\", \"               | Yes               |\\n\\n## Important\\n\\nGitHub Actions is rapidly evolving. Be sure to c\", \"heck documentation carefully before deciding which platform is right for you.\\n\\n## Build a .NET web a\", \"pp using GitHub Actions\\n\\nGitHub Actions allow you to automate workflows in response to events that a\", \"re triggered in GitHub. A common workflow is Continuous Integration (CI), but Actions can automate o\", \"ther processes. For example, sending welcome emails when people join a repository.\\n\\nTo explore movin\", \"g code to the cloud, you'll build a GitHub Actions workflow file. The workflow file will be used for\", \" the Simple Feed Reader app you've already deployed to Azure App Service.\\n\\nIn this article, you will\", \": &gt; [!div class='checklist'] &gt; &gt; * Learn the basic structure of a GitHub Action workflow YA\", \"ML file. &gt; * Use a template to create a basic build workflow that builds the .NET app and execute\", \"s unit tests. &gt; * Publish the compiled app so that it's ready for deployment.\\n\\n## Workflow struct\", \"ure\\n\\nWorkflows are defined in YAML files, and contain several common nodes:\\n\\n- a name\\n- a trigger, d\", \"efined by an on section\\n- one or more job sections composed of one or more steps\\n- optional attribut\", \"es such as environment variables\\n\\nJobs are run on runners . You can use hosted runners , which are s\", \"pun up by GitHub during the workflow and then thrown away. Hosted runners are great because you don'\", \"t have to maintain your own build infrastructure. For workflows that require a specific build enviro\", \"nment, or for running workflows on a private network, you can also use private runners. To create a \", \"private runner, install the runner on any machine that supports .NET.\\n\\nEach job will specify what ru\", \"nner GitHub should use to execute the steps. You can also specify dependencies between jobs using th\", \"e needs attribute. Deployment jobs can also specify an environment to target.\\n\\nSearch or jamp to\\n\\n[)\", \" Pull requeste Issues Codespaces Marketplace Explore\\n\\nY colindembovsky / simple-feed-reader\\n\\n(&gt; C\", \"ode\\n\\nI) Ail requests\\n\\n(O Action\\n\\nE Projects\\n\\nM wal O Securty\\n\\nLe hights lit Settings\\n\\nGet started wi\", \"th GitHub Actions\\n\\nBuld test and deploy you\\n\\nNeging work the wy you want Select a workflow template \", \"to get started skip tis and set up a workew youse\\n\\nNET\\n\\nBy Gerha Actiem\\n\\nSet up this work foe dotat \", \"restore\\n\\n## Tip\\n\\nDeploy Nodejs to Azure Web\\n\\nApp\\n\\nThe steps node can be as easy as inline commands, \", \"or they can be actions. Most CI workflows will have a combination of run steps (for executing script\", \"s) and actions. Individual actions are pulled into the workflow by referencing the GitHub Action rep\", \"ository (and optionally a tag or commit hash for specific versions) and specifying any parameters us\", \"ing the with keyword.\\n\\nrets tonerode ))*1\\n\\nCH O\\n\\nQ adansote-sorifom\\n\\nDeploy to Alibaba Cloud ACK\\n\\nDe\", \"ploy to Amazon ECS\\n\\nFor more information, see GitHub Actions YAML syntax.\\n\\nFrom a workflow file, you\", \"'re able to run any of the available .NET CLI commands . For example, if you're required to build, t\", \"est, and deploy an ASP.NET Core Blazor WebAssembly app with Ahead-of-Time (AoT) compilation, you'd u\", \"se the following commands:\\n\\n- dotnet workload install\\n- dotnet restore\\n- dotnet build\\n- dotnet test\\n\", \"- dotnet publish\\n\\n## The .NET SDK is a workflow necessity\\n\\nAll .NET workflows require the .NET SDK, \", \"and this can be set up by the actions/setup-dotnet GitHub Action. This action sets up a .NET CLI env\", \"ironment for use in actions. Some GitHub hosted runners have the .NET SDK preinstalled, but that's s\", \"ubject to change. As a best practice, use the actions/setup -dotnet action to ensure the proper vers\", \"ion is available.\\n\\n## Create a basic build workflow\\n\\nA primary principle of effective DevOps is to '\", \"build once, and deploy many times'. You'll start by creating a workflow to build a basic .NET app. I\", \"n the next step, you'll publish the output to prepare for deployment.\\n\\n1. Navigate to your GitHub re\", \"pository and select the Actions tab.\\n2. GitHub detects that there's .NET code in the repository and \", \"suggests a .NET workflow template. Select Set up this workflow to create a new YAML workflow file:\\n\\n\", \"**Figure 1**: Creating a new workflow.\\n\\n<!-- image -->\\n\\n\\u00a9 Watch -\\n\\n( Summary mccoockd 9 minuli ago i\", \"n tan e\\n\\nSearch or jump to....\\n\\nPull requests Issues Codespaces Marketplace Explore\\n\\n\\u0423 colindembovsk\", \"y / simple-feed-reader forked from Azure-Samples/simple-feed-reader\\n\\nCopyrteh (C) Micronett Corpirat\", \"ion, alt -lehes patarves.\\n\\n&lt;&gt; Code\\n\\nO Actions\\n\\nNo wrap\\n\\nCD Wiki\\n\\nMarketplac\\n\\nI Pull requests\\n\\n\", \"Update dotnet.yml.NET #2\\n\\nA Summary\\n\\nJobs\\n\\n\\u2022 build\\n\\nW Projects\\n\\n\\u2022 Security\\n\\nLe Insights @ Settings\\n\\n\", \"Puste succeeced.\\n\\nCommit changes\\n\\n\\u2022 barning(o)\\n\\n\\u2022 trear(e)\\n\\nUpdate dotnet.yml\\n\\nTine eligsed 03:00:00\", \".19\\n\\nFeatured Acti\\n\\n1. Commit the file onto the main branch. Since you've defined a trigger conditio\", \"n for commits to main , this commit should trigger the workflow to run. Status total durstion Artifa\", \"cts dotnet.yml Suild startad 1/28/21 1136:45 m\\n\\non push\\n\\nUplo\\n\\nTelt ren for /hoes/rumter/work/t/hple\", \"-feed-rester/stxpie-teed-reeder/STxpIefendiesder.Tests/bsn/Detug/netcorespp2.1/StapLe/\\n\\nBy act\\n\\nUplo\", \" work\\n\\nSetu\\n\\nBy ac\\n\\nSetu\\n\\nClosi\\n\\nBy actions ter\\n\\n**Figure 2**: Commit the YAML file.\\n\\n<!-- image -->\", \"\\n\\n1. Select the Actions tab again. You should see a running workflow. Once the workflow has complete\", \"d, you should see a successful run.\\n1. Opening the logs, you can see that the .NET build succeeded a\", \"nd the tests ran and passed.\\n\\n**Figure 3**: Successful build view.\\n\\n<!-- image -->\\n\\n**Figure 4**: Ch\", \"ecking the logs.\\n\\n<!-- image -->\\n\\nStart commit -\\n\\n\\u00a9 Watch = 0\\n\\n## Note\\n\\nIf any of the tests fail, th\", \"e workflow will fail.\\n\\n## Dissect the workflow file\\n\\nLet's examine the workflow YAML file you have s\", \"o far:\\n\\n```\\nname : .NET on : push : branches : [ main ] pull_request : branches : [ main ] jobs : bu\", \"ild : runs-on : ubuntu-latest steps : -uses : actions/checkout@v3 -name : Setup .NET uses : actions/\", \"setup-dotnet@v3 with : dotnet-version : 6.0.x -name : Restore dependencies run : dotnet restore -nam\", \"e : Build run : dotnet build --no-restore -name : Test run : dotnet test --no-build --verbosity norm\", \"al\\n```\\n\\n## Notice the following things:\\n\\n1. There's a name that names the workflow.\\n2. The on object\", \" specifies when this workflow should run. This workflow has two events that trigger it: push to main\", \" and pull\\\\_request to main. Each time someone commits to main or creates a pull request (PR) to main\", \", this workflow will execute.\\n3. There's a single job called build. This build should run on a hoste\", \"d agent. ubuntu\\\\_latest specifies the most recent Ubuntu hosted agent.\\n4. There are five steps:\\n1. a\", \"ctions/checkout@v3 is an action that checks out the code in the repository onto the runner.\\n2. actio\", \"ns/setup-dotnet@v3 is an action that sets up the .NET CLI. This step also specifies a name attribute\", \" for the logs and the dotnet-version parameter within the with object.\\n3. Three run steps that execu\", \"te dotnet restore, dotnet build, and dotnet test. name attributes are also specified for these run s\", \"teps to make the logs look pretty.\\n\\n1.\\n\\nSearch or jump to...\\n\\n\\u0423 colindembovsky / simple-feed-reader\\n\", \"\\nPull requests Issues Codespaces Marketplace Explore forked from Azure-Samples/simple-feed-reader\\n\\nY\", \" colindembovsky / simple-feed-reader\\n\\n\\u2039&gt; Code\\n\\nI1 Pull requests\\n\\nActions forked from Azure-Sample\", \"s/simple-feed-reader\\n\\n\\u2039&gt; Code\\n\\n12 Pull requests\\n\\n\\u2022 Actions\\n\\nP master - simple-feed-reader / githu\", \"b / workflows /\\n\\nL Projects\\n\\nProjects\\n\\n\\u0426 Wiki\\n\\n\\u2022 Security\\n\\nL Insights\\n\\n10 Wiki\\n\\n\\u00a9 Security\\n\\nInsights\", \"\\n\\n\\u0e3f Settings simple-feed-reader / github / workflows / dotnet.yml\\n\\ndotnet.yml\\n\\nCancel\\n\\n\\u2039&gt; Edit fi\", \"le nane: -NET\\n\\non:\\n\\npush:\\n\\nbranches: [ master ]\\n\\npul1 request:\\n\\nbranches: [ master 1\\n\\njobs:\\n\\nbuild:\\n\", \"\\nruns-on: ubuntu-latest steps:\\n\\n- uses: actions/checkoutiv2\\n\\nname: NET\\n\\n## Publish the output\\n\\n\\u2022 Wat\", \"ch - 0\\n\\n+ -\\n\\n\\u2022 Star\\n\\nP Fork\\n\\n79\\n\\nGo to file\\n\\nStart commit -\\n\\nLatest commit 103eala 4 minutes ago\\n\\n\\u2022 \", \"History\\n\\nSpaces\\n\\n03 Settings\\n\\nNo wrap\\n\\nMarketplace\\n\\nDocumentation\\n\\nNow that you've successfully buil\", \"t and tested the code, add steps that publish the output so you can deploy the web app. Raw Blame Ma\", \"rketplace / Search results\\n\\nUpload a Build Artifact\\n\\nBy actions O\\n\\n1. Navigate to the .github/workfl\", \"ows/dotnet.yml file and select the pencil icon to edit\\n1. Add the following Publish step below the T\", \"est step. The step runs the dotnet publish command to publish the web app:\\n3. :::{custom-style=CodeB\", \"ox} ```yml\\n4. -name: Test run: dotnet test -no-build -verbosity normal # &lt; -this is the current b\", \"ottom line\\n5. -name: Publish run: dotnet publish SimpleFeedReader/SimpleFeedReader.csproj -c Release\", \" -o website ``` :::\\n2. This publishes the web app to a folder on the hosted agent. Now you'll want t\", \"o upload the site as a build artifact that can be deployed to Azure. To complete this activity, you'\", \"ll use an existing action.\\n3. On the list of actions in the Actions Helper pane on the right, search\", \" for artifact. Select on the Upload a Build Artifact (By actions) action.\\n\\n**Figure 5**: Edit the YA\", \"ML file.\\n\\n<!-- image -->\\n\\n**Figure 6**: Accessing the snippet helper.\\n\\n<!-- image -->\\n\\n12 803\\n\\n18\\n\\n1\", \"1\\n\\n12\\n\\n13\\n\\n14\\n\\n15\\n\\n\\u2022 Watch -\\n\\n# Star\\n\\nforked from Azure-Samples/simple-feed-reader\\n\\n\\u2039&gt; Code\\n\\nMark\", \"etplace / Search results / Upload a Build Artifact\\n\\nI1 Pull requests\\n\\n\\u2022 Actions\\n\\n\\u2022 Update dotnet.yml\", \" NET #5\\n\\n( Summary\\n\\nUpload a Build Artifact\\n\\nJODH\\n\\n\\u2022 build\\n\\nBy actions v2\\n\\n* 803\\n\\nW Projects\\n\\nCO Wik\", \"i\\n\\n\\u00a9 Security\\n\\nLe Insights\\n\\nTriggered via push 2 minutes ago\\n\\n@ colindembovsky pushed -o e2daste was\", \"ter\\n\\n\\u0e3f Settings\\n\\nStatus\\n\\nSuccess\\n\\nTotal duration\\n\\n1m 30s\\n\\nAnitacte\\n\\n1. Edit the version to v2.2.2 to\", \" display a sample snippet. Select the clipboard icon to copy the snippet and paste it into the workf\", \"low below the publish step.\\n\\nbuild\\n\\n1m 15s\\n\\n<!-- image -->\\n\\nInstallation\\n\\nCopy and paste the followi\", \"ng snippet into your \\u2022 yml file.\\n\\nVersion: v2.2.2 -\\n\\n- name: Upload a Build Artifact uses: actions/u\", \"pload-artifact@v2.2.2\\n\\nwith:\\n\\n# Artifact name path:\\n\\nAvailable Options:\\n\\nerror: Fail the action with\", \" an error message\\n\\n**Figure 7**: Copying a snippet.\\n\\n1. Edit the YAML for this step to look as follo\", \"ws:\\n2. :::{custom-style=CodeBox} ```yml\\n3. -name: Upload a Build Artifact uses: actions/upload-artif\", \"act@v3 with: name: website path: SimpleFeedReader/website/** if-no-files-found: error ``` :::\\n2. Com\", \"mit the file.\\n3. Once the workflow completes, you'll see the artifact from the Home tab:\\n\\n**Figure 8\", \"**: Viewing artifacts in the summary page.\\n\\n<!-- image -->\\n\\n## Final workflow file\\n\\nThe final workfl\", \"ow file should look something like this:\\n\\n```\\nname : .NET on : push : branches : [ main ] pull_reque\", \"st : branches : [ main ] jobs : build : runs-on : ubuntu-latest steps : -uses : actions/checkout@v3 \", \"-name : Setup .NET uses : actions/setup-dotnet@v3 with : dotnet-version : 6.0.x -name : Restore depe\", \"ndencies run : dotnet restore -name : Build run : dotnet build --no-restore -name : Test run : dotne\", \"t test --no-build --verbosity normal -name : Publish run : dotnet publish SimpleFeedReader/SimpleFee\", \"dReader.csproj -c Release -o website -name : Upload a Build Artifact uses : actions/upload-artifact@\", \"v3 with : name : website path : SimpleFeedReader/website/** if-no-files-found : error\\n```\\n\\n## Deploy\", \" a .NET web app using GitHub Actions\\n\\n## Warning\\n\\nPlease complete the Build tutorial before starting\", \" this lab.\\n\\nIn this article, you'll: &gt; [!div class='checklist'] &gt; &gt; * Learn about Environme\", \"nts in GitHub Actions. &gt; * Create two environments and specify environment protection rules. &gt;\", \" * Create environment secrets for managing environment-specific configuration. &gt; * Extend the wor\", \"kflow YAML file to add deployment steps. &gt; * Add a manual dispatch trigger.\\n\\n## Environments\\n\\nNow\", \" that you've published an artifact that's potentially deployable , you'll add deployment jobs to the\", \" workflow. There's nothing special about a deployment job, other than the fact that it references an\", \"\\n\\nenvironment . Environments are logical constructs that allow you to specify environment protection\", \" rules, such as approvals, on any group of resources that you're targeting.\\n\\nIn this walkthrough, yo\", \"u'll be deploying to two environments: PRE -PROD and PROD. In a typical development lifecycle, you'l\", \"l want to deploy the latest code to a soft environment (typically DEV) that is expected to be a bit \", \"unstable. You'll use PRE -PROD as this soft environment. The 'higher' environments (like UAT and PRO\", \"D) are harder environments that are expected to be more stable. To enforce this, you can build prote\", \"ction rules into higher environments. You'll configure an approval protection rule on the PROD envir\", \"onment: whenever a deployment job targets an environment with an approval rule, it will pause until \", \"approval is granted before executing.\\n\\nGitHub environments are logical . They represent the physical\", \" (or virtual) resources that you're deploying to. In this case, the PRE-PROD is just a deployment sl\", \"ot on the Azure Web App. PROD is the production slot. The PRE-PROD deployment job will deploy the pu\", \"blished .NET app to the staging slot. The PROD deployment job will swap the slots.\\n\\nOnce you have th\", \"ese steps in place, you'll update the workflow to handle environment -specific configuration using e\", \"nvironment secrets.\\n\\n## Note\\n\\nFor more information, see GitHub Actions - Environments.\\n\\n## Azure aut\", \"hentication\\n\\nTo perform actions such as deploying code to an Azure resource, you need the correct pe\", \"rmissions. For deployment to Azure Web Apps, you can use a publishing profile. If you want to deploy\", \" to a staging slot, then you'll need the publishing profile for the s lot too. Instead, you can use \", \"a service principal (SPN) and assign permission to this service principal. You can then authenticate\", \" using credentials for the SPN before using any commands that the SPN has permissions to perform.\\n\\nO\", \"nce you have an SPN, you'll create a repository secret to securely store the credentials. You can th\", \"en refer to the secret whenever you need to authenticate. The secret is encrypted and once it has be\", \"en saved, can never be viewed or edited (only deleted or re-created).\\n\\n## Create an SPN\\n\\n1. In your \", \"terminal or Cloud Shell, run the following command to create a service principal with contributor pe\", \"rmissions to the web app you created earlier:\\n\\n:::{custom-style=CodeBox} azurecli  az ad sp create-f\", \"or-rbac --name \\\"{sp-name}\\\" --sdk-auth -role contributor \\\\  --scopes /subscriptions/{subscription-id}\", \"/resourceGroups/{resourcegroup}/providers/Microsoft.Web/sites/{webappname} :::\\n\\n2. The command shoul\", \"d output JSON that has credentials embedded:\\n\\n```\\n:::{custom-style=CodeBox} json  {    \\\"clientId\\\": \\\"\", \"<GUID>\\\",    \\\"clientSecret\\\": \\\"<GUID>\\\", \\\"subscriptionId\\\": \\\"<GUID>\\\",    \\\"tenantId\\\": \\\"<GUID>\\\",    ...  }\", \" :::\\n```\\n\\nSearch or jump to.\\n\\nPull roquests Issues Codespaces Marketplace\\n\\nActions secrets / New sec\", \"ret y colindembovsky / simple-feed-reader\\n\\ntorked trom Azurs Semples/tierole 19nd reeds\\n\\n12 Pull imp\", \"oste\\n\\n\\u00a9 Actiona\\n\\nName\\n\\nOptions\\n\\nManage access\\n\\nAZURE\\\\_CREDENTIALS\\n\\nSecurity de analysis\\n\\nBranches\\n\\nV\", \"alue\\n\\nWebhooks\\n\\n\\\"clientld\\\". \\\"9\\n\\n\\\"clientSecret\\\": \\\"\\\"\\n\\nDeplay kaya\\n\\n\\\"tenantld\\\":\\n\\n\\\"subscriptionld\\\": \\\"\\n\\nA\", \"ctions\\n\\nCoderneres\\n\\n\\\"**.\\n\\nAdd secret\\n\\n**.\\n\\nCD Wiki\\n\\n\\u00a9 Gurky\\n\\n- Inighis\\n\\nActions secrets\\n\\n\\u00a9 Watch\\n\\n* \", \"Star\\n\\nNew repository secret\\n\\nSocrets are environmant variables that are encrypted. Anyone with colla\", \"borator acces to this ropository can use these secrets for Actions.\\n\\nSecrets are nat passed to worid\", \"ows that are triggered by a pull request from a fork. Lesen more.\\n\\n3. Make sure to record the client\", \"Id, clientSecret, subscription, and tenantId. You can also leave the terminal open for copy/paste la\", \"ter.\\n\\n## Create a repository secret\\n\\nThere are no secrets for this repository.\\n\\n1. Now you're going \", \"to create an encrypted secret to store the credentials. You'll create this secret at the repository \", \"level.\\n\\nCheste a carnot\\n\\n2. Navigate to GitHub and select your repository Settings tab. Then select \", \"Secrets . Select New repository secret :\\n1. Copy and paste the JSON from the az ad sp create-for-rba\", \"c command into the body of the secret. You can create this JSON by hand too if you have the relevant\", \" fields for your SPN. The secret should be named AZURE\\\\_CREDENTIALS. Select Add secret to save the n\", \"ew secret:\\n1. You'll consume this secret in a workflow in later steps. To access it, use the variabl\", \"e notation ${{}}. In this case, ${{ AZURE\\\\_CREDENTIAL }} will be populated with the JSON you saved.\\n\", \"\\n**Figure 1**: Create a secret.\\n\\n<!-- image -->\\n\\n**Figure 2**: Add Azure credentials.\\n\\n<!-- image --\", \">\\n\\n## Add environments\\n\\nEnvironments are used as a logical boundary . You can add approvals to envir\", \"onments to ensure quality. You can also track deployments to environments and specify environment-sp\", \"ecific values (secrets) for configuration.\\n\\nExplore et Settings\\n\\nl.\\n\\nSearch or jump to..\\n\\n7 All requ\", \"ests issues Codespaces Markutplace Explore\\n\\nY colindembovsky / simple-feed-reader forked from Anure-\", \"Sampleshingle-feed-reader\\n\\n(&gt; Code\\n\\nI) Pull requests\\n\\n\\u00a9 Actiora\\n\\nEnvironments / Add\\n\\nOptions\\n\\nMan\", \"age access\\n\\nSecurity &amp; analysis\\n\\nName\\n\\nNotifications\\n\\nIntegrations\\n\\nDeploy keys\\n\\n1 wiki\\n\\n\\u00a9 Secur\", \"ty\\n\\nEnvironments a Projects\\n\\nWe haights\\n\\n@ Setting\\n\\nThere are no environments for this repository\\n\\nF\", \"or this example, you're going to split the actual Azure environment into two logical environments ca\", \"lled PREPROD and PROD. When you deploy the web app, you'll deploy to the staging slot of the Azure w\", \"eb app, represented by the PREPROD environment. When you're ready to deploy to PROD, you'll just per\", \"form a slot swap.\\n\\nIn this case, the only difference between the environments is the slot that you'r\", \"e deploying to. In real life, there would typically be different web apps (and separate web app plan\", \"s), separate resource groups, and even separate subscriptions. Typically, t here's an SPN per enviro\", \"nment. You may want to override the AZURE\\\\_CREDENTIAL value that you saved as a repository secret by\", \" creating it as an environment secret .\\n\\n## Note\\n\\nPrecedence works from Environment to repository. I\", \"f a targeted environment has a secret called MY\\\\_SECRET, then that value is used. If not, the reposi\", \"tory value of MY\\\\_SECRET (if any) is used.\\n\\n1. Select Settings and then Environments in your reposit\", \"ory. Select New Environment :\\n1. Enter PRE-PROD and select Configure environment :\\n\\n**Figure 3**: Cr\", \"eate an environment.\\n\\n<!-- image -->\\n\\n**Figure 4**: Name the environment.\\n\\n<!-- image -->\\n\\n\\u00a9 Watch =\", \" e t2 sta\\n\\nNew environment\\n\\nSearch or jump to....\\n\\nPull requests Issues Codespaces Marketplace Explo\", \"re\\n\\nY colindembovsky / simple-feed-reader forked from Azure-Samples/simple-feed-reader\\n\\n\\u2039&gt; Code\\n\\n\", \"I2 Pull requests\\n\\n\\u00a9 Actions\\n\\nOptions\\n\\nManage access\\n\\nSecurity &amp; analysis\\n\\nBranches\\n\\nWebhooks\\n\\nNo\", \"tifications\\n\\nIntegrations\\n\\nDeploy keys\\n\\nAutolink references\\n\\nActions\\n\\nEnvironments\\n\\nSecrets\\n\\nModerat\", \"ion settings\\n\\nLD Wiki\\n\\n\\u00a9 Security\\n\\nL Insights\\n\\n@ Settings\\n\\nEnvironments / Configure PROD\\n\\n1. Since d\", \"eploying to a staging slot doesn't affect the web app, you can safely deploy to the slot without req\", \"uiring an approval first. A reviewer could be added if desired. For this example, leave the Environm\", \"ent protection rules empty.\\n\\nSearch for people ce teams\\n\\n[!NOTE] If you target an environment in a w\", \"orkflow and it does not exist, an 'empty' environment is created automatically. The environment woul\", \"d look exactly the same as the PRE-PROD environment - it would exist, but would not have any protect\", \"ion rules enabled.\\n\\n2. Select Environments again and again select New Environment . Now enter PROD a\", \"s the name and select Configure environment .\\n\\n5**\\u2022\\n\\nnantection aulec\\n\\n3. Check the Required reviewe\", \"rs rule and add yourself as a reviewer. Don't forget to select Save protection rules :\\n\\n**Figure 5**\", \": Add protection rules.\\n\\n<!-- image -->\\n\\n## Deploy to staging\\n\\nYou can now add additional jobs to th\", \"e workflow to deploy to the environments! You'll start by adding a deployment to the PRE-PROD enviro\", \"nment, which in this case is the web app staging slot.\\n\\n1. Navigate to the .github/workflows/dotnet.\", \"yml file and select the pencil icon to edit the file.\\n2. You're going to use the web app name a few \", \"times in this workflow, and will need the name of the resource group too. You'll define the app and \", \"resource group names as variables. With the variables, you can maintain the values in one place in t\", \"he workflow file.\\n3. 3.\\n4. Add this snippet below the on block and above the jobs block: :::{custom-\", \"style=CodeBox} ```yml env: appname: '' rg -name: '' jobs: # &lt; -this is the existing jobs line ```\", \" :::\\n\\n[!WARNING] You'll need to replace &lt;name of your web app&gt; with the actual name of your we\", \"b app, and &lt;name of your resource group&gt; with the actual name of your resource group.\\n\\n4. Add \", \"a new job below the build job as follows:\\n\\nProjects\\n\\n**fioune\\n\\n:::{custom-style=CodeBox} ```yml if-n\", \"o-files-found: error # &lt; -last line of build job: insert below this line deploy\\\\_staging: needs: \", \"build runs-on: ubuntu-latest\\n\\n```\\nenvironment: name: PRE-PROD url: ${{ steps.deploywebapp.outputs.we\", \"bapp-url }} steps: - name: Download a Build Artifact uses: actions/download-artifact@v3 with: name: \", \"website path: website - name: Login via Azure CLI uses: azure/login@v1 with: creds: ${{ secrets.AZUR\", \"E_CREDENTIALS }} - name: Deploy web app id: deploywebapp uses: azure/webapps-deploy@v2 with: app-nam\", \"e: ${{ env.app-name }} slot-name: staging package: website - name: az cli logout run: az logout\\n```\\n\", \"\\n``` :::\\n\\nThe preceding workflow defines several steps:\\n\\n1. You're creating a new job called deploy\\\\\", \"_staging.\\n2. You specify a dependency using needs. This job needs the build job to complete successf\", \"ully before it starts.\\n3. This job also runs on the latest Ubuntu hosted agent, as specified with th\", \"e runs-on attribute.\\n4. You specify that this job is targeting the PRE-PROD environment using the en\", \"vironment object. You also specify the url property. This URL will be displayed in the workflow diag\", \"ram, giving users an easy way to navigate to the environment. The value of this property is set as t\", \"he output of the step with id deploywebapp, which is defined below.\\n5. You're executing a download -\", \"artifact step to download the artifact (compiled web app) from the build job.\\n6. You then login to A\", \"zure using the AZURE\\\\_CREDENTIALS secret you saved earlier. Note the ${{ }} notation for dereferenci\", \"ng variables.\\n7. You then perform a webapp-deploy, specifying the app-name, slot-name, and path to t\", \"he downloaded artifact (package). This action also defines an output parameter that you use to set t\", \"he url of the environment above.\\n\\n&lt; \\u2192\\n\\n\\u2192 G A Not secure | cd-simplefeedreader-staging azurewebsit\", \"es.net\\n\\nAZ Exams\\n\\nAZ Exams\\n\\nA Not secure | cd-simplefeedreader-staging azurewebsites.net\\n\\nLearning\\n\\n\", \"Learning\\n\\n.NET on Actions\\n\\nNET on Actions\\n\\nSimpleFeedReader\\n\\nSimpleFeedReader\\n\\n8. Finally, you execu\", \"te a logout to log out of the Azure context.\\n5. Commit the file.\\n6. When the run completes, you shou\", \"ld see two successful jobs. The URL for the PRE-PROD stage has been set and selecting it will naviga\", \"te you to your web app staging slot:\\n\\n**iono 7** Tha chaoino clot nunnino\\n\\n**Figure 6**: Deployment \", \"to PRE-PROD is successful.\\n\\n<!-- image -->\\n\\n1. Notice how the staging slot's direct URL contains -st\", \"aging:\\n1. You can also now see deployments. Navigate to https://{your repository url}/deployments to\", \" view your deployments:\\n\\n**Figure 7**: The staging slot running.\\n\\n<!-- image -->\\n\\nSearch or jump to.\", \"...\\n\\nPull requests Issues Codespaces Marketplace Explore\\n\\n\\u00b0 colindembovsky / simple-feed-reader fork\", \"ed from Azure-Samples/simple-feed-reader\\n\\n\\u2039&gt; Code\\n\\n11 Pull requests\\n\\n\\u2022 Actions\\n\\n\\\" Projects\\n\\n\\u0426 Wik\", \"i\\n\\nDeployed to PRE-PROD\\n\\n**figune 9**. View denlovmente..\\n\\n\\u2022 Security\\n\\n~ Insights\\n\\n13 Settings\\n\\n**Fi\", \"gure 8**: View deployments.\\n\\n<!-- image -->\\n\\n## Deploy to production\\n\\nNow that you've deployed succe\", \"ssfully to PRE -PROD, you'll want to deploy to PROD. Deployment to PROD will be slightly different s\", \"ince you don't need to copy the website again - you just need to swap the staging slot with the prod\", \"uction slot. You'll do this using an Azure CLI (az) command.\\n\\n1. Navigate to the .github/workflows/d\", \"otnet.yml file and select the pencil icon to edit the file.\\n2. Add a new job below the deploy\\\\_stagi\", \"ng job as follows:\\n3. :::{custom-style=CodeBox} ```yml run: az logout # &lt; -last line of previous \", \"job: insert below this line\\n\\ndeploy\\\\_prod: needs: deploy\\\\_staging runs-on: ubuntu-latest\\n\\n```\\nenviro\", \"nment: name: PROD url: ${{ steps.slot_swap.outputs.url }} steps: - name: Login via Azure CLI uses: a\", \"zure/login@v1 with: creds: ${{ secrets.AZURE_CREDENTIALS }} - name: Swap staging slot into productio\", \"n id: slot_swap run: | az webapp deployment slot swap -g ${{ env.rg-name }} -n ${{ env.app-name }} -\", \"s staging url=$(az webapp show -g ${{ env.rg-name }} -n ${{ env.app-name }} --query \\\"defaultHostName\", \"\\\" -o tsv) echo \\\"::set-output name=url::http://$url\\\" - name: az cli logout run: az logout ``` :::\\n```\", \"\\n\\nThe deployment to the PROD environment workflow specifies several steps:\\n\\n1. Once again, you speci\", \"fy a new job deploy\\\\_prod that needs deploy\\\\_staging to complete before starting.\\n2. You're targetin\", \"g the PROD environment this time. Also, the url value is different from before.\\n\\n\\u00a9 Watch -\\n\\n$ Star\\n\\n\", \"Search or jump to....\\n\\nPull requests Issues Codespaces Marketplace Explore\\n\\nReview pending deploymen\", \"ts requested by colindembovsky in NET #9\\n\\nY colindembovsky / simple-feed-reader forked from Anure-Sa\", \"mples/imple-feed-render\\n\\n&lt;&gt; Code\\n\\nI7 Pull requests\\n\\n\\u2022 Actions a Projects\\n\\n\\u2022 Update dotnet.yml \", \"NET #9\\n\\nPROD\\n\\nReview needed from colindembovsky\\n\\n\\u2022 Summary\\n\\nJobs\\n\\nLeave a comment\\n\\n\\u2022 build\\n\\n\\u2022 deploy\", \" staging\\n\\n\\u00a9 deploy\\\\_prod\\n\\n** igno\\n\\n\\u2022 Wiki dotnet.ymi\\n\\non: push build\\n\\nlet Insights\\n\\n\\u00a9 Security\\n\\nReje\", \"ct\\n\\n\\u2022 Star\\n\\n0\\n\\n&amp; Fork\\n\\n# sur\\n\\nY Fork\\n\\n79\\n\\nCancel workflow\\n\\nCancel workflow\\n\\n3. For the steps, yo\", \"u don't need to download the artifact since you're just going to perform a slot swap. You start by e\", \"xecuting a login to the Azure context.\\n4. The Swap staging slot into production step is a multi-line\", \" run command (note the use of the pipe symbol |). You also specify an id for this step so that you c\", \"an refer to it (you refer to it in the url property of the environment). The first line executes the\", \" slot swap using the variables you defined above in the workflow. The second line uses an az webapp \", \"show command to extract the URL of the target web app. This final line uses ::set-output in an echo \", \"to create an output variable for this task, setting the value to the web app URL.\\n\\n[!NOTE] The URL m\", \"ust start with http:// or https:// or it won't render.\\n\\n3. Commit the file.\\n4. Let the workflow run \", \"for a couple minutes until it has deployed to PRE-PROD. At this point, the workflow will pause and w\", \"ait for the required approval since you're targeting the PROD environment, which requires an approva\", \"l as defined earlier:\\n1. Select Review deployments , select the PROD checkbox, optionally add a comm\", \"ent, and then select Approve and deploy to start the PROD job.\\n1. The deployment should only take a \", \"few seconds. Once it has completed, the URL for the PROD environment will update.\\n\\n**Figure 9**: Wai\", \"ting for an approval.\\n\\n<!-- image -->\\n\\n**Figure 10**: Approve the PROD deployment.\\n\\n<!-- image -->\\n\\n\", \"\\u2022 Settings\\n\\n\\u2022 Watch r\\n\\n\\u2022 Watch +\\n\\n79\\n\\nSearch or jump to...\\n\\nG\\n\\nThe deployments have been approved.\\n\\n\", \"AZ Exams\\n\\nLearning\\n\\nPull requests Issues Codespaces Marketplace Explore\\n\\nA Not secure | cd-simplefee\", \"dreader.azurewebsites.net\\n\\n.NET on Actions\\n\\n\\u0423 colindembovsky / simple-feed-reader forked from Azure-\", \"Samples/simple-feed-reader\\n\\n\\u2039&gt; Code\\n\\nI2 Pull requests\\n\\nO Actions\\n\\nUpdate dotnet.yml .NET #10\\n\\nG S\", \"ummary\\n\\nJobs\\n\\n\\u00a9 build\\n\\n\\u00a9 deploy\\\\_staging\\n\\n\\u00a9 deploy\\\\_prod\\n\\n**fioune 11**. PROD denloyment comnleted\\n\\n\", \"**fioune 12**. The DRON cite\\n\\n\\\" Projects\\n\\nM Wiki\\n\\n\\u00a9 Security\\n\\nL Insights\\n\\n@ Settings\\n\\nSimpleFeedRead\", \"er\\n\\n**Figure 11**: PROD deployment completed.\\n\\n<!-- image -->\\n\\n1. Selecting the PROD URL will naviga\", \"te you to the PROD site.\\n\\n**Figure 12**: The PROD site.\\n\\n<!-- image -->\\n\\n## Add a manual queue optio\", \"n\\n\\nYou now have an end-to-end build and deploy workflow, including approvals. One more change you ca\", \"n make is to add a manual trigger to the workflow so that the workflow can be triggered from within \", \"the Actions tab of the repository.\\n\\n1. Navigate to the .github/workflows/dotnet.yml file and select \", \"the pencil icon to edit the file.\\n2. 2.\\n3. Add a new trigger between on and push on lines 3 and 4: :\", \"::{custom-style=CodeBox} yml  on:    workflow\\\\_dispatch:   # &lt;-- this is the new line    push: ::\", \":\\n3. The workflow\\\\_dispatch trigger displays a Run workflow button in the Actions tab of the reposit\", \"ory -but only if the trigger is defined in the default branch . However, once this trigger is define\", \"d in the workflow, you can select the branch for the run.\\n4. Commit the file.\\n\\n\\u00a9 Watch - 0\\n\\nSearch o\", \"r jump to....\\n\\nPull requests\\n\\nY colindembovsky / simple-feed-reader forked from Azure-Samples/simple\", \"-feed-reader\\n\\n\\u2022&gt; Code\\n\\nI? Pull requests\\n\\nO Actions\\n\\nWorkflows\\n\\nAll workflows lo NET\\n\\n\\u2022 Projects\\n\\n\", \"New workflow\\n\\nIssues Codespaces Marketplace Explore\\n\\n\\u0429 Wiki\\n\\n\\u00a9 Security\\n\\nLe Insights\\n\\n.NET\\n\\n5. To se\", \"e the Run workflow button, select the Actions tab. Select the .NET workflow in the list of workflows\", \". At the top of the list of runs, you'll see the Run workflow button. If you select it, you can choo\", \"se the branch to run the workflow against and queue it:\\n\\n\\u2022 Update dotnet.yml master\\n\\n**fioune 13**. \", \"Manual dicnatch..\\n\\nUse workflow from\\n\\n**Figure 13**: Manual dispatch.\\n\\n<!-- image -->\\n\\n## Handle env\", \"ironment configuration\\n\\nYour workflow is deploying the same binary to each environment. This concept\", \" is important to ensure that the binaries you test in one environment are the same that you deploy t\", \"o the next. However, environments typically have different settings like database connection strings\", \". You want to ensure that the DEV app is using DEV settings and the PROD app is using PROD settings.\", \"\\n\\nFor this simple app, there's no database connection string. However, there's an example configurat\", \"ion setting that you can modify for each environment. If you open the simple-feed- reader/SimpleFeed\", \"Reader/appsettings.json file, you'll see that the configuration includes a setting for the Header te\", \"xt on the Index page:\\n\\n```\\n\\\"UI\\\": { \\\"Index\\\": { \\\"Header\\\": \\\"Simple News Reader\\\" } } ,\\n```\\n\\nTo show how \", \"environment configuration can be handled, you're going to add a secret to each environment and then \", \"substitute that value into the settings as you deploy.\\n\\n## Add environment secrets\\n\\n1. On your repos\", \"itory, select Settings &gt; Environments &gt; PRE-PROD .\\n2. Select Add secret and add a secret calle\", \"d index\\\\_header with the value PRE PROD News Reader. Select Add secret .\\n\\n@ Settings\\n\\n\\u00a9 Watch -\\n\\n62 \", \"Star\\n\\nActions secrets\\n\\nAdd secret\\n\\nX\\n\\nNew repository secret\\n\\nSecrets are environment variables that \", \"are encrypted. Anyone with collaborator access to this repository can use these secrets for Actions.\", \"\\n\\nName\\n\\nSecrets are not passed to workflows that are triggered by a pull request from a fork. Learn \", \"more.\\n\\nindex\\\\_header\\n\\nValue\\n\\nEnvironment secrets\\n\\nPRE PROD News Reader\\n\\nINDEX\\\\_HEADER\\n\\nPROD\\n\\nINDEX\\\\_\", \"HEADER\\n\\nPRE-PROD\\n\\nSet an amount of time to wait before allowing deployments to proceed.\\n\\nRepository \", \"secrets\\n\\nSave protection rules\\n\\n&amp; AZURE\\\\_CREDENTIALS\\n\\nEnvironment secrets\\n\\nSecrets are encrypted\", \" environment variables. They are accessible only by GitHub Actions in the contex\\n\\n1\\n\\nAdd Secret\\n\\n**f\", \"ioune 15**. View cernetc.\\n\\n**fioune 14**\\u2022 Add an envisaament coset\\n\\n**Figure 14**: Add an environmen\", \"t secret.\\n\\n<!-- image -->\\n\\n1. Repeat these steps to add a secret called index\\\\_header with the value\", \" PROD News Reader for the PROD environment.\\n2. If you select Settings &gt; Secrets in the repository\", \", you'll see the changes. They should look something like this:\\n\\n**Figure 15**: View secrets.\\n\\n<!-- \", \"image -->\\n\\n## Update the workflow to handle configuration\\n\\n1. Navigate to the .github/workflows/dotn\", \"et.yml file and select the pencil icon to edit the file.\\n2. Add the following step before the az cli\", \" logout step in the deploy\\\\_staging job:\\n3. :::{custom-style=CodeBox} ```yml - name: Update config u\", \"ses: Azure/appservice-settings@v1\\n\\n```\\nwith: app-name: ${{ env.app-name }}  slot-name: staging  app-\", \"settings-json: |  [  {  \\\"name\\\": \\\"UI:Index:Header\\\",  \\\"value\\\": \\\"${{ secrets.INDEX_HEADER }}','slotSett\", \"ing': true } ] - name: az cli logout   # <-- this exists already ``` :::\\n```\\n\\n8\\n\\n\\u2192\\n\\nA Not secure cd-\", \"simplefeedreader-staging.azureweb...\\n\\nAZ Exams il Learning\\n\\n\\u2022 NET on Actions\\n\\nSimpleFeedReader\\n\\nPRE \", \"PROD News Reader\\n\\nEnter a feed URL:\\n\\n- \\u2192\\n\\nGA Not secure | cd-simplefeedreader. azurewebsites.net il \", \"AZ Exams\\n\\ni Learning .NET on Actions\\n\\nSimpleFeedReader\\n\\nPROD News Reader\\n\\n3. Add almost the same cod\", \"e to the deploy\\\\_prod job above its az cli logout step. The only difference is that you don't specif\", \"y a slot -name, since you're targeting the production slot:\\n\\nRetrieve Feed\\n\\n\\u00a9 2017 - SimpleFeedReade\", \"r\\n\\nRetrieve Feed\\n\\n- :::{custom-style=CodeBox} ```yml - name: Update config uses: Azure/appservice-se\", \"ttings@v1 with: app-name: ${{ env.app-name }}  app-settings-json: |  [  {  \\\"name\\\": \\\"UI:Index:Header\\\"\", \", \\\"value\\\": \\\"${{ secrets.INDEX\\\\_HEADER }}','slotSetting': true } ]\\n4. Commit the file.\\n5. Let the wor\", \"kflow run and approve the deployment to PROD once the approval is reached.\\n6. You should see the fol\", \"lowing headers on the index page for both sites:\\n- **Figure 16**: Settings changed in the environmen\", \"ts.\\n\\n```\\n- name: az cli logout # <-- this exists already ``` :::\\n```\\n\\n<!-- image -->\\n\\n## Final workf\", \"low file\\n\\nThe final workflow file should look like this:\\n\\n```\\nname : .NET on : workflow_dispatch : i\", \"nputs : reason : description : 'The reason for running the workflow' required : true default : 'Manu\", \"al build from GitHub UI' push : branches : [ main ] pull_request : branches : [ main ] env : app-nam\", \"e : \\\"cd-simplefeedreader\\\" rg-name : \\\"cd-dotnetactions\\\" jobs : build :\\n```\\n\\n\\u2022\\u2022.\\n\\n10\\n\\n```\\nruns-on : ub\", \"untu-latest steps : -uses : actions/checkout@v3 -name : 'Print manual run reason' if : ${{ github.ev\", \"ent_name == 'workflow_dispatch' }} run : | echo 'Reason: ${{ github.event.inputs.reason }}' -name : \", \"Setup .NET uses : actions/setup-dotnet@v3 with : dotnet-version : 6.0.x -name : Restore dependencies\", \" run : dotnet restore -name : Build run : dotnet build --no-restore -name : Test run : dotnet test -\", \"-no-build --verbosity normal -name : Publish run : dotnet publish SimpleFeedReader/SimpleFeedReader.\", \"csproj -c Release -o website -name : Upload a Build Artifact uses : actions/upload-artifact@v3 with \", \": name : website path : SimpleFeedReader/website/** if-no-files-found : error deploy_staging : needs\", \" : build runs-on : ubuntu-latest environment : name : STAGING url : ${{ steps.deploywebapp.outputs.w\", \"ebapp-url }} steps : -name : Download a Build Artifact uses : actions/download-artifact@v3 with : na\", \"me : website path : website -name : Login via Azure CLI uses : azure/login@v1 with : creds : ${{ sec\", \"rets.AZURE_CREDENTIALS }} -name : Deploy web app id : deploywebapp uses : azure/webapps-deploy@v2 wi\", \"th : app-name : ${{ env.app-name }} slot-name : staging package : website -name : Update config uses\", \" : Azure/appservice-settings@v1 with : app-name : ${{ env.app-name }} slot-name : staging app-settin\", \"gs-json : |\\n```\\n\\n```\\n[ { \\\"name\\\": \\\"UI:Index:Header\\\", \\\"value\\\": \\\"${{ secrets.INDEX_HEADER }}\\\", \\\"slotSet\", \"ting\\\": true } ] -name : az cli logout run : az logout deploy_prod : needs : deploy_staging runs-on :\", \" ubuntu-latest environment : name : PROD url : ${{ steps.slot_swap.outputs.url }} steps : -name : Lo\", \"gin via Azure CLI uses : azure/login@v1 with : creds : ${{ secrets.AZURE_CREDENTIALS }} -name : Swap\", \" staging slot into production id : slot_swap run : | az webapp deployment slot swap -g ${{ env.rg-na\", \"me }} -n ${{ env.app-name }} -s staging url=$(az webapp show -g ${{ env.rg-name }} -n ${{ env.app-na\", \"me }} --query \\\"defaultHostName\\\" -o tsv) echo \\\"::set-output name=url::http://$url\\\" -name : Update con\", \"fig uses : Azure/appservice-settings@v1 with : app-name : ${{ env.app-name }} app-settings-json : | \", \"[ { \\\"name\\\": \\\"UI:Index:Header\\\", \\\"value\\\": \\\"${{ secrets.INDEX_HEADER }}\\\", \\\"slotSetting\\\": true } ] -name\", \" : az cli logout run : az logout\\n```\\n\\n## Secure .NET Code with CodeQL and GitHub Actions\\n\\nCodeQL is \", \"a static code analysis engine that can automate security and quality checks. With CodeQL, you can pe\", \"rform variant analysis , which uses known vulnerabilities as seeds to find similar issues. CodeQL is\", \" part of GitHub Advanced Security that includes:\\n\\n[!div class='checklist']\\n\\nSearch or jump to....\\n\\nP\", \"ull requests Issues Marketplace Explore\\n\\nY colindembovsky / simple-feed-reader forked from Azure-Sam\", \"ples/simple-feed-reader\\n\\n&lt;&gt; Code\\n\\n12 Pull requests\\n\\n\\u2022 Actions\\n\\nWE Projects\\n\\n1 Wiki\\n\\n\\u00a9 Security\", \" w Insights\\n\\n\\u00a9 Settings\\n\\n- Code scanning -find potential security vulnerabilities in your code. Over\", \"view\\n- Secret scanning -detect secrets and tokens that are committed.\\n- Dependency scanning -detect \", \"vulnerabilities in packages that you consume.\\n\\nCode scanning alerts\\n\\nCodeQL supports some of the mos\", \"t popular programming languages and compilers:\\n\\nCroate a new code cranning wonkflow.\\n\\n- C/C++\\n- Java\", \"\\n- C#\\n- Python\\n- Go\\n- JavaScript\\n- TypeScript\\n\\nCodeQL is a powerful language and security profession\", \"als can create custom queries using CodeQL. However, teams can benefit immensely from the large open\", \"-source collection of queries that the security community has created without having to write any cu\", \"stom CodeQL.\\n\\nIn this article, you'll set up a GitHub workflow that will scan code in your repositor\", \"y using CodeQL. You will:\\n\\n[!div class='checklist']\\n\\n- Create a code scanning action.\\n- Edit the wor\", \"kflow file to include custom scan settings.\\n- See scanning results.\\n\\n## Note\\n\\nTo see security alerts\", \" for your repository, you must be a repository owner.\\n\\n## Create the code scanning workflow\\n\\nYou can\", \" use a starter workflow for code scanning by navigating to the Security tab of your repository.\\n\\n1. \", \"Navigate to your GitHub repository and select the Security &gt; Code Scanning Alerts . The top recom\", \"mended workflow should be CodeQL Analysis. Select Set up this workflow .\\n\\n**Figure 1:** Create a new\", \" code scanning workflow.\\n\\n<!-- image -->\\n\\n**ioune 1.**\\n\\n4\\n\\n10\\n\\n11\\n\\nSearch or jump to....\\n\\nPull reque\", \"sts Issues Marketplace Explore\\n\\nSearch or jump to...\\n\\nPull requests Issues Marketplace Explore\\n\\nY co\", \"lindembovsky / simple-feed-reader\\n\\nY colindembovsky / simple-feed-reader forked from Azure-Samples/s\", \"imple-feed-reader\\n\\nforked from Azure-Samples/simple-feed-reader\\n\\n\\u2039&gt; Code\\n\\nI7 Pull requests\\n\\n&lt;&\", \"gt; Code\\n\\n17 Pull requests\\n\\nWorkflows\\n\\n\\u2039&gt; Edit new file\\n\\n\\u2022 Preview\\n\\nAll workflows\\n\\nNET\\n\\n\\u2022 to conm\", \"it it to your repository-\\n\\n\\u2022 Actions\\n\\nProjects\\n\\nMO Wiki\\n\\nSecurity\\n\\nL Insights\\n\\n@ Settings\\n\\n\\u2022 Actions\", \"\\n\\nProjects\\n\\nM Wiki\\n\\n\\u2022 Security\\n\\nL Insights\\n\\n@ Settings\\n\\n1. A new workflow file is created in your .g\", \"ithub/workflows folder.\\n\\ncodeql-analysisymi\\n\\n2. Select Start Commit on the upper right to save the d\", \"efault workflow. You can commit to the main branch. Search Marketplace for Actions\\n\\nCodeQL\\n\\n\\u2022 You ma\", \"y wish to alter this file to override the set of languages analyzed,\\n\\n1 workflow run\\n\\n\\u2022 or to provid\", \"e custom queries or build logic.\\n\\n* ******** NOTE ********\\n\\n# Ne have attempted to detect the langua\", \"ges in your repository. Please check\\n\\n\\u2022 the \\\"Language\\\" matrix defined below to confirm you have the \", \"correct set of\\n\\n# supported CodeQL languages.\\n\\n#\\n\\n12\\n\\nname: \\\"CodeoL-\\n\\n**iome 3** Wiew the Coded work\", \"flow nune.\\n\\n**fioune ?.**\\n\\nCommit the file\\n\\nEvent -\\n\\nStatus ~\\n\\nBranch -\\n\\nActor -\\n\\n**Figure 2:** Comm\", \"it the file.\\n\\n<!-- image -->\\n\\n1. Select the Actions tab. In the lefthand tree, you'll see a CodeQL n\", \"ode. Select this node to filter for CodeQL workflow runs.\\n\\n**Figure 3:** View the CodeQL workflow ru\", \"ns.\\n\\n<!-- image -->\\n\\nTake a look at the workflow file while it runs. If you remove the comments from\", \" the file, you'll see the following YAML:\\n\\n```\\nname : \\\"CodeQL\\\" on : push : branches : [ main ] pull_\", \"request : branches : [ main ] schedule : -cron : '40 14 * * 6' jobs : analyze : name : Analyze runs-\", \"on : ubuntu-latest strategy : fail-fast : false\\n```\\n\\n\\u2022 Watch -\\n\\n\\u2022 Watch -\\n\\n* Star\\n\\nStar\\n\\n+-\\n\\n+ -\\n\\nY \", \"Fork\\n\\nY Fork\\n\\n92\\n\\n92\\n\\n```\\nmatrix : language : [ 'csharp' ] steps : -name : Checkout repository uses \", \": actions/checkout@v3 -name : Initialize CodeQL uses : github/codeql-action/init@v1 with : languages\", \" : ${{ matrix.language }} -name : Autobuild uses : github/codeql-action/autobuild@v1 -name : Perform\", \" CodeQL Analysis uses : github/codeql-action/analyze@v1\\n```\\n\\nNotice the following things:\\n\\n1. The wo\", \"rkflow name is CodeQL.\\n2. This workflow triggers on push and pull\\\\_request events to the main branch\", \". There's also a cron trigger. The cron trigger lets you define a schedule for triggering this workf\", \"low and is randomly generated for you. In this case, this workflow will run at 14:40 UTC every Satur\", \"day.\\n\\n[!TIP] If you edit the workflow file and hover over the cron expression, a tooltip will show y\", \"ou the English text for the cron expression.\\n\\n3. There's a single job called analyze that runs on th\", \"e ubuntu -latest hosted agent.\\n4. This workflow defines a strategy with a matrix on the array of lan\", \"guage. In this case, there's only csharp. If the repository contained other languages, you could add\", \" them to this array. This causes the job to 'fan out' and create an instance per value of the matrix\", \".\\n5. There are four steps, starting with checkout.\\n6. The second step initializes the CodeQL scanner\", \" for the language this job is going to scan. CodeQL intercepts calls to the compiler to build a data\", \"base of the code while the code is being built.\\n7. The Autobuild step will attempt to automatically \", \"build the source code using common conventions. If this step fails, you can replace it with your own\", \" custom build steps.\\n8. After building, the CodeQL analysis is performed, where suites of queries ar\", \"e run against the code database.\\n9. The run should complete successfully. However, there appear to b\", \"e no issues.\\n\\nSearch or jump to...\\n\\nOverview\\n\\nSecurity policy\\n\\nCode scanning\\n\\nPull requests Issues M\", \"arketplace Explore\\n\\nY colindembovsky / simple-feed-reader forked from Azure-Samples/simple-feed-read\", \"er\\n\\nSecurity advisories\\n\\n\\u2039&gt; Code\\n\\nIl Pull requests\\n\\nDependabot alerts\\n\\nP master -\\n\\nCode scanning \", \"alerts simple-feed-reader / github /\\n\\nCodeQL\\n\\nThis branch is 20 commits ahead of Azure-Samples:maste\", \"r.\\n\\ncolindembovsky Create codeql-analysis.yml workflows\\n\\nISSUE TEMPLATE.md\\n\\n**iono 5**\\n\\n**figune 4.*\", \"* No neculte to the initial ecan.\\n\\nFilters -\\n\\nQ tool:CodeQL is:open\\n\\nProjects\\n\\n\\u2022 v 0Open x 0 Closed\\n\", \"\\nSet up more code scanning tools\\n\\n4 +- g-\\n\\n\\u00a9 Watch -\\n\\n0\\n\\n\\u2022 Star 0\\n\\nY Fork\\n\\n92\\n\\nBranch - Severity - R\", \"ule - Tag - Sort-\\n\\nActions\\n\\n\\u0429 Wiki\\n\\n\\u2022 Security\\n\\nL Insights\\n\\n\\u0e3f Settings\\n\\n**Figure 4:** No results to \", \"the initial scan.\\n\\n<!-- image -->\\n\\n## Customize CodeQL settings\\n\\nThe CodeQL scan isn't reporting any\", \" security issues. That's expected with this basic sample. CodeQL can also scan for quality issues. T\", \"he current workflow is using the default security-extended suite. You can add quality scanning in by\", \" adding a configuration file to customize the scanning suites. In this step, you'll configure CodeQL\", \" to use the security -and-quality suites.\\n\\n[!INFORMATION] For other CodeQL configuration options, se\", \"e Configuring CodeQL code scanning in your CI system.\\n\\n1. Navigate to the .github folder in the Code\", \" tab and select Add File :\\n1. Enter codeql/codeql-config.yml as the name. This creates the file in a\", \" folder. Paste in the following code:\\n3. :::{customstyle=CodeBox} ```yml name: 'Security and Quality\", \"'\\n4. queries: -uses: security-and-quality ``` :::\\n\\n**Figure 5:** Create a new file.\\n\\n<!-- image -->\\n\", \"\\nSearch or jump to...\\n\\n\\u2022 Pull requests Issues Marketplace Explore y colindembovsky / simple-feed-rea\", \"der\\n\\nforked from Azure-Samples/simple-feed-reader\\n\\n\\u2039&gt; Code\\n\\n13 Pull requests simple-feed-reader /\", \" github / codeql / codeql-config.yml\\n\\n\\u2039&gt; Edit new file\\n\\n1\\n\\nname: \\\"Security and Quality\\\"\\n\\n2\\n\\n<!-- \", \"image -->\\n\\nqueries:\\n\\n- uses: security-and-quality\\n\\n**Fioune 6.**\\n\\n**Figure 6:** Create the CodeQL co\", \"nfiguration file.\\n\\n1. Select Commit to main at bottom of the editor to commit the file.\\n2. Edit the \", \"CodeQL workflow to use the new configuration file. Navigate to .github/workflows/codeql-analysis.yml\", \" and select the pencil icon. Add a new property to the with section as shown below:\\n3. :::{custom-st\", \"yle=CodeBox} yml   - name: Initialize CodeQL     uses: github/codeql-action/init@v1 with:       lang\", \"uages: ${{ matrix.language }}       config-file: ./.github/codeql/codeql-config.yml  # &lt;-add this\", \" line :::\\n1. Select Start Commit and commit to the main branch.\\n\\n## Review the security alerts\\n\\n<!--\", \" image -->\\n\\nWhen the last CodeQL workflow run completes, you should see two issues in the Security t\", \"ab:\\n\\nSearch or jump to...\\n\\nPull requests Issues Marketplace Explore\\n\\nMissed 'readonly' opportunity\\n\\n\", \"A private field where all assignments occur as part of the declaration or in a constructor in the sa\", \"me class can be 'readonly.\\n\\nOpen\\n\\nY colindembovsky / simple-feed-reader\\n\\nE Note language features\\n\\nm\", \"aintainability forked from Azure-Samples/simple-feed-reader\\n\\nBranch: master -\\n\\n&lt;&gt; Code\\n\\n17 Pul\", \"l requests\\n\\n\\u00a9 Actions\\n\\nSimpleFeedReader/obj/Debug/netcoreapp2.1/Razor/Pages/Index.cshtml.g.cs \\u00ae\\n\\nOve\", \"rview\\n\\nField \\\\_tagHelperRunner\\\" can be readonly'.\\n\\nCodeQL\\n\\nSecurity policy\\n\\nSecurity advisories\\n\\nToo\", \"l\\n\\nRule ID\\n\\nCodeQL\\n\\nDependabot alerts cs/missed-readonly-modifier\\n\\nA private field where all assignm\", \"ents occur as part of the declaration or in a constructor in the same class can be readonly. Making \", \"a field readonly prevents unintended assignments after object initialization.\\n\\nCode scanning alerts\\n\", \"\\nCodeQL\\n\\n\\u2022 First appeared in commit 824b301 8 minutes ago\\n\\n-O-\\n\\nUpdate codeql-analysis.ym1\\n\\nSimpleFe\", \"edReader/obj/Debug/netcoreapp2.1/Razor/Pages/Index.cshtml.g.cs#L31 on branch master\\n\\n**figune 8.** O\", \"nen an alent.\\n\\nW Projects\\n\\nM Wiki\\n\\n\\u00a9 Security 2\\n\\nL Insights\\n\\n@ Settings\\n\\nGenerated\\n\\nFigure 7: View s\", \"ecurity alerts.\\n\\n<!-- image -->\\n\\n1. Select the first alert to open it.\\n2. In this case, the alert is\", \" for a generated file that isn't committed to the repository. For that reason, the preview is unavai\", \"lable.\\n3. Notice the tags that are applied. These tags can be used for filtering issues.\\n4. Select S\", \"how more under the rule information to show help and recommendations.\\n1. Selecting Dismiss will open\", \" options for dismissing this issue:\\n\\n**Figure 8:** Open an alert.\\n\\n<!-- image -->\\n\\nDismiss -\\n\\n\\u00a9 Watc\", \"h -\\n\\n0\\n\\nStar\\n\\n0\\n\\n+-\\n\\nY Fork\\n\\n92\\n\\nDismiss reason\\n\\nFalse positive\\n\\nThis alert is not valid\\n\\nUsed in te\", \"sts\\n\\nThis alert is not in production code\\n\\nWon't fix\\n\\nThis alert is not relevant\\n\\nNicmice an alant\\n\\n\", \"**igno o.**\\n\\nDismiss\\n\\n**Figure 9:** Dismiss an alert.\\n\\n<!-- image -->\\n\\nmywebapp21816\\n\\nApp Service\\n\\n\\u2022\", \" Search (Chri*/\\n\\nWweryew\\n\\nActivity log\\n\\nAccess control (LAM)\\n\\n\\u2022 Tags\\n\\n% Diagnose and solve problems \", \"d Quickstart\\n\\nment recentals idoo ment slots\\n\\ni@ Deployment options\\n\\n@6 Continuous Delivery (Preview\", \")\\n\\nSETTING\\n\\n-Applcation setting\\\"\\n\\nCauthenucabon l Authorzabon\\n\\nApplication Insights\\n\\nManaged service\", \" identity (Pr...\\n\\nCustom domain\\n\\nSSL settings\\n\\n+ Networking\\n\\nScale up (App Service plan)\\n\\nKa Scale o\", \"ut (App Service plan)\\n\\nWeblobs\\n\\nPuSh\\n\\nMysQL In App\\n\\nProperties\\n\\nLOCKE\\n\\n4, Browse\\n\\nStop\\n\\nResource gro\", \"up (change)\\n\\nAUrE IUCOTI\\n\\nStatus\\n\\nRunning\\n\\nLocaton\\n\\nCentra\\n\\nSubscription (change)\\n\\nV Uck\\n\\nSubscripti\", \"on ID\\n\\ndf118062-9277-4081-a559-888e4c82c4db\\n\\nDiagnose and solve problems\\n\\nDur sell-service diagnosti\", \"c and troubleshooting experience seps you isenbry and teiste illes wit yow wed aps\\n\\nHttp Sxx\\n\\n8\\n\\n243\", \".52 ml\\n\\nHaving deployed the app and built a DevOps pipeline, it's important to understand how to mon\", \"itor and troubleshoot the app.\\n\\nIn this section, you'll complete the following tasks:\\n\\n[!div class='\", \"checklist']\\n\\n- Find basic monitoring and troubleshooting data in the Azure portal\\n- Learn how Azure \", \"Monitor provides a deeper look at metrics across all Azure services\\n- Connect the web app with Appli\", \"cation Insights for app profiling\\n- Turn on logging and learn where to download logs\\n- Stream logs i\", \"n real time\\n- Learn where to set up alerts\\n- Learn about remote debugging Azure App Service web apps\", \".\\n\\n## Basic monitoring and troubleshooting\\n\\nApp Service web apps are easily monitored in real time. \", \"The Azure portal renders metrics in easy-tounderstand charts and graphs.\\n\\n1. Open the Azure portal, \", \"and then navigate to the mywebapp&lt;unique\\\\_number&gt; App Service.\\n2. The Overview tab displays us\", \"eful 'at -aglance' information, including graphs displaying recent metrics.\\n\\n<!-- image -->\\n\\n\\\", Swap\", \" O Restart\\n\\n#Delete\\n\\n* Get publich profie () Reves publich profile\\n\\nURL\\n\\nhttps://mywebapp21816.azure\", \"websites.net\\n\\nAgp Sempe dien Pring rid 1 Smalt camsoper\\n\\nGit/Deployment username\\n\\nGit clone url http\", \"s://camsoper@mywebapp21816.scm.azurewebsites.net443/mywebapp21816.git\\n\\nttp://waws-prod-dm1-089.ftp.a\", \"zurewebsites.windows.net\\n\\n*\\n\\nData Out (\\n\\n2x8\\n\\n1\\u043a0\\n\\n## Monitor and debug\\n\\nSO PM\\n\\nS45 M\\n\\nApplication I\", \"nsights\\n\\nData In\\n\\n*\\n\\n<!-- image -->\\n\\npage.\\n\\nnywebapp2181\\n\\nO Search (Ctri-/)\\n\\nOverview ectvity o9\\n\\nAc\", \"cess control (AMM\\n\\nDiagnose and solve problems\\n\\nDEPLOTMETET\\n\\nQuickstart\\n\\nDeployment credentiais\\n\\nDep\", \"loyment slots\\n\\n\\u2022\\u2022 Deployment options.\\n\\n( Continuous Delivery (Preview)\\n\\napoucation serro\\n\\nAuthentica\", \"tion / Authorization\\n\\nApplication Insights\\n\\nManaged service identity (Pr....\\n\\nCustom domains\\n\\nSSL se\", \"ttings\\n\\nNetworking\\n\\nScale up (App Service plan)\\n\\nscale out (App service plan, wehlohe\\n\\nPush\\n\\nMySQL I\", \"n App\\n\\nProperties\\n\\n0*9\\n\\n4 Browse\\n\\n\\u2022 Stor\\n\\nResource group Ghanad\\n\\nAzureTutorial\\n\\nStatus\\n\\nRunning\\n\\nLoc\", \"ation\\n\\nCentral US\\n\\nSubscription (change)\\n\\nSubscription ID\\n\\n*, Swap\\n\\nC Restart\\n\\n\\u2022 Delete &amp; Get pu\", \"blish profile () Reset publish profile https://mywebapp21816.azurewebsites.net\\n\\nApp Service plan/pri\", \"cing tier mywebapp21816 (Standard: 1 Small)\\n\\nGit/Deployment username\\n\\nGit clone uri https://camsoper\", \"@mywebapp21816.scm.azurewebsites.net:443/mywebapp21816.git\\n\\nFTP hostname htp:/waws-prod-dm1-0bs.ntp.\", \"azurewebsites.windows.net\\n\\n* **Http 5xx**: Count of server-side errors, usually exceptions in ASP.NE\", \"T Core code. Diaanose and solve problems.\\n* **Data In**: Data ingress coming into your web app.\\n* **\", \"Data Out**: Data egress from your web app to clients.\\n* **Requests**: Count of HTTP requests.\\n\\n460.\\n\", \"\\n360.\\n\\n* **Average Response Time**: Average time for the web app to respond to HTTP requests.\\n\\n5:30 \", \"PM\\n\\n5:45 PM\\n\\n5:15 PM\\n\\n21.19 kE\\n\\nDATA OUT\\n\\n17.57 k\\n\\nSeveral self-service tools for troubleshooting an\", \"d optimization are also found on this page. Average Response Time\\n\\n<!-- image -->\\n\\n* **Diagnose and \", \"solve problems** is a self-service troubleshooter.\\n* **Application Insights** is for profiling perfo\", \"rmance and app behavior, and is discussed later in this section.\\n* **App Service Advisor** makes rec\", \"ommendations to tune your app experience.\\n\\n## Advanced monitoring\\n\\nAzure Monitor is the centralized \", \"service for monitoring all metrics and setting alerts across Azure services. Within Azure Monitor, a\", \"dministrators can granularly track performance and identify trends. Each Azure service offers its ow\", \"n set of metrics to Azure Monitor.\\n\\n## Profile with Application Insights\\n\\nApplication Insights is an\", \" Azure service for analyzing the performance and stability of web apps and how users use them. The d\", \"ata from Application Insights is broader and deeper than that of Azure Monitor. The data can provide\", \" developers and administrators with key information for improving apps. Application Insights can be \", \"added to an Azure App Service resource without code changes.\\n\\n1. Open the Azure portal, and then nav\", \"igate to the mywebapp&lt;unique\\\\_number&gt; App Service.\\n2. From the Overview tab, click the Applica\", \"tion Insights tile.\\n\\n5:30 PM\\n\\n6 PM\\n\\n5:30 PM\\n\\n5:45 PM\\n\\n6 PM\\n\\nApplication Insights\\n\\nApplication Insigh\", \"ts\\n\\nApplication Insights helps you detect and diagnose quality mywebapp21816 Application Insights re\", \"source is connected Change\\n\\nApplication Insights helps you detect and diagnose quality issues in you\", \"r web apps and web services, and helps yo tually do with it.\\n\\nissues in your apps, and helps you und\", \"erstand what your\\n\\nTroubleshooting information\\n\\nGetting started with Application Insights monitoring\", \" users actually do with it.\\n\\nLink your application to Application Insights\\n\\n\\u2022 Select existing resour\", \"ce\\n\\nSearch....\\n\\n\\u2022 my-blog\\n\\n\\u2022 Create new resource\\n\\n* New resource name mywebapp21816\\n\\nInstrument your\", \" application\\n\\n* Runtime/Framework\\n\\nASP.NET Core\\n\\n<!-- image -->\\n\\n* Location\\n\\nEast US\\n\\n1. Select the \", \"Create new resource radio button. Use the default resource name, and select the location for the App\", \"lication Insights resource. The location doesn't need to match that of your web app.\\n\\nCode level dia\", \"gnostics\\n\\nIdentify code that slowed down your web app and debug runtime exceptions with local variab\", \"les v Advanced Settings\\n\\n<!-- image -->\\n\\n1. For Runtime/Framework , select ASP.NET Core . Accept the\", \" default settings.\\n2. Select OK . If prompted to confirm, select Continue .\\n3. After the resource ha\", \"s been created, click the name of Application Insights resource to navigate directly to the Applicat\", \"ion Insights page.\\n\\n<!-- image -->\\n\\nAs the app is used, data accumulates. Select Refresh to reload t\", \"he blade with new data.\\n\\nmywebapp21816\\n\\nApplication Insights - Last 24 hours (30 minute granularity)\", \" - ASP.NET web application\\n\\n\\u2022 Search (Ctrl+/)\\n\\nOverview\\n\\nActivity log iM Access control (IAM)\\n\\nTags\\n\", \"\\n% Diagnose and solve problems\\n\\nINVESTIGATE\\n\\n\\u2022 Application map\\n\\nSmart Detection\\n\\n1- Live Metrics Str\", \"eam\\n\\nMetrics Explorer\\n\\nMetrics (preview)\\n\\nSearch\\n\\nAvailability\\n\\nFailures\\n\\nPerformance\\n\\nServers\\n\\nBrow\", \"ser\\n\\nWorkbooks (preview)\\n\\nUSAGE (PREVIEW)\\n\\nM Users\\n\\nSessions\\n\\nEvents\\n\\n= Funnels\\n\\nBeg User Flows\\n\\nRet\", \"ention\\n\\nImpact\\n\\nCohorts\\n\\n\\u00ab\\n\\n~ Search ith Metrics Explorer\\n\\nTime range\\n\\n# Analytics\\n\\n\\u00a9 Refresh\\n\\nPleas\", \"e try new Overview before it becomes the default experience. \\u2192\\n\\n<!-- image -->\\n\\nApplication Insights\", \" provides useful server-side information with no additional configuration. To get the most value fro\", \"m Application Insights, instrument your app with the Application Insights SDK. When properly configu\", \"red, the service provides end-to-end monitoring across the web server and\\n\\nIls\\n\\n*\\n\\nX\\n\\n\\u2022\\u2022\\u2022 More\\n\\nMONI\", \"TORING\\n\\n\\u2022 Alerts (Classic)\\n\\n+\\n\\nbrowser, including client-side performance. For more information, see\", \" the Application Insights documentation.\\n\\nLog stream\\n\\n## Logging\\n\\nWeb server and app logs are disabl\", \"ed by default in Azure App Service. Enable the logs with the following steps:\\n\\n1. Open the Azure por\", \"tal, and navigate to the mywebapp&lt;unique\\\\_number&gt; App Service.\\n2. In the menu to the left, scr\", \"oll down to the Monitoring section. Select Diagnostics logs .\\n1. Turn on Application Logging (Filesy\", \"stem) . If prompted, click the box to install the extensions to enable app logging in the web app.\\n2\", \". Set Web server logging to File System .\\n3. Enter the Retention Period in days. For example, 30.\\n4.\", \" Click Save .\\n\\n<!-- image -->\\n\\nASP.NET Core and web server (App Service) logs are generated for the \", \"web app. They can be downloaded using the FTP/FTPS information displayed. The password is the same a\", \"s the deployment credentials created earlier in this guide. The logs can be streamed directly to you\", \"r local machine with PowerShell or Azure CLI. Logs can also be viewed in Application Insights.\\n\\n## L\", \"og streaming\\n\\nApp and web server logs can be streamed in real time through the portal.\\n\\n1. Open the \", \"Azure portal, and navigate to the mywebapp&lt;unique\\\\_number&gt; App Service.\\n2. In the menu to the \", \"left, scroll down to the Monitoring section and select Log stream .\\n\\nMONITORING\\n\\nMONITORING\\n\\nV Alert\", \"s (Classic)\\n\\nV Alerts (Classic)\\n\\nDiagnostics logs\\n\\nDiagnostics logs\\n\\nLog stream\\n\\nLog stream\\n\\nProcess\", \" explorer\\n\\nProcess explorer\\n\\n<!-- image -->\\n\\nLogs can also be streamed via Azure CLI or Azure PowerS\", \"hell, including through the Cloud Shell.\\n\\n## Alerts\\n\\nAzure Monitor also provides real time alerts ba\", \"sed on metrics, administrative events, and other criteria.\\n\\n<!-- image -->\\n\\nThe Alerts (classic) ser\", \"vice can be found in Azure Monitor or under the Monitoring section of the App Service settings.\\n\\n<!-\", \"- image -->\\n\\n## Live debugging\\n\\nAzure App Service can be debugged remotely with Visual Studio when l\", \"ogs don't provide enough information. However, remote debugging requires the app to be compiled with\", \" debug symbols. Debugging shouldn't be done in production, except as a last resort.\\n\\n## Conclusion\\n\\n\", \"In this section, you completed the following tasks:\\n\\n[!div class='checklist']\\n\\n- Find basic monitori\", \"ng and troubleshooting data in the Azure portal\\n- Learn how Azure Monitor provides a deeper look at \", \"metrics across all Azure services\\n- Connect the web app with Application Insights for app profiling\\n\", \"- Turn on logging and learn where to download logs\\n- Stream logs in real time\\n- Learn where to set u\", \"p alerts\\n- Learn about remote debugging Azure App Service web apps.\\n\\n## Additional reading\\n\\n| \\u2022   | \", \"Troubleshooting ASP.NET Core on Azure App Service and IIS                       |\\n|-----|-----------\", \"----------------------------------------------------------------------|\\n| \\u2022   | Common errors refere\", \"nce for Azure App Service and IIS with ASP.NET Core         |\\n| \\u2022   | Monitor Azure web app performa\", \"nce with Application Insights                     |\\n| \\u2022   | Enable diagnostics logging for web apps \", \"in Azure App Service                    |\\n| \\u2022   | Troubleshoot a web app in Azure App Service using \", \"Visual Studio                 |\\n| \\u2022   | Create classic metric alerts in Azure Monitor for Azure serv\", \"ices - Azure portal |\\n\\n## Next steps\\n\\nIn this guide, you created a DevOps pipeline for an ASP.NET Co\", \"re sample app. Congratulations! We hope you enjoyed learning to publish ASP.NET Core web apps to Azu\", \"re App Service and automate the continuous integration of changes.\\n\\nBeyond web hosting and DevOps, A\", \"zure has a wide array of Platform-as-a-Service (PaaS) services useful to ASP.NET Core developers. Th\", \"is section gives a brief overview of some of the most commonly used services.\\n\\n## Storage and databa\", \"ses\\n\\nRedis Cache is high-throughput, low-latency data caching available as a service. It can be used\", \" for caching page output, reducing database requests, and providing ASP.NET Core session state acros\", \"s multiple instances of an app.\\n\\nAzure Storage is Azure's massively scalable cloud storage. Develope\", \"rs can take advantage of Queue Storage for reliable message queuing, and Table Storage is a NoSQL ke\", \"y-value store designed for rapid development using massive, semi-structured data sets.\\n\\nAzure SQL Da\", \"tabase provides familiar relational database functionality as a service using the Microsoft SQL Serv\", \"er Engine.\\n\\nCosmos DB globally distributed, multi-model NoSQL database service. Multiple APIs are av\", \"ailable, including SQL API (formerly called DocumentDB), Cassandra, and MongoDB.\\n\\n## Identity\\n\\nAzure\", \" Active Directory and Azure Active Directory B2C are both identity services. Azure Active Directory \", \"is designed for enterprise scenarios and enables Azure AD B2B (business-to-business) collaboration, \", \"while Azure Active Directory B2C is intended business-to-customer scenarios, including social networ\", \"k sign-in.\\n\\n## Mobile\\n\\nNotification Hubs is a multi-platform, scalable push-notification engine to q\", \"uickly send millions of messages to apps running on various types of devices.\\n\\n## Web infrastructure\", \"\\n\\nAzure Container Service manages your hosted Kubernetes environment, making it quick and easy to de\", \"ploy and manage containerized apps without container orchestration expertise. Azure Search is used t\", \"o create an enterprise search solution over private, heterogenous content. Service Fabric is a distr\", \"ibuted systems platform that makes it easy to package, deploy, and manage\\n\\nscalable and reliable mic\", \"roservices and containers.\"]"