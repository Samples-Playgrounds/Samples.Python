,0
0,FROM mcr.microsoft.com/dotnet/aspnet:6.0 AS base
1,WORKDIR /app
2,EXPOSE 80
3,EXPOSE 443
4,
5,FROM mcr.microsoft.com/dotnet/sdk:6.0 AS build
6,WORKDIR /src
7,"COPY [""src/WebApi/WebApi.csproj"", ""src/WebApi/""]"
8,"RUN dotnet restore ""src/WebApi/WebApi.csproj"""
9,COPY . .
10,"WORKDIR ""/src/src/WebApi"""
11,"RUN dotnet build ""WebApi.csproj"" -c Release -o /app/build"
12,
13,FROM build AS publish
14,"RUN dotnet publish ""WebApi.csproj"" -c Release -o /app/publish"
15,
16,FROM base AS final
17,WORKDIR /app
18,COPY --from=publish /app/publish .
19,"ENTRYPOINT [""dotnet"", ""WebApi.dll""]"
