|    | @using Microsoft.AspNetCore.Authorization                               |
|---:|:------------------------------------------------------------------------|
|  0 | @inject IAuthorizationService AuthorizationService                      |
|  1 |                                                                         |
|  2 | <button @onclick="@DoSomething">Do something important</button>         |
|  3 |                                                                         |
|  4 | @code {                                                                 |
|  5 | [CascadingParameter]                                                    |
|  6 | private Task<AuthenticationState> authenticationStateTask { get; set; } |
|  7 |                                                                         |
|  8 | private async Task DoSomething()                                        |
|  9 | {                                                                       |
| 10 | var user = (await authenticationStateTask).User;                        |
| 11 |                                                                         |
| 12 | if (user.Identity.IsAuthenticated)                                      |
| 13 | {                                                                       |
| 14 | // Perform an action only available to authenticated (signed-in) users. |
| 15 | }                                                                       |
| 16 |                                                                         |
| 17 | if (user.IsInRole("admin"))                                             |
| 18 | {                                                                       |
| 19 | // Perform an action only available to users in the 'admin' role.       |
| 20 | }                                                                       |
| 21 |                                                                         |
| 22 | if ((await AuthorizationService.AuthorizeAsync(user, "content-editor")) |
| 23 | .Succeeded)                                                             |
| 24 | {                                                                       |
| 25 | // Perform an action only available to users satisfying the             |
| 26 | // 'content-editor' policy.                                             |
| 27 | }                                                                       |
| 28 | }                                                                       |
| 29 | }                                                                       |