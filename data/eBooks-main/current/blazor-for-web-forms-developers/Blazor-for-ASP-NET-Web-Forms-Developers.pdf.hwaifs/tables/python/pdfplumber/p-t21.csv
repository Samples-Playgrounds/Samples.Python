,0
0,using BlazorApp3.Areas.Identity;
1,using BlazorApp3.Data;
2,using Microsoft.AspNetCore.Components.Authorization;
3,using Microsoft.AspNetCore.Identity;
4,using Microsoft.EntityFrameworkCore;
5,
6,var builder = WebApplication.CreateBuilder(args);
7,
8,// Add services to the container.
9,"var connectionString = builder.Configuration.GetConnectionString(""DefaultConnection"");"
10,builder.Services.AddDbContext<ApplicationDbContext>(options =>
11,options.UseSqlServer(connectionString));
12,builder.Services.AddDatabaseDeveloperPageExceptionFilter();
13,builder.Services.AddDefaultIdentity<IdentityUser>(options =>
14,options.SignIn.RequireConfirmedAccount = true)
15,.AddEntityFrameworkStores<ApplicationDbContext>();
16,builder.Services.AddRazorPages();
17,builder.Services.AddServerSideBlazor();
18,"builder.Services.AddScoped<AuthenticationStateProvider,"
19,RevalidatingIdentityAuthenticationStateProvider<IdentityUser>>();
20,builder.Services.AddSingleton<WeatherForecastService>();
21,
22,var app = builder.Build();
23,
24,// Configure the HTTP request pipeline.
