,"public class GetMyOrdersHandler : IRequestHandler<GetMyOrders, IEnumerable<OrderViewModel>>"
0,{
1,private readonly IOrderRepository _orderRepository;
2,public GetMyOrdersHandler(IOrderRepository orderRepository)
3,{
4,_orderRepository = orderRepository;
5,}
6,
7,"public async Task<IEnumerable<OrderViewModel>> Handle(GetMyOrders request,"
8,CancellationToken cancellationToken)
9,{
10,var specification = new CustomerOrdersWithItemsSpecification(request.UserName);
11,var orders = await _orderRepository.ListAsync(specification);
12,return orders.Select(o => new OrderViewModel
13,{
14,"OrderDate = o.OrderDate,"
15,OrderItems = o.OrderItems?.Select(oi => new OrderItemViewModel()
16,{
17,"PictureUrl = oi.ItemOrdered.PictureUri,"
18,"ProductId = oi.ItemOrdered.CatalogItemId,"
19,"ProductName = oi.ItemOrdered.ProductName,"
20,"UnitPrice = oi.UnitPrice,"
21,Units = oi.Units
