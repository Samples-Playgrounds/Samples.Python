// ... app.UseMvc(routes => { routes.Routes.Add( new CustomRouter(routes.DefaultHandler)); });