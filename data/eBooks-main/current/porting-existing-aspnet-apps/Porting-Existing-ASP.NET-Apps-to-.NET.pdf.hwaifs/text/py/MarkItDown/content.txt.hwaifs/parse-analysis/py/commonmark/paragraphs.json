[
    "PUBLISHED BY",
    "PUBLISHED BY",
    "Microsoft Developer Division, .NET, and Visual Studio product teams",
    "Microsoft Developer Division, .NET, and Visual Studio product teams",
    "A division of Microsoft Corporation",
    "A division of Microsoft Corporation",
    "One Microsoft Way",
    "One Microsoft Way",
    "Redmond, Washington 98052-6399",
    "Redmond, Washington 98052-6399",
    "Copyright \u00a9 2023 by Microsoft Corporation",
    "Copyright \u00a9 2023 by Microsoft Corporation",
    "All rights reserved. No part of this book\u2019s contents may be reproduced or transmitted in any form or",
    "All rights reserved. No part of this book\u2019s contents may be reproduced or transmitted in any form or",
    "This book is provided \u201cas-is\u201d and expresses the author\u2019s views and opinions. The views, opinions, and",
    "This book is provided \u201cas-is\u201d and expresses the author\u2019s views and opinions. The views, opinions, and",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association",
    "Microsoft and the trademarks listed at https://www.microsoft.com on the \u201cTrademarks\u201d webpage are",
    "Microsoft and the trademarks listed at https://www.microsoft.com on the \u201cTrademarks\u201d webpage are",
    "Mac and macOS are trademarks of Apple Inc.",
    "Mac and macOS are trademarks of Apple Inc.",
    "The Docker whale logo is a registered trademark of Docker, Inc. Used by permission.",
    "The Docker whale logo is a registered trademark of Docker, Inc. Used by permission.",
    "All other marks and logos are property of their respective owners.",
    "All other marks and logos are property of their respective owners.",
    "Authors:",
    "Authors:",
    "Steve \u201cardalis\u201d Smith, Software Architect and Trainer - Ardalis.com",
    "Steve \u201cardalis\u201d Smith, Software Architect and Trainer - Ardalis.com",
    "Participants and Reviewers:",
    "Participants and Reviewers:",
    "Nish Anil, Senior Program Manager, .NET team, Microsoft",
    "Nish Anil, Senior Program Manager, .NET team, Microsoft",
    "Mike Rousos, Principal Software Engineer, .NET team, Microsoft",
    "Mike Rousos, Principal Software Engineer, .NET team, Microsoft",
    "Scott Addie, Senior Content Developer, .NET team, Microsoft",
    "Scott Addie, Senior Content Developer, .NET team, Microsoft",
    "David Pine, Senior Content Developer, .NET team, Microsoft",
    "David Pine, Senior Content Developer, .NET team, Microsoft",
    "Version",
    "Version",
    "This guide covers .NET 7 and updates related to the same technology \u201cwave\u201d (that is, Azure and other",
    "This guide covers .NET 7 and updates related to the same technology \u201cwave\u201d (that is, Azure and other",
    "Who should use this guide",
    "Who should use this guide",
    "This guide\u2019s audience is developers, development leads, and architects who are interested in",
    "This guide\u2019s audience is developers, development leads, and architects who are interested in",
    ".NET version. ASP.NET Web Forms developers will benefit from this guide but should also read the",
    ".NET version. ASP.NET Web Forms developers will benefit from this guide but should also read the",
    "A secondary audience is technical decision-makers planning when to move their apps to .NET 7.",
    "A secondary audience is technical decision-makers planning when to move their apps to .NET 7.",
    "The target audience for this book is .NET developers with large, existing apps that run on ASP.NET",
    "The target audience for this book is .NET developers with large, existing apps that run on ASP.NET",
    "How you can use this guide",
    "How you can use this guide",
    "You can read this book straight through, as we expect many readers to do. This book will provide you",
    "You can read this book straight through, as we expect many readers to do. This book will provide you",
    "Whether or not you choose to start from the first chapter, you can reference any of these chapters to",
    "Whether or not you choose to start from the first chapter, you can reference any of these chapters to",
    "\u2022",
    "\u2022",
    "Architectural differences",
    "Architectural differences",
    "\u2022  Migrate large solutions",
    "\u2022  Migrate large solutions",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Sample migration",
    "Sample migration",
    "Deployment scenarios",
    "Deployment scenarios",
    "This guide is available both in PDF form and online. Feel free to forward this document or links to its",
    "This guide is available both in PDF form and online. Feel free to forward this document or links to its",
    "Contents",
    "Contents",
    "Introduction to porting apps to .NET 7 ................................................................................ 1",
    "Introduction to porting apps to .NET 7 ................................................................................ 1",
    "References .................................................................................................................................................................................. 2",
    "References .................................................................................................................................................................................. 2",
    "Migration considerations ...................................................................................................................................................... 2",
    "Migration considerations ...................................................................................................................................................... 2",
    "Is migration to .NET Core appropriate? ..................................................................................................................... 2",
    "Is migration to .NET Core appropriate? ..................................................................................................................... 2",
    "When is .NET Framework appropriate? ...................................................................................................................... 3",
    "When is .NET Framework appropriate? ...................................................................................................................... 3",
    "References .............................................................................................................................................................................. 4",
    "References .............................................................................................................................................................................. 4",
    "Migrate to ASP.NET Core 2.1 .............................................................................................................................................. 4",
    "Migrate to ASP.NET Core 2.1 .............................................................................................................................................. 4",
    "Should apps run on .NET Framework with ASP.NET Core 2.1 ........................................................................... 4",
    "Should apps run on .NET Framework with ASP.NET Core 2.1 ........................................................................... 4",
    "References .............................................................................................................................................................................. 5",
    "References .............................................................................................................................................................................. 5",
    "Choose the right .NET Core version ................................................................................................................................. 5",
    "Choose the right .NET Core version ................................................................................................................................. 5",
    "References .............................................................................................................................................................................. 5",
    "References .............................................................................................................................................................................. 5",
    "Strategies for migrating incrementally ............................................................................................................................ 6",
    "Strategies for migrating incrementally ............................................................................................................................ 6",
    "Migrating slice by slice ...................................................................................................................................................... 6",
    "Migrating slice by slice ...................................................................................................................................................... 6",
    "Migrating layer by layer .................................................................................................................................................... 6",
    "Migrating layer by layer .................................................................................................................................................... 6",
    "References .............................................................................................................................................................................. 7",
    "References .............................................................................................................................................................................. 7",
    "Strategies for migrating ASP.NET Web Forms apps .................................................................................................. 7",
    "Strategies for migrating ASP.NET Web Forms apps .................................................................................................. 7",
    "Separate business logic and other concerns............................................................................................................ 7",
    "Separate business logic and other concerns............................................................................................................ 7",
    "Implement client behavior and web APIs .................................................................................................................. 8",
    "Implement client behavior and web APIs .................................................................................................................. 8",
    "Consider Blazor .................................................................................................................................................................... 8",
    "Consider Blazor .................................................................................................................................................................... 8",
    "Summary ................................................................................................................................................................................. 8",
    "Summary ................................................................................................................................................................................. 8",
    "References .............................................................................................................................................................................. 8",
    "References .............................................................................................................................................................................. 8",
    "Deployment strategies ........................................................................................................................................................... 8",
    "Deployment strategies ........................................................................................................................................................... 8",
    "Cross-platform options ..................................................................................................................................................... 8",
    "Cross-platform options ..................................................................................................................................................... 8",
    "Cloud native development .............................................................................................................................................. 9",
    "Cloud native development .............................................................................................................................................. 9",
    "Leverage containers ........................................................................................................................................................... 9",
    "Leverage containers ........................................................................................................................................................... 9",
    "Side-by-side deployment options ................................................................................................................................ 9",
    "Side-by-side deployment options ................................................................................................................................ 9",
    "IIS on Windows .................................................................................................................................................................... 9",
    "IIS on Windows .................................................................................................................................................................... 9",
    "Other options on Windows ............................................................................................................................................. 9",
    "Other options on Windows ............................................................................................................................................. 9",
    "i",
    "i",
    "Contents",
    "Contents",
    "References .............................................................................................................................................................................. 9",
    "References .............................................................................................................................................................................. 9",
    "Additional migration resources ....................................................................................................................................... 10",
    "Additional migration resources ....................................................................................................................................... 10",
    "Official documentation .................................................................................................................................................. 10",
    "Official documentation .................................................................................................................................................. 10",
    "GitHub .................................................................................................................................................................................. 10",
    "GitHub .................................................................................................................................................................................. 10",
    "Stack Overflow .................................................................................................................................................................. 11",
    "Stack Overflow .................................................................................................................................................................. 11",
    "YouTube channels ............................................................................................................................................................ 11",
    "YouTube channels ............................................................................................................................................................ 11",
    "Twitter, Gitter, Slack, and other community channels ....................................................................................... 11",
    "Twitter, Gitter, Slack, and other community channels ....................................................................................... 11",
    "References ........................................................................................................................................................................... 11",
    "References ........................................................................................................................................................................... 11",
    "Architectural differences between ASP.NET MVC and ASP.NET Core ............................................... 12",
    "Architectural differences between ASP.NET MVC and ASP.NET Core ............................................... 12",
    "Breaking changes .................................................................................................................................................................. 12",
    "Breaking changes .................................................................................................................................................................. 12",
    "App startup differences between ASP.NET MVC and ASP.NET Core ............................................................... 12",
    "App startup differences between ASP.NET MVC and ASP.NET Core ............................................................... 12",
    "ASP.NET MVC Startup .................................................................................................................................................... 13",
    "ASP.NET MVC Startup .................................................................................................................................................... 13",
    "ASP.NET Core Startup ..................................................................................................................................................... 13",
    "ASP.NET Core Startup ..................................................................................................................................................... 13",
    "Porting considerations ................................................................................................................................................... 14",
    "Porting considerations ................................................................................................................................................... 14",
    "References ........................................................................................................................................................................... 14",
    "References ........................................................................................................................................................................... 14",
    "Hosting differences between ASP.NET MVC and ASP.NET Core ....................................................................... 14",
    "Hosting differences between ASP.NET MVC and ASP.NET Core ....................................................................... 14",
    "References ........................................................................................................................................................................... 15",
    "References ........................................................................................................................................................................... 15",
    "Serve static files in ASP.NET MVC and ASP.NET Core ............................................................................................ 15",
    "Serve static files in ASP.NET MVC and ASP.NET Core ............................................................................................ 15",
    "Host static files in ASP.NET MVC ............................................................................................................................... 15",
    "Host static files in ASP.NET MVC ............................................................................................................................... 15",
    "Host static files in ASP.NET Core ................................................................................................................................ 15",
    "Host static files in ASP.NET Core ................................................................................................................................ 15",
    "References ........................................................................................................................................................................... 16",
    "References ........................................................................................................................................................................... 16",
    "Dependency injection differences between ASP.NET MVC and ASP.NET Core ........................................... 16",
    "Dependency injection differences between ASP.NET MVC and ASP.NET Core ........................................... 16",
    "Dependency injection in ASP.NET Core .................................................................................................................. 16",
    "Dependency injection in ASP.NET Core .................................................................................................................. 16",
    "References ........................................................................................................................................................................... 17",
    "References ........................................................................................................................................................................... 17",
    "Compare middleware to modules and handlers ...................................................................................................... 17",
    "Compare middleware to modules and handlers ...................................................................................................... 17",
    "ASP.NET modules and handlers ................................................................................................................................. 17",
    "ASP.NET modules and handlers ................................................................................................................................. 17",
    "ASP.NET Core middleware ............................................................................................................................................ 17",
    "ASP.NET Core middleware ............................................................................................................................................ 17",
    "Accessing HttpContext................................................................................................................................................... 17",
    "Accessing HttpContext................................................................................................................................................... 17",
    "References ........................................................................................................................................................................... 18",
    "References ........................................................................................................................................................................... 18",
    "Configuration differences between ASP.NET MVC and ASP.NET Core ........................................................... 18",
    "Configuration differences between ASP.NET MVC and ASP.NET Core ........................................................... 18",
    "ASP.NET MVC configuration ........................................................................................................................................ 19",
    "ASP.NET MVC configuration ........................................................................................................................................ 19",
    "ASP.NET Core configuration ........................................................................................................................................ 19",
    "ASP.NET Core configuration ........................................................................................................................................ 19",
    "ii",
    "ii",
    "Contents",
    "Contents",
    "Migrate configuration .................................................................................................................................................... 20",
    "Migrate configuration .................................................................................................................................................... 20",
    "References ........................................................................................................................................................................... 21",
    "References ........................................................................................................................................................................... 21",
    "Routing differences between ASP.NET MVC and ASP.NET Core ....................................................................... 21",
    "Routing differences between ASP.NET MVC and ASP.NET Core ....................................................................... 21",
    "Routing in ASP.NET MVC and Web API .................................................................................................................. 21",
    "Routing in ASP.NET MVC and Web API .................................................................................................................. 21",
    "Route table ......................................................................................................................................................................... 21",
    "Route table ......................................................................................................................................................................... 21",
    "Routing in .NET 7 ............................................................................................................................................................. 23",
    "Routing in .NET 7 ............................................................................................................................................................. 23",
    "References ........................................................................................................................................................................... 24",
    "References ........................................................................................................................................................................... 24",
    "Logging differences between ASP.NET MVC and ASP.NET Core ...................................................................... 25",
    "Logging differences between ASP.NET MVC and ASP.NET Core ...................................................................... 25",
    "ASP.NET MVC logging ................................................................................................................................................... 25",
    "ASP.NET MVC logging ................................................................................................................................................... 25",
    "ASP.NET Core logging .................................................................................................................................................... 25",
    "ASP.NET Core logging .................................................................................................................................................... 25",
    "Migrate logging ................................................................................................................................................................ 26",
    "Migrate logging ................................................................................................................................................................ 26",
    "References ........................................................................................................................................................................... 26",
    "References ........................................................................................................................................................................... 26",
    "Compare Razor Pages to ASP.NET MVC ...................................................................................................................... 26",
    "Compare Razor Pages to ASP.NET MVC ...................................................................................................................... 26",
    "References ........................................................................................................................................................................... 27",
    "References ........................................................................................................................................................................... 27",
    "Compare ASP.NET Web API 2 and ASP.NET Core ................................................................................................... 27",
    "Compare ASP.NET Web API 2 and ASP.NET Core ................................................................................................... 27",
    "References ........................................................................................................................................................................... 27",
    "References ........................................................................................................................................................................... 27",
    "Compare authentication and authorization between ASP.NET MVC and ASP.NET Core ........................ 27",
    "Compare authentication and authorization between ASP.NET MVC and ASP.NET Core ........................ 27",
    "Authorization ..................................................................................................................................................................... 28",
    "Authorization ..................................................................................................................................................................... 28",
    "References ........................................................................................................................................................................... 28",
    "References ........................................................................................................................................................................... 28",
    "Compare ASP.NET Identity and ASP.NET Core Identity ........................................................................................ 28",
    "Compare ASP.NET Identity and ASP.NET Core Identity ........................................................................................ 28",
    "Migrate from OWIN / Katana ...................................................................................................................................... 29",
    "Migrate from OWIN / Katana ...................................................................................................................................... 29",
    "References ........................................................................................................................................................................... 29",
    "References ........................................................................................................................................................................... 29",
    "Compare controllers in ASP.NET MVC and Web API with controllers in ASP.NET Core .......................... 29",
    "Compare controllers in ASP.NET MVC and Web API with controllers in ASP.NET Core .......................... 29",
    "References ........................................................................................................................................................................... 30",
    "References ........................................................................................................................................................................... 30",
    "Compare Razor usage in ASP.NET MVC and ASP.NET Core ................................................................................ 30",
    "Compare Razor usage in ASP.NET MVC and ASP.NET Core ................................................................................ 30",
    "Tag Helpers ......................................................................................................................................................................... 30",
    "Tag Helpers ......................................................................................................................................................................... 30",
    "Razor Pages ........................................................................................................................................................................ 30",
    "Razor Pages ........................................................................................................................................................................ 30",
    "References ........................................................................................................................................................................... 31",
    "References ........................................................................................................................................................................... 31",
    "Compare ASP.NET SignalR and ASP.NET Core SignalR ......................................................................................... 31",
    "Compare ASP.NET SignalR and ASP.NET Core SignalR ......................................................................................... 31",
    "Feature differences .......................................................................................................................................................... 31",
    "Feature differences .......................................................................................................................................................... 31",
    "References ........................................................................................................................................................................... 31",
    "References ........................................................................................................................................................................... 31",
    "Compare testing options between ASP.NET MVC and ASP.NET Core ............................................................ 32",
    "Compare testing options between ASP.NET MVC and ASP.NET Core ............................................................ 32",
    "iii",
    "iii",
    "Contents",
    "Contents",
    "References ........................................................................................................................................................................... 32",
    "References ........................................................................................................................................................................... 32",
    "Migrate large solutions to ASP.NET Core ..................................................................................................... 33",
    "Migrate large solutions to ASP.NET Core ..................................................................................................... 33",
    "References ............................................................................................................................................................................... 33",
    "References ............................................................................................................................................................................... 33",
    "Identify sequence of projects to migrate .................................................................................................................... 33",
    "Identify sequence of projects to migrate .................................................................................................................... 33",
    "Unit tests .............................................................................................................................................................................. 37",
    "Unit tests .............................................................................................................................................................................. 37",
    "Considerations for migrating many apps ............................................................................................................... 37",
    "Considerations for migrating many apps ............................................................................................................... 37",
    "Summary .............................................................................................................................................................................. 38",
    "Summary .............................................................................................................................................................................. 38",
    "References ........................................................................................................................................................................... 38",
    "References ........................................................................................................................................................................... 38",
    "Understand and update dependencies ........................................................................................................................ 38",
    "Understand and update dependencies ........................................................................................................................ 38",
    "Update class library dependencies............................................................................................................................ 38",
    "Update class library dependencies............................................................................................................................ 38",
    "Update NuGet package dependencies.................................................................................................................... 39",
    "Update NuGet package dependencies.................................................................................................................... 39",
    "Migrate ASP.NET MVC projects .................................................................................................................................. 40",
    "Migrate ASP.NET MVC projects .................................................................................................................................. 40",
    "References ........................................................................................................................................................................... 40",
    "References ........................................................................................................................................................................... 40",
    "Strategies for migrating while running in production ........................................................................................... 40",
    "Strategies for migrating while running in production ........................................................................................... 40",
    "Refactor the .NET Framework solution .................................................................................................................... 40",
    "Refactor the .NET Framework solution .................................................................................................................... 40",
    "Extract front-end assets to a CDN ............................................................................................................................. 41",
    "Extract front-end assets to a CDN ............................................................................................................................. 41",
    "Extract and migrate individual microservices ....................................................................................................... 41",
    "Extract and migrate individual microservices ....................................................................................................... 41",
    "Deploy multiple versions of the app side-by-side in IIS ................................................................................... 41",
    "Deploy multiple versions of the app side-by-side in IIS ................................................................................... 41",
    "Apply the Strangler pattern ......................................................................................................................................... 41",
    "Apply the Strangler pattern ......................................................................................................................................... 41",
    "Multi-targeting approaches ......................................................................................................................................... 42",
    "Multi-targeting approaches ......................................................................................................................................... 42",
    "Summary .............................................................................................................................................................................. 42",
    "Summary .............................................................................................................................................................................. 42",
    "References ........................................................................................................................................................................... 42",
    "References ........................................................................................................................................................................... 42",
    "Example migration of eShop to ASP.NET Core .......................................................................................... 43",
    "Example migration of eShop to ASP.NET Core .......................................................................................... 43",
    "Run ApiPort to identify problematic APIs.................................................................................................................... 44",
    "Run ApiPort to identify problematic APIs.................................................................................................................... 44",
    "Update project files and NuGet reference syntax .................................................................................................... 47",
    "Update project files and NuGet reference syntax .................................................................................................... 47",
    "Create new ASP.NET Core project .................................................................................................................................. 49",
    "Create new ASP.NET Core project .................................................................................................................................. 49",
    "Migrating NuGet Packages .......................................................................................................................................... 51",
    "Migrating NuGet Packages .......................................................................................................................................... 51",
    "Migrate static files ............................................................................................................................................................ 53",
    "Migrate static files ............................................................................................................................................................ 53",
    "Migrate C# files ................................................................................................................................................................. 54",
    "Migrate C# files ................................................................................................................................................................. 54",
    "Migrate views ......................................................................................................................................................................... 56",
    "Migrate views ......................................................................................................................................................................... 56",
    "Migrate app startup components .................................................................................................................................. 58",
    "Migrate app startup components .................................................................................................................................. 58",
    "Configure MVC .................................................................................................................................................................. 58",
    "Configure MVC .................................................................................................................................................................. 58",
    "iv",
    "iv",
    "Contents",
    "Contents",
    "Data access considerations ............................................................................................................................................... 63",
    "Data access considerations ............................................................................................................................................... 63",
    "Migrate to Entity Framework Core ............................................................................................................................ 64",
    "Migrate to Entity Framework Core ............................................................................................................................ 64",
    "Fix all TODO tasks ................................................................................................................................................................. 67",
    "Fix all TODO tasks ................................................................................................................................................................. 67",
    "Additional MVC customizations ...................................................................................................................................... 68",
    "Additional MVC customizations ...................................................................................................................................... 68",
    "Other dependencies ............................................................................................................................................................ 69",
    "Other dependencies ............................................................................................................................................................ 69",
    "References ............................................................................................................................................................................... 69",
    "References ............................................................................................................................................................................... 69",
    "More migration scenarios ................................................................................................................................................. 69",
    "More migration scenarios ................................................................................................................................................. 69",
    "Migrate ASP.NET MVC 5 and WebApi 2 to ASP.NET Core MVC ................................................................... 69",
    "Migrate ASP.NET MVC 5 and WebApi 2 to ASP.NET Core MVC ................................................................... 69",
    "Migrate HttpResponseMessage to ASP.NET Core .............................................................................................. 70",
    "Migrate HttpResponseMessage to ASP.NET Core .............................................................................................. 70",
    "Migrate content negotiation from ASP.NET Web API to ASP.NET Core .................................................... 71",
    "Migrate content negotiation from ASP.NET Web API to ASP.NET Core .................................................... 71",
    "Custom model binding .................................................................................................................................................. 71",
    "Custom model binding .................................................................................................................................................. 71",
    "Media formatters .............................................................................................................................................................. 73",
    "Media formatters .............................................................................................................................................................. 73",
    "Custom filters ..................................................................................................................................................................... 73",
    "Custom filters ..................................................................................................................................................................... 73",
    "Route constraints ............................................................................................................................................................. 74",
    "Route constraints ............................................................................................................................................................. 74",
    "Custom route handlers .................................................................................................................................................. 75",
    "Custom route handlers .................................................................................................................................................. 75",
    "CORS support .................................................................................................................................................................... 76",
    "CORS support .................................................................................................................................................................... 76",
    "Custom areas ..................................................................................................................................................................... 77",
    "Custom areas ..................................................................................................................................................................... 77",
    "Integration tests for ASP.NET MVC and ASP.NET Web API............................................................................. 78",
    "Integration tests for ASP.NET MVC and ASP.NET Web API............................................................................. 78",
    "WCF client configuration ............................................................................................................................................... 80",
    "WCF client configuration ............................................................................................................................................... 80",
    "References ........................................................................................................................................................................... 80",
    "References ........................................................................................................................................................................... 80",
    "Deployment scenarios when migrating to ASP.NET Core ..................................................................... 81",
    "Deployment scenarios when migrating to ASP.NET Core ..................................................................... 81",
    "Split a large web app ........................................................................................................................................................... 81",
    "Split a large web app ........................................................................................................................................................... 81",
    "Summary .................................................................................................................................................................................. 84",
    "Summary .................................................................................................................................................................................. 84",
    "References ............................................................................................................................................................................... 85",
    "References ............................................................................................................................................................................... 85",
    "Summary: Port existing ASP.NET Apps to .NET 7 ...................................................................................... 86",
    "Summary: Port existing ASP.NET Apps to .NET 7 ...................................................................................... 86",
    "v",
    "v",
    "Contents",
    "Contents",
    "CHAPTER  1",
    "CHAPTER  1",
    "Introduction to porting",
    "Introduction to porting",
    ".NET Core and its latest version, .NET 7, represent a revolutionary step forward from .NET Framework.",
    ".NET Core and its latest version, .NET 7, represent a revolutionary step forward from .NET Framework.",
    "Even before .NET 7 shipped, Microsoft was clear: .NET Core is the Future of .NET. To quote this article:",
    "Even before .NET 7 shipped, Microsoft was clear: .NET Core is the Future of .NET. To quote this article:",
    "New apps should be built on .NET Core. .NET Core is where future investments in .NET will happen.",
    "New apps should be built on .NET Core. .NET Core is where future investments in .NET will happen.",
    "Today, .NET 7 is what new apps should target, and if you\u2019re migrating an existing app from .NET",
    "Today, .NET 7 is what new apps should target, and if you\u2019re migrating an existing app from .NET",
    "However, upgrading your app to ASP.NET Core will require some effort. That effort should be",
    "However, upgrading your app to ASP.NET Core will require some effort. That effort should be",
    "\u2022",
    "\u2022",
    "Is migration to .NET 7 appropriate?",
    "Is migration to .NET 7 appropriate?",
    "\u2022  When does it make sense to remain on .NET Framework?",
    "\u2022  When does it make sense to remain on .NET Framework?",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Should apps target ASP.NET Core 2.1 as a stepping stone?",
    "Should apps target ASP.NET Core 2.1 as a stepping stone?",
    "How should teams choose the right .NET version to target?",
    "How should teams choose the right .NET version to target?",
    "\u2022  What strategies are recommended for incremental migration of large apps?",
    "\u2022  What strategies are recommended for incremental migration of large apps?",
    "\u2022  What deployment strategies should be considered when porting to .NET 7?",
    "\u2022  What deployment strategies should be considered when porting to .NET 7?",
    "\u2022  Where can we find additional resources?",
    "\u2022  Where can we find additional resources?",
    "This introductory chapter addresses all of these questions and more before moving on to more",
    "This introductory chapter addresses all of these questions and more before moving on to more",
    "1",
    "1",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "2021 Stack Overflow developer survey most loved web frameworks",
    "2021 Stack Overflow developer survey most loved web frameworks",
    ".NET Core is the Future of .NET",
    ".NET Core is the Future of .NET",
    "Migration considerations",
    "Migration considerations",
    "The most fundamental question teams must answer when it comes to porting their apps to .NET Core",
    "The most fundamental question teams must answer when it comes to porting their apps to .NET Core",
    "Is migration to .NET Core appropriate?",
    "Is migration to .NET Core appropriate?",
    "Let\u2019s start with some of the reasons why you might want to move to .NET Core/.NET 7. There are quite",
    "Let\u2019s start with some of the reasons why you might want to move to .NET Core/.NET 7. There are quite",
    "Cross-platform support",
    "Cross-platform support",
    "Apps built on .NET Core are truly cross-platform and can run on Windows, Linux, and macOS. Not only",
    "Apps built on .NET Core are truly cross-platform and can run on Windows, Linux, and macOS. Not only",
    "Performance and scalability",
    "Performance and scalability",
    "Apps built with .NET Core are running on one of the fastest tech stacks available anywhere. ASP.NET",
    "Apps built with .NET Core are running on one of the fastest tech stacks available anywhere. ASP.NET",
    "Cloud-native",
    "Cloud-native",
    "For the above reasons and others, .NET Core apps are well-suited to running in cloud hosting",
    "For the above reasons and others, .NET Core apps are well-suited to running in cloud hosting",
    "Maintainable",
    "Maintainable",
    "For many apps, while they\u2019ve continued to meet customer and business needs, technical debt has",
    "For many apps, while they\u2019ve continued to meet customer and business needs, technical debt has",
    "Modular",
    "Modular",
    "ASP.NET Core is modular, using NuGet packages as a first-class part of the framework. Apps built for",
    "ASP.NET Core is modular, using NuGet packages as a first-class part of the framework. Apps built for",
    "2",
    "2",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "than with ASP.NET MVC with its dependency on IIS, which opens up additional options to break up",
    "than with ASP.NET MVC with its dependency on IIS, which opens up additional options to break up",
    "Modern",
    "Modern",
    "Staying on a modern, actively developed technology stack has a host of advantages. New features",
    "Staying on a modern, actively developed technology stack has a host of advantages. New features",
    "There are many compelling reasons to consider migrating to .NET Core, which presumably is why",
    "There are many compelling reasons to consider migrating to .NET Core, which presumably is why",
    "When is .NET Framework appropriate?",
    "When is .NET Framework appropriate?",
    "The biggest reason to stay on .NET Framework is when an app isn\u2019t under active development and",
    "The biggest reason to stay on .NET Framework is when an app isn\u2019t under active development and",
    "Application domains",
    "Application domains",
    "Application domains (AppDomains) isolate apps from one another. AppDomains require runtime",
    "Application domains (AppDomains) isolate apps from one another. AppDomains require runtime",
    "WCF",
    "WCF",
    ".NET Core and .NET 5+ support WCF clients. Server-side WCF is possible through CoreWCF, which is",
    ".NET Core and .NET 5+ support WCF clients. Server-side WCF is possible through CoreWCF, which is",
    "There is a WCF client port available from the .NET Foundation. It\u2019s entirely open source, cross",
    "There is a WCF client port available from the .NET Foundation. It\u2019s entirely open source, cross",
    "To learn more about migrating from WCF to gRPC, consult the gRPC for WCF Developers ebook.",
    "To learn more about migrating from WCF to gRPC, consult the gRPC for WCF Developers ebook.",
    "3",
    "3",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "Remoting",
    "Remoting",
    ".NET Remoting was identified as a problematic architecture. It\u2019s used for cross-AppDomain",
    ".NET Remoting was identified as a problematic architecture. It\u2019s used for cross-AppDomain",
    "Code Access Security (CAS) and Security Transparency",
    "Code Access Security (CAS) and Security Transparency",
    "Neither of these technologies are supported by .NET Core. Instead, the recommendation is to use",
    "Neither of these technologies are supported by .NET Core. Instead, the recommendation is to use",
    "References",
    "References",
    ".NET Framework Technologies Unavailable on .NET Core",
    ".NET Framework Technologies Unavailable on .NET Core",
    "Migrate to ASP.NET Core 2.1",
    "Migrate to ASP.NET Core 2.1",
    "ASP.NET Core 2.1 is an interesting release because it\u2019s the most recently supported ASP.NET Core",
    "ASP.NET Core 2.1 is an interesting release because it\u2019s the most recently supported ASP.NET Core",
    "Should apps run on .NET Framework with ASP.NET Core 2.1",
    "Should apps run on .NET Framework with ASP.NET Core 2.1",
    "ASP.NET Core 2.2 and earlier supported both .NET Core and .NET Framework runtimes. Does it make",
    "ASP.NET Core 2.2 and earlier supported both .NET Core and .NET Framework runtimes. Does it make",
    "The main benefit of porting just the front-end web layer to ASP.NET Core 2.1 is that the existing .NET",
    "The main benefit of porting just the front-end web layer to ASP.NET Core 2.1 is that the existing .NET",
    "If you have an existing app that may use this strategy, some things you can do today to help prepare",
    "If you have an existing app that may use this strategy, some things you can do today to help prepare",
    "4",
    "4",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "test coverage of your system, so that you can verify behavior remains consistent before and after the",
    "test coverage of your system, so that you can verify behavior remains consistent before and after the",
    "If your app is so large that you can\u2019t migrate the entire web app at once, and you need to be able to",
    "If your app is so large that you can\u2019t migrate the entire web app at once, and you need to be able to",
    "Keep in mind that ASP.NET Core 2.1 was the last LTS release of .NET Core that supported running on",
    "Keep in mind that ASP.NET Core 2.1 was the last LTS release of .NET Core that supported running on",
    "References",
    "References",
    "Migrating from ASP.NET to ASP.NET Core 2.1 ASP.NET Core 2.1 on .NET Framework ASP.NET Core 2.1",
    "Migrating from ASP.NET to ASP.NET Core 2.1 ASP.NET Core 2.1 on .NET Framework ASP.NET Core 2.1",
    "Choose the right .NET Core version",
    "Choose the right .NET Core version",
    "The largest consideration for most organizations when choosing which version of .NET to target is the",
    "The largest consideration for most organizations when choosing which version of .NET to target is the",
    ".NET 7 is the latest STS release; .NET 6 is the latest LTS release.",
    ".NET 7 is the latest STS release; .NET 6 is the latest LTS release.",
    "Customers looking to migrate a large .NET Framework app to .NET today may be looking for a stable",
    "Customers looking to migrate a large .NET Framework app to .NET today may be looking for a stable",
    "Other customers may want to ensure they\u2019re upgrading to the latest supported version, so that post-",
    "Other customers may want to ensure they\u2019re upgrading to the latest supported version, so that post-",
    "In either case, there is very little difference in the migration process. This book assumes .NET",
    "In either case, there is very little difference in the migration process. This book assumes .NET",
    "References",
    "References",
    ".NET and .NET Core Support Policy",
    ".NET and .NET Core Support Policy",
    "5",
    "5",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "Strategies for migrating incrementally",
    "Strategies for migrating incrementally",
    "The biggest challenge with migrating any large app is determining how to break the process into",
    "The biggest challenge with migrating any large app is determining how to break the process into",
    "Migrating slice by slice",
    "Migrating slice by slice",
    "One successful approach to migrating is to identify vertical slices of functionality and migrate them to",
    "One successful approach to migrating is to identify vertical slices of functionality and migrate them to",
    "When migrating slice by slice, the entire stack of the individual API endpoint or requested route is",
    "When migrating slice by slice, the entire stack of the individual API endpoint or requested route is",
    "Some specific guidance on how to follow this strategy using IIS is covered in Chapter 5, Deployment",
    "Some specific guidance on how to follow this strategy using IIS is covered in Chapter 5, Deployment",
    "Migrating layer by layer",
    "Migrating layer by layer",
    "Consider the challenge of migrating a large ASP.NET 4.5 app. One approach is to migrate the entire",
    "Consider the challenge of migrating a large ASP.NET 4.5 app. One approach is to migrate the entire",
    "One piece of the .NET ecosystem that helps with interoperability between different .NET frameworks is",
    "One piece of the .NET ecosystem that helps with interoperability between different .NET frameworks is",
    "One approach to incrementally upgrade a .NET Framework 4.5 system layer-by-layer is to first update",
    "One approach to incrementally upgrade a .NET Framework 4.5 system layer-by-layer is to first update",
    "6",
    "6",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "in scenarios where app dependencies require .NET Framework and cannot easily be ported directly to",
    "in scenarios where app dependencies require .NET Framework and cannot easily be ported directly to",
    "Once the app is running on ASP.NET Core 2.1, migrating it to .NET 7 in isolation is relatively",
    "Once the app is running on ASP.NET Core 2.1, migrating it to .NET 7 in isolation is relatively",
    ".NET 7 is the latest version of .NET and will be supported until six months after the next STS or LTS",
    ".NET 7 is the latest version of .NET and will be supported until six months after the next STS or LTS",
    "Instead of a \u201cbottom up\u201d approach, another alternative is to start with the web app (or even the entire",
    "Instead of a \u201cbottom up\u201d approach, another alternative is to start with the web app (or even the entire",
    "References",
    "References",
    "\u2022  What is .NET Standard?",
    "\u2022  What is .NET Standard?",
    "\u2022  Migrate from ASP.NET Core 6.0 to 7.0",
    "\u2022  Migrate from ASP.NET Core 6.0 to 7.0",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Announcing .NET 6 - The Fastest .NET Yet",
    "Announcing .NET 6 - The Fastest .NET Yet",
    "Introducing .NET 5",
    "Introducing .NET 5",
    "\u2022  Migrate from ASP.NET Core 3.1 to 6.0 LTS",
    "\u2022  Migrate from ASP.NET Core 3.1 to 6.0 LTS",
    "\u2022",
    "\u2022",
    ".NET Upgrade Assistant tool",
    ".NET Upgrade Assistant tool",
    "Strategies for migrating ASP.NET Web Forms apps",
    "Strategies for migrating ASP.NET Web Forms apps",
    "This book offers guidance for migrating large ASP.NET MVC and Web API apps to .NET Core. Some of",
    "This book offers guidance for migrating large ASP.NET MVC and Web API apps to .NET Core. Some of",
    "Web Forms will continue to be supported for quite some time. One option may be to keep this",
    "Web Forms will continue to be supported for quite some time. One option may be to keep this",
    "Separate business logic and other concerns",
    "Separate business logic and other concerns",
    "The less code in your ASP.NET Web Forms pages, the better. When possible, keep business logic and",
    "The less code in your ASP.NET Web Forms pages, the better. When possible, keep business logic and",
    "7",
    "7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "Implement client behavior and web APIs",
    "Implement client behavior and web APIs",
    "Consider the choice between implementing logic in Web Forms or in the browser with the help of API",
    "Consider the choice between implementing logic in Web Forms or in the browser with the help of API",
    "Consider Blazor",
    "Consider Blazor",
    "Blazor lets you build interactive web UIs with C# instead of JavaScript. It can run on the server or in",
    "Blazor lets you build interactive web UIs with C# instead of JavaScript. It can run on the server or in",
    "Summary",
    "Summary",
    "Migrating directly from ASP.NET Web Forms to ASP.NET Core isn\u2019t supported. However, there are",
    "Migrating directly from ASP.NET Web Forms to ASP.NET Core isn\u2019t supported. However, there are",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Keeping non-web functionality out of your projects.",
    "Keeping non-web functionality out of your projects.",
    "Using web APIs wherever possible.",
    "Using web APIs wherever possible.",
    "Considering Blazor as an option for a more modern UI.",
    "Considering Blazor as an option for a more modern UI.",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Free e-book: Blazor for ASP.NET Web Forms Developers",
    "Free e-book: Blazor for ASP.NET Web Forms Developers",
    "Blazor Web Forms Components (Community Project)",
    "Blazor Web Forms Components (Community Project)",
    "Deployment strategies",
    "Deployment strategies",
    "One consideration as you plan the migration of your large ASP.NET app to ASP.NET Core is how you\u2019ll",
    "One consideration as you plan the migration of your large ASP.NET app to ASP.NET Core is how you\u2019ll",
    "Cross-platform options",
    "Cross-platform options",
    "Because .NET Core runs on Linux, you\u2019ll find some hosting options available that weren\u2019t a",
    "Because .NET Core runs on Linux, you\u2019ll find some hosting options available that weren\u2019t a",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Your organization has infrastructure or expertise.",
    "Your organization has infrastructure or expertise.",
    "Hosting providers offer attractive features or pricing for Linux-based hosting.",
    "Hosting providers offer attractive features or pricing for Linux-based hosting.",
    ".NET Core opens the door to these options.",
    ".NET Core opens the door to these options.",
    "8",
    "8",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "Cloud native development",
    "Cloud native development",
    "Most organizations today are using cloud platforms for at least some of their software capabilities.",
    "Most organizations today are using cloud platforms for at least some of their software capabilities.",
    "Learn more about cloud native app development in this free e-book, Architecting Cloud Native .NET",
    "Learn more about cloud native app development in this free e-book, Architecting Cloud Native .NET",
    "Leverage containers",
    "Leverage containers",
    "Modern apps often leverage containers as a means of reducing variation between hosting",
    "Modern apps often leverage containers as a means of reducing variation between hosting",
    "Side-by-side deployment options",
    "Side-by-side deployment options",
    "Migrating large .NET Framework apps to .NET Core often requires a substantial effort. Most",
    "Migrating large .NET Framework apps to .NET Core often requires a substantial effort. Most",
    "IIS on Windows",
    "IIS on Windows",
    "You can continue hosting your apps on IIS running on Windows. This is a fine option for customers",
    "You can continue hosting your apps on IIS running on Windows. This is a fine option for customers",
    "Other options on Windows",
    "Other options on Windows",
    "You can host apps side-by-side apps on Windows using any combination of Kestrel, HTTP.sys, and IIS",
    "You can host apps side-by-side apps on Windows using any combination of Kestrel, HTTP.sys, and IIS",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "Host and deploy ASP.NET Core",
    "Host and deploy ASP.NET Core",
    "9",
    "9",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Host ASP.NET Core on Windows with IIS",
    "Host ASP.NET Core on Windows with IIS",
    "Troubleshooting ASP.NET Core on Azure App Service and IIS",
    "Troubleshooting ASP.NET Core on Azure App Service and IIS",
    "Additional migration resources",
    "Additional migration resources",
    "As you\u2019re planning and executing your migration from ASP.NET MVC and/or Web API to ASP.NET",
    "As you\u2019re planning and executing your migration from ASP.NET MVC and/or Web API to ASP.NET",
    "Official documentation",
    "Official documentation",
    "The official documentation website, learn.microsoft.com, has the most up-to-date information",
    "The official documentation website, learn.microsoft.com, has the most up-to-date information",
    "GitHub",
    "GitHub",
    "Because .NET Core is an open-source project, many issues are discovered, reported, discussed, and",
    "Because .NET Core is an open-source project, many issues are discovered, reported, discussed, and",
    "\u2022  Microsoft",
    "\u2022  Microsoft",
    "\u2013",
    "\u2013",
    "ASP.NET API Versioning",
    "ASP.NET API Versioning",
    "\u2022",
    "\u2022",
    "dotnet",
    "dotnet",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "ASP.NET Core",
    "ASP.NET Core",
    ".NET Runtime",
    ".NET Runtime",
    "Entity Framework Core",
    "Entity Framework Core",
    "C# Language",
    "C# Language",
    "Docs",
    "Docs",
    "Docs Samples",
    "Docs Samples",
    "Try Convert",
    "Try Convert",
    ".NET Upgrade Assistant tool",
    ".NET Upgrade Assistant tool",
    "\u2022",
    "\u2022",
    ".NET Architecture Reference Apps",
    ".NET Architecture Reference Apps",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "\u2013",
    "eShopModernizing",
    "eShopModernizing",
    "eShopOnWeb",
    "eShopOnWeb",
    "eShopOnContainers",
    "eShopOnContainers",
    "If you run into problems with your migration, these GitHub repositories are a good place to report",
    "If you run into problems with your migration, these GitHub repositories are a good place to report",
    "10",
    "10",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "Stack Overflow",
    "Stack Overflow",
    "Stack Overflow has a wealth of information in the form of previous questions asked and answers",
    "Stack Overflow has a wealth of information in the form of previous questions asked and answers",
    "YouTube channels",
    "YouTube channels",
    "YouTube has a huge amount of .NET and .NET Core video content, which may include useful tutorials",
    "YouTube has a huge amount of .NET and .NET Core video content, which may include useful tutorials",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "dotnet",
    "dotnet",
    "Visual Studio",
    "Visual Studio",
    "Twitter, Gitter, Slack, and other community channels",
    "Twitter, Gitter, Slack, and other community channels",
    "You\u2019ll find many other ways to connect with .NET developers on the .NET Community page. You can",
    "You\u2019ll find many other ways to connect with .NET developers on the .NET Community page. You can",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Overview of porting from .NET Framework to .NET Core",
    "Overview of porting from .NET Framework to .NET Core",
    ".NET Upgrade Assistant tool",
    ".NET Upgrade Assistant tool",
    "\u2022  Migrate from ASP.NET to ASP.NET Core",
    "\u2022  Migrate from ASP.NET to ASP.NET Core",
    "\u2022",
    "\u2022",
    ".NET Community Resources",
    ".NET Community Resources",
    "11",
    "11",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER 1 | Introduction to porting apps to .NET 7",
    "CHAPTER  2",
    "CHAPTER  2",
    "Architectural differences",
    "Architectural differences",
    "There are many architectural differences between ASP.NET MVC on .NET Framework and ASP.NET",
    "There are many architectural differences between ASP.NET MVC on .NET Framework and ASP.NET",
    "Breaking changes",
    "Breaking changes",
    ".NET Core is a cross-platform rewrite of .NET Framework. There are many breaking changes between",
    ".NET Core is a cross-platform rewrite of .NET Framework. There are many breaking changes between",
    "App startup differences between ASP.NET MVC and",
    "App startup differences between ASP.NET MVC and",
    "ASP.NET MVC apps lived entirely within Internet Information Server (IIS), the primary web server",
    "ASP.NET MVC apps lived entirely within Internet Information Server (IIS), the primary web server",
    "12",
    "12",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "ASP.NET MVC Startup",
    "ASP.NET MVC Startup",
    "Hosted within IIS, ASP.NET apps rely on IIS to instantiate certain objects and call certain methods",
    "Hosted within IIS, ASP.NET apps rely on IIS to instantiate certain objects and call certain methods",
    "Many NuGet packages for ASP.NET MVC and Web API use the WebActivator package to let them run",
    "Many NuGet packages for ASP.NET MVC and Web API use the WebActivator package to let them run",
    "It\u2019s also possible to use the Open Web Interface for .NET (OWIN) and Project Katana with ASP.NET",
    "It\u2019s also possible to use the Open Web Interface for .NET (OWIN) and Project Katana with ASP.NET",
    "If you need to run code when your ASP.NET MVC app starts up, it will typically use one of these",
    "If you need to run code when your ASP.NET MVC app starts up, it will typically use one of these",
    "ASP.NET Core Startup",
    "ASP.NET Core Startup",
    "As noted previously, ASP.NET Core apps are standalone programs. As such, they typically include a",
    "As noted previously, ASP.NET Core apps are standalone programs. As such, they typically include a",
    "var builder = WebApplication.CreateBuilder(args);",
    "var builder = WebApplication.CreateBuilder(args);",
    "// Add services to the container.",
    "// Add services to the container.",
    "var app = builder.Build();",
    "var app = builder.Build();",
    "// Configure the HTTP request pipeline.",
    "// Configure the HTTP request pipeline.",
    "app.UseHttpsRedirection();",
    "app.UseHttpsRedirection();",
    "app.UseRouting();",
    "app.UseRouting();",
    "app.UseAuthorization();",
    "app.UseAuthorization();",
    "app.MapRazorPages();",
    "app.MapRazorPages();",
    "app.Run();",
    "app.Run();",
    "Figure 2-1. A typical ASP.NET Core Program.cs file.",
    "Figure 2-1. A typical ASP.NET Core Program.cs file.",
    "13",
    "13",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "The code shown in Figure 2-1 uses a builder to configure the host and its services. Then, it creates the",
    "The code shown in Figure 2-1 uses a builder to configure the host and its services. Then, it creates the",
    "Previous versions of .NET would use a separate Startup.cs file, referenced by Program.cs. This approach",
    "Previous versions of .NET would use a separate Startup.cs file, referenced by Program.cs. This approach",
    "In addition to code related to configuring the app\u2019s services and request pipeline, apps may have",
    "In addition to code related to configuring the app\u2019s services and request pipeline, apps may have",
    "The IHostedService interface just exposes two methods, StartAsync and StopAsync. You register the",
    "The IHostedService interface just exposes two methods, StartAsync and StopAsync. You register the",
    "Porting considerations",
    "Porting considerations",
    "Teams looking to migrate their apps from ASP.NET MVC to ASP.NET Core need to identify what code",
    "Teams looking to migrate their apps from ASP.NET MVC to ASP.NET Core need to identify what code",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "ASP.NET Application Life Cycle Overview for IIS 7",
    "ASP.NET Application Life Cycle Overview for IIS 7",
    "ASP.NET Application Life Cycle Overview for IIS 5 and 6",
    "ASP.NET Application Life Cycle Overview for IIS 5 and 6",
    "Getting Started with OWIN and Katana",
    "Getting Started with OWIN and Katana",
    "\u2022  WebActivator",
    "\u2022  WebActivator",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "App Startup in ASP.NET Core",
    "App Startup in ASP.NET Core",
    ".NET Generic Host in ASP.NET Core",
    ".NET Generic Host in ASP.NET Core",
    "IHostedService",
    "IHostedService",
    "Hosting differences between ASP.NET MVC and",
    "Hosting differences between ASP.NET MVC and",
    "ASP.NET MVC apps are hosted in IIS, and may rely on IIS configuration for their behavior. This often",
    "ASP.NET MVC apps are hosted in IIS, and may rely on IIS configuration for their behavior. This often",
    "ASP.NET Core apps can run on a number of different servers. The default cross platform server,",
    "ASP.NET Core apps can run on a number of different servers. The default cross platform server,",
    "14",
    "14",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "Kestrel does not have an equivalent to IIS modules (though apps hosted in IIS can still take advantage",
    "Kestrel does not have an equivalent to IIS modules (though apps hosted in IIS can still take advantage",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "IIS Modules",
    "IIS Modules",
    "ASP.NET Core Middleware",
    "ASP.NET Core Middleware",
    "ASP.NET Core Servers",
    "ASP.NET Core Servers",
    "Serve static files in ASP.NET MVC and ASP.NET Core",
    "Serve static files in ASP.NET MVC and ASP.NET Core",
    "Most web apps involve a combination of server-side logic and static files that must be sent to the",
    "Most web apps involve a combination of server-side logic and static files that must be sent to the",
    "Host static files in ASP.NET MVC",
    "Host static files in ASP.NET MVC",
    "ASP.NET MVC apps, hosted by IIS, typically host static files directly from the app. ASP.NET MVC",
    "ASP.NET MVC apps, hosted by IIS, typically host static files directly from the app. ASP.NET MVC",
    "For many static files, using a content delivery network (CDN) is a good practice. Static content hosting",
    "For many static files, using a content delivery network (CDN) is a good practice. Static content hosting",
    "Host static files in ASP.NET Core",
    "Host static files in ASP.NET Core",
    "It may be surprising, but ASP.NET Core doesn\u2019t have built-in support for static files. This feature that",
    "It may be surprising, but ASP.NET Core doesn\u2019t have built-in support for static files. This feature that",
    "With static files middleware configured, an ASP.NET Core app will serve all files located in a certain",
    "With static files middleware configured, an ASP.NET Core app will serve all files located in a certain",
    "Because support for static files uses middleware, any other middleware can be applied as part of the",
    "Because support for static files uses middleware, any other middleware can be applied as part of the",
    "Of course, CDNs remain a good choice for ASP.NET Core apps for all the same reasons they\u2019re used in",
    "Of course, CDNs remain a good choice for ASP.NET Core apps for all the same reasons they\u2019re used in",
    "15",
    "15",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Static content hosting",
    "Static content hosting",
    "Static files in ASP.NET Core",
    "Static files in ASP.NET Core",
    "Dependency injection differences between ASP.NET",
    "Dependency injection differences between ASP.NET",
    "Although dependency injection (DI) isn\u2019t built into ASP.NET MVC or Web API, many apps enable it by",
    "Although dependency injection (DI) isn\u2019t built into ASP.NET MVC or Web API, many apps enable it by",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Autofac",
    "Autofac",
    "Unity",
    "Unity",
    "Ninject",
    "Ninject",
    "StructureMap (deprecated)",
    "StructureMap (deprecated)",
    "Castle Windsor",
    "Castle Windsor",
    "If your ASP.NET MVC app isn\u2019t using DI, you will probably want to investigate the built-in support for",
    "If your ASP.NET MVC app isn\u2019t using DI, you will probably want to investigate the built-in support for",
    "If your app does use DI, then probably your best course of action is to see if the container you\u2019re",
    "If your app does use DI, then probably your best course of action is to see if the container you\u2019re",
    "Either way, you should consider using the built-in support for DI that ships with ASP.NET Core, as it",
    "Either way, you should consider using the built-in support for DI that ships with ASP.NET Core, as it",
    "Dependency injection in ASP.NET Core",
    "Dependency injection in ASP.NET Core",
    "ASP.NET Core assumes apps will use DI. It\u2019s not just built into the framework, but is required in order",
    "ASP.NET Core assumes apps will use DI. It\u2019s not just built into the framework, but is required in order",
    "In addition to using the default implementation, apps can still use custom containers. The",
    "In addition to using the default implementation, apps can still use custom containers. The",
    "DI is fundamental to ASP.NET Core. If your team isn\u2019t already well-versed in this practice, you\u2019ll want",
    "DI is fundamental to ASP.NET Core. If your team isn\u2019t already well-versed in this practice, you\u2019ll want",
    "16",
    "16",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Dependency Injection in .NET",
    "Dependency Injection in .NET",
    "Dependency Injection in ASP.NET Core",
    "Dependency Injection in ASP.NET Core",
    "Compare middleware to modules and handlers",
    "Compare middleware to modules and handlers",
    "If your existing ASP.NET MVC or Web API app uses OWIN/Katana, you\u2019re most likely already familiar",
    "If your existing ASP.NET MVC or Web API app uses OWIN/Katana, you\u2019re most likely already familiar",
    "ASP.NET modules and handlers",
    "ASP.NET modules and handlers",
    "HTTP modules and HTTP handlers are an integral part of the ASP.NET architecture. While a request is",
    "HTTP modules and HTTP handlers are an integral part of the ASP.NET architecture. While a request is",
    "If your app is using custom HTTP modules or HTTP handlers, you\u2019ll need a plan to migrate them to",
    "If your app is using custom HTTP modules or HTTP handlers, you\u2019ll need a plan to migrate them to",
    "ASP.NET Core middleware",
    "ASP.NET Core middleware",
    "ASP.NET Core defines a request pipeline in each app\u2019s Configure method. This request pipeline",
    "ASP.NET Core defines a request pipeline in each app\u2019s Configure method. This request pipeline",
    "Behavior in an ASP.NET MVC app that uses HTTP modules is probably best suited to custom",
    "Behavior in an ASP.NET MVC app that uses HTTP modules is probably best suited to custom",
    "Accessing HttpContext",
    "Accessing HttpContext",
    "Many .NET apps reference the current request\u2019s context through HttpContext.Current. This static",
    "Many .NET apps reference the current request\u2019s context through HttpContext.Current. This static",
    "public class Middleware",
    "public class Middleware",
    "17",
    "17",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "}",
    "}",
    "}",
    "}",
    "Similarly, ASP.NET Core filters pass a context argument to their methods, from which the current",
    "Similarly, ASP.NET Core filters pass a context argument to their methods, from which the current",
    "public class MyActionFilterAttribute : ActionFilterAttribute",
    "public class MyActionFilterAttribute : ActionFilterAttribute",
    "}",
    "}",
    "If you have components or services that require access to HttpContext, rather than using a static call",
    "If you have components or services that require access to HttpContext, rather than using a static call",
    "public class MyService",
    "public class MyService",
    "}",
    "}",
    "This approach eliminates the static coupling of the method to the current context while providing",
    "This approach eliminates the static coupling of the method to the current context while providing",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "ASP.NET HTTP modules and HTTP handlers",
    "ASP.NET HTTP modules and HTTP handlers",
    "ASP.NET Core middleware",
    "ASP.NET Core middleware",
    "Configuration differences between ASP.NET MVC",
    "Configuration differences between ASP.NET MVC",
    "How configuration values are stored and read changed dramatically between ASP.NET and ASP.NET",
    "How configuration values are stored and read changed dramatically between ASP.NET and ASP.NET",
    "18",
    "18",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "ASP.NET MVC configuration",
    "ASP.NET MVC configuration",
    "In ASP.NET apps, configuration uses the built-in .NET configuration files, web.config in the app folder",
    "In ASP.NET apps, configuration uses the built-in .NET configuration files, web.config in the app folder",
    "Configuration in a .NET Framework app is accessed using the",
    "Configuration in a .NET Framework app is accessed using the",
    "Typical ASP.NET MVC configuration access:",
    "Typical ASP.NET MVC configuration access:",
    "string connectionString =",
    "string connectionString =",
    "ASP.NET Core configuration",
    "ASP.NET Core configuration",
    "In ASP.NET Core apps, configuration is, itself, configurable. However, most apps use a set of defaults",
    "In ASP.NET Core apps, configuration is, itself, configurable. However, most apps use a set of defaults",
    "Accessing configuration values can be done in many ways in .NET Core. Because dependency injection",
    "Accessing configuration values can be done in many ways in .NET Core. Because dependency injection",
    "Figure 2-2 shows how to pass IConfiguration into a Razor Page and access configuration settings from",
    "Figure 2-2 shows how to pass IConfiguration into a Razor Page and access configuration settings from",
    "using Microsoft.Extensions.Configuration;",
    "using Microsoft.Extensions.Configuration;",
    "public class TestModel : PageModel",
    "public class TestModel : PageModel",
    "19",
    "19",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "var myKeyValue = ",
    "var myKeyValue = ",
    "}",
    "}",
    "Figure 2-2. Accessing configuration values with IConfiguration.",
    "Figure 2-2. Accessing configuration values with IConfiguration.",
    "Using the options pattern, settings access is similar but is strongly typed and more specific to the",
    "Using the options pattern, settings access is similar but is strongly typed and more specific to the",
    "public class PositionOptions",
    "public class PositionOptions",
    "}",
    "}",
    "public class Test2Model : PageModel",
    "public class Test2Model : PageModel",
    "}",
    "}",
    "Figure 2-3. Using the options pattern in ASP.NET Core.",
    "Figure 2-3. Using the options pattern in ASP.NET Core.",
    "For the options pattern to work, the options type must be configured in ConfigureServices when the",
    "For the options pattern to work, the options type must be configured in ConfigureServices when the",
    "// required in ConfigureServices",
    "// required in ConfigureServices",
    "Migrate configuration",
    "Migrate configuration",
    "When considering how to port an app\u2019s configuration settings from .NET Framework to .NET Core, the",
    "When considering how to port an app\u2019s configuration settings from .NET Framework to .NET Core, the",
    "Once all settings in the config files have been cataloged, the next step should be to identify where",
    "Once all settings in the config files have been cataloged, the next step should be to identify where",
    "20",
    "20",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "If you\u2019re still maintaining the ASP.NET app, it may be helpful to avoid static references to",
    "If you\u2019re still maintaining the ASP.NET app, it may be helpful to avoid static references to",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Configuration in ASP.NET Core",
    "Configuration in ASP.NET Core",
    "Options pattern in ASP.NET Core",
    "Options pattern in ASP.NET Core",
    "\u2022  Migrate configuration to ASP.NET Core",
    "\u2022  Migrate configuration to ASP.NET Core",
    "\u2022",
    "\u2022",
    "Refactoring Static Config Access",
    "Refactoring Static Config Access",
    "Routing differences between ASP.NET MVC and",
    "Routing differences between ASP.NET MVC and",
    "Routing is responsible for mapping incoming browser requests to particular controller actions (or",
    "Routing is responsible for mapping incoming browser requests to particular controller actions (or",
    "Routing in ASP.NET MVC and Web API",
    "Routing in ASP.NET MVC and Web API",
    "ASP.NET MVC offers two approaches to routing:",
    "ASP.NET MVC offers two approaches to routing:",
    "The route table, which is a collection of routes that can be used to match incoming requests",
    "The route table, which is a collection of routes that can be used to match incoming requests",
    "Attribute routing, which performs the same function but is achieved by decorating the actions",
    "Attribute routing, which performs the same function but is achieved by decorating the actions",
    "Route table",
    "Route table",
    "The route table is configured when the app starts up. Typically, a static method call is used to",
    "The route table is configured when the app starts up. Typically, a static method call is used to",
    "public class MvcApplication : System.Web.HttpApplication",
    "public class MvcApplication : System.Web.HttpApplication",
    "21",
    "21",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "RegisterRoutes(RouteTable.Routes);",
    "RegisterRoutes(RouteTable.Routes);",
    "In the preceding code, the route table is managed by the RouteCollection type, which is used to add",
    "In the preceding code, the route table is managed by the RouteCollection type, which is used to add",
    "Attribute routing in ASP.NET MVC",
    "Attribute routing in ASP.NET MVC",
    "Routes that are defined with their actions may be easier to discover and reason about than routes",
    "Routes that are defined with their actions may be easier to discover and reason about than routes",
    "public class ProductsController",
    "public class ProductsController",
    "}",
    "}",
    "Attribute routing in ASP.NET MVC 5 also supports defaults and prefixes, which can be added at the",
    "Attribute routing in ASP.NET MVC 5 also supports defaults and prefixes, which can be added at the",
    "Setting up attribute routing requires adding one line to the default route table configuration:",
    "Setting up attribute routing requires adding one line to the default route table configuration:",
    "routes.MapMvcAttributeRoutes();",
    "routes.MapMvcAttributeRoutes();",
    "Attribute routing can take advantage of route constraints, both built-in and custom, and supports",
    "Attribute routing can take advantage of route constraints, both built-in and custom, and supports",
    "routes.MapMvcAttributeRoutes();",
    "routes.MapMvcAttributeRoutes();",
    "AreaRegistration.RegisterAllAreas();",
    "AreaRegistration.RegisterAllAreas();",
    "Attribute routing in ASP.NET Web API 2",
    "Attribute routing in ASP.NET Web API 2",
    "Attribute routing in ASP.NET Web API 2 is similar to routing in ASP.NET MVC 5, with minor differences.",
    "Attribute routing in ASP.NET Web API 2 is similar to routing in ASP.NET MVC 5, with minor differences.",
    "public static class WebApiConfig",
    "public static class WebApiConfig",
    "22",
    "22",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "public static void Register(HttpConfiguration config)",
    "public static void Register(HttpConfiguration config)",
    "}",
    "}",
    "As shown in the preceding code, attribute routing may be combined with convention-based routing",
    "As shown in the preceding code, attribute routing may be combined with convention-based routing",
    "In addition to attribute routing, ASP.NET Web API chooses which action to call based on the HTTP",
    "In addition to attribute routing, ASP.NET Web API chooses which action to call based on the HTTP",
    "public class ProductsController : ApiController",
    "public class ProductsController : ApiController",
    "}",
    "}",
    "Given the above controller, an HTTP GET request to localhost:123/products/ matches the GetAll",
    "Given the above controller, an HTTP GET request to localhost:123/products/ matches the GetAll",
    "Routing in .NET 7",
    "Routing in .NET 7",
    "In ASP.NET Core, routing is handled by routing middleware, which matches the URLs of incoming",
    "In ASP.NET Core, routing is handled by routing middleware, which matches the URLs of incoming",
    "app.UseRouting();",
    "app.UseRouting();",
    "Conventional routing",
    "Conventional routing",
    "With conventional routing, you set up one or more conventions that will be used to match incoming",
    "With conventional routing, you set up one or more conventions that will be used to match incoming",
    "23",
    "23",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "app.UseEndpoints(endpoints =>",
    "app.UseEndpoints(endpoints =>",
    "The preceding code is used (in addition to UseRouting) to configure various endpoints, including",
    "The preceding code is used (in addition to UseRouting) to configure various endpoints, including",
    "Attribute routing",
    "Attribute routing",
    "Attribute routing in ASP.NET Core is the preferred approach for configuring routing in controllers. If",
    "Attribute routing in ASP.NET Core is the preferred approach for configuring routing in controllers. If",
    "Attribute routing in ASP.NET Core behaves similarly in ASP.NET MVC and Web API. In addition to",
    "Attribute routing in ASP.NET Core behaves similarly in ASP.NET MVC and Web API. In addition to",
    "[",
    "[",
    "As with previous versions, you can specify a default route with placeholders, and add this at the",
    "As with previous versions, you can specify a default route with placeholders, and add this at the",
    "[",
    "[",
    "Using this attribute, classes inheriting from this type would route URLs to actions based on the",
    "Using this attribute, classes inheriting from this type would route URLs to actions based on the",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "ASP.NET MVC Routing Overview",
    "ASP.NET MVC Routing Overview",
    "Attribute Routing in ASP.NET MVC 5",
    "Attribute Routing in ASP.NET MVC 5",
    "Attribute routing in ASP.NET Web API 2",
    "Attribute routing in ASP.NET Web API 2",
    "Routing and Action Selection in ASP.NET Web API",
    "Routing and Action Selection in ASP.NET Web API",
    "Routing in ASP.NET Core",
    "Routing in ASP.NET Core",
    "Routing to controller actions in ASP.NET Core MVC",
    "Routing to controller actions in ASP.NET Core MVC",
    "24",
    "24",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "Logging differences between ASP.NET MVC and",
    "Logging differences between ASP.NET MVC and",
    "Application logging provides important diagnostic information, especially for apps running in",
    "Application logging provides important diagnostic information, especially for apps running in",
    "ASP.NET MVC logging",
    "ASP.NET MVC logging",
    "There\u2019s no built-in logging solution in ASP.NET MVC and Web API apps. Instead, most apps use third-",
    "There\u2019s no built-in logging solution in ASP.NET MVC and Web API apps. Instead, most apps use third-",
    "ASP.NET Core logging",
    "ASP.NET Core logging",
    "In ASP.NET Core, logging is a built-in feature that can be configured and extended when the app",
    "In ASP.NET Core, logging is a built-in feature that can be configured and extended when the app",
    "ASP.NET Core logging uses categories and levels to control what is logged and how. Classes typically",
    "ASP.NET Core logging uses categories and levels to control what is logged and how. Classes typically",
    "A typical logging configuration could log Information and above information by default, but only",
    "A typical logging configuration could log Information and above information by default, but only",
    "{",
    "{",
    "Support for logging in ASP.NET Core is extensive and flexible. For more detailed information, refer to",
    "Support for logging in ASP.NET Core is extensive and flexible. For more detailed information, refer to",
    "25",
    "25",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "Migrate logging",
    "Migrate logging",
    "How you migrate your .NET Framework app\u2019s logging to .NET Core depends on how the app is",
    "How you migrate your .NET Framework app\u2019s logging to .NET Core depends on how the app is",
    "Migrate the logging solution yourself",
    "Migrate the logging solution yourself",
    "Migrate to a third-party logging solution",
    "Migrate to a third-party logging solution",
    "Use the built-in logging support in ASP.NET Core",
    "Use the built-in logging support in ASP.NET Core",
    "You can reference the Microsoft.Extensions.Logging package from .NET Framework apps as long as",
    "You can reference the Microsoft.Extensions.Logging package from .NET Framework apps as long as",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "Logging in .NET Core and ASP.NET Core",
    "Logging in .NET Core and ASP.NET Core",
    "\u2022  Microsoft.Extensions.Logging NuGet Package",
    "\u2022  Microsoft.Extensions.Logging NuGet Package",
    "Compare Razor Pages to ASP.NET MVC",
    "Compare Razor Pages to ASP.NET MVC",
    "Razor Pages is the preferred way to create page- or form-based apps in ASP.NET Core. From the docs,",
    "Razor Pages is the preferred way to create page- or form-based apps in ASP.NET Core. From the docs,",
    "A typical strongly typed view-based MVC app will use a controller to contain one or more actions. The",
    "A typical strongly typed view-based MVC app will use a controller to contain one or more actions. The",
    "Razor Pages group together the action (now a handler) and the viewmodel (called a PageModel) in",
    "Razor Pages group together the action (now a handler) and the viewmodel (called a PageModel) in",
    "As part of a move from ASP.NET MVC to ASP.NET Core, teams should consider whether they want to",
    "As part of a move from ASP.NET MVC to ASP.NET Core, teams should consider whether they want to",
    "26",
    "26",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "will most likely require slightly less overall effort, but won\u2019t allow the team to take advantage of the",
    "will most likely require slightly less overall effort, but won\u2019t allow the team to take advantage of the",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Introduction to Razor Pages in ASP.NET Core",
    "Introduction to Razor Pages in ASP.NET Core",
    "Simpler ASP.NET Core Apps with Razor Pages",
    "Simpler ASP.NET Core Apps with Razor Pages",
    "Compare ASP.NET Web API 2 and ASP.NET Core",
    "Compare ASP.NET Web API 2 and ASP.NET Core",
    "ASP.NET Core offers iterative improvements to ASP.NET Web API 2, but should feel familiar to",
    "ASP.NET Core offers iterative improvements to ASP.NET Web API 2, but should feel familiar to",
    "In addition to being consistent and unified within ASP.NET Core, APIs built in .NET Core are much",
    "In addition to being consistent and unified within ASP.NET Core, APIs built in .NET Core are much",
    "See Incremental ASP.NET to ASP.NET Core migration for an incremental approach to migrating to",
    "See Incremental ASP.NET to ASP.NET Core migration for an incremental approach to migrating to",
    "References",
    "References",
    "\u2022  Migrate from ASP.NET Web API to ASP.NET Core",
    "\u2022  Migrate from ASP.NET Web API to ASP.NET Core",
    "\u2022",
    "\u2022",
    "Ardalis.ApiEndpoints NuGet package",
    "Ardalis.ApiEndpoints NuGet package",
    "Compare authentication and authorization between",
    "Compare authentication and authorization between",
    "In ASP.NET MVC 5, authentication is configured in Startup.Auth.cs in the App",
    "In ASP.NET MVC 5, authentication is configured in Startup.Auth.cs in the App",
    "Authentication and authorization are performed using middleware added to the request pipeline:",
    "Authentication and authorization are performed using middleware added to the request pipeline:",
    "app.UseRouting();",
    "app.UseRouting();",
    "app.UseAuthentication();",
    "app.UseAuthentication();",
    "app.UseEndpoints(endpoints =>",
    "app.UseEndpoints(endpoints =>",
    "27",
    "27",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "endpoints.MapControllerRoute(",
    "endpoints.MapControllerRoute(",
    "It\u2019s important to add the auth middleware in the appropriate order in the middleware pipeline. Only",
    "It\u2019s important to add the auth middleware in the appropriate order in the middleware pipeline. Only",
    "In ASP.NET MVC and Web API, apps often refer to the current user using the ClaimsPrincipal.Current",
    "In ASP.NET MVC and Web API, apps often refer to the current user using the ClaimsPrincipal.Current",
    "Authorization",
    "Authorization",
    "Authorization defines what a given user can do within the app. It\u2019s separate from authentication,",
    "Authorization defines what a given user can do within the app. It\u2019s separate from authentication,",
    "Authorization in ASP.NET Core may be as simple as prohibiting anonymous users while allowing",
    "Authorization in ASP.NET Core may be as simple as prohibiting anonymous users while allowing",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "Security, Authentication, and Authorization with ASP.NET MVC",
    "Security, Authentication, and Authorization with ASP.NET MVC",
    "\u2022  Migrate Authentication and Identity to ASP.NET Core",
    "\u2022  Migrate Authentication and Identity to ASP.NET Core",
    "\u2022  Migrate from ClaimsPrincipal.Current",
    "\u2022  Migrate from ClaimsPrincipal.Current",
    "\u2022",
    "\u2022",
    "Introduction to Authorization in ASP.NET Core",
    "Introduction to Authorization in ASP.NET Core",
    "Compare ASP.NET Identity and ASP.NET Core",
    "Compare ASP.NET Identity and ASP.NET Core",
    "In ASP.NET MVC, identity features are typically configured in IdentityConfig.cs in the App",
    "In ASP.NET MVC, identity features are typically configured in IdentityConfig.cs in the App",
    "28",
    "28",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "ASP.NET Identity is an API that supports user interface login functionality and manages users,",
    "ASP.NET Identity is an API that supports user interface login functionality and manages users,",
    "If your ASP.NET MVC app is using ASP.NET Membership, you\u2019ll find a guide to migrate from ASP.NET",
    "If your ASP.NET MVC app is using ASP.NET Membership, you\u2019ll find a guide to migrate from ASP.NET",
    "If you migrate your ASP.NET Identity users to ASP.NET Core Identity, you may need to update their",
    "If you migrate your ASP.NET Identity users to ASP.NET Core Identity, you may need to update their",
    "One of the biggest differences when it comes to ASP.NET Core Identity compared to ASP.NET Identity",
    "One of the biggest differences when it comes to ASP.NET Core Identity compared to ASP.NET Identity",
    "Migrate from OWIN / Katana",
    "Migrate from OWIN / Katana",
    "The following resources offer some guidance for migrating from OWIN / Katana:",
    "The following resources offer some guidance for migrating from OWIN / Katana:",
    "\u2022  Migration",
    "\u2022  Migration",
    "\u2022",
    "\u2022",
    "Katana to ASPNET 5",
    "Katana to ASPNET 5",
    "References",
    "References",
    "\u2022  Migrate Authentication and Identity to ASP.NET Core",
    "\u2022  Migrate Authentication and Identity to ASP.NET Core",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Introduction to Identity on ASP.NET Core",
    "Introduction to Identity on ASP.NET Core",
    "Configure ASP.NET Core Identity",
    "Configure ASP.NET Core Identity",
    "Scaffold Identity in ASP.NET Core projects",
    "Scaffold Identity in ASP.NET Core projects",
    "Compare controllers in ASP.NET MVC and Web API",
    "Compare controllers in ASP.NET MVC and Web API",
    "In ASP.NET MVC 5 and Web API 2, there were two different Controller base types. MVC controllers",
    "In ASP.NET MVC 5 and Web API 2, there were two different Controller base types. MVC controllers",
    "In both frameworks, controllers are used to organize sets of action methods. Filters and routes can be",
    "In both frameworks, controllers are used to organize sets of action methods. Filters and routes can be",
    "29",
    "29",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "In ASP.NET MVC, content negotiation isn\u2019t supported. ASP.NET Web API 2 does support content",
    "In ASP.NET MVC, content negotiation isn\u2019t supported. ASP.NET Web API 2 does support content",
    "When migrating ASP.NET Web API controllers to ASP.NET Core, a few components need to be",
    "When migrating ASP.NET Web API controllers to ASP.NET Core, a few components need to be",
    "In addition, the ",
    "In addition, the ",
    "ASP.NET Core includes two new attributes: ConsumesAttribute and ProducesAttribute. These are used",
    "ASP.NET Core includes two new attributes: ConsumesAttribute and ProducesAttribute. These are used",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "Format response data in ASP.NET Core Web API",
    "Format response data in ASP.NET Core Web API",
    "\u2022  Migrate from ASP.NET Web API to ASP.NET Core",
    "\u2022  Migrate from ASP.NET Web API to ASP.NET Core",
    "Compare Razor usage in ASP.NET MVC and",
    "Compare Razor usage in ASP.NET MVC and",
    "The basic syntax of Razor hasn\u2019t changed substantially between ASP.NET MVC and ASP.NET Core.",
    "The basic syntax of Razor hasn\u2019t changed substantially between ASP.NET MVC and ASP.NET Core.",
    "Tag Helpers",
    "Tag Helpers",
    "Tag Helpers enable server-side code to participate in creating and rendering HTML elements in Razor",
    "Tag Helpers enable server-side code to participate in creating and rendering HTML elements in Razor",
    "Razor Pages",
    "Razor Pages",
    "Razor Pages offer an alternative to controllers, actions, and views for page- and form-based apps.",
    "Razor Pages offer an alternative to controllers, actions, and views for page- and form-based apps.",
    "30",
    "30",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "References",
    "References",
    "\u2022  Migrate from ASP.NET MVC to ASP.NET Core MVC: Controllers and Views",
    "\u2022  Migrate from ASP.NET MVC to ASP.NET Core MVC: Controllers and Views",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Tag Helpers in ASP.NET Core",
    "Tag Helpers in ASP.NET Core",
    "Introduction to Razor Pages in ASP.NET Core",
    "Introduction to Razor Pages in ASP.NET Core",
    "Razor syntax reference for ASP.NET Core",
    "Razor syntax reference for ASP.NET Core",
    "Compare ASP.NET SignalR and ASP.NET Core",
    "Compare ASP.NET SignalR and ASP.NET Core",
    "ASP.NET Core SignalR is incompatible with clients or servers using ASP.NET SignalR. You\u2019ll need to",
    "ASP.NET Core SignalR is incompatible with clients or servers using ASP.NET SignalR. You\u2019ll need to",
    "Feature differences",
    "Feature differences",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "ASP.NET SignalR automatically attempts to reconnect dropped connections; this behavior is",
    "ASP.NET SignalR automatically attempts to reconnect dropped connections; this behavior is",
    "Both frameworks support JSON; ASP.NET Core SignalR also supports a binary protocol based",
    "Both frameworks support JSON; ASP.NET Core SignalR also supports a binary protocol based",
    "The Forever Frame transport, supported by ASP.NET SignalR, isn\u2019t supported in ASP.NET Core",
    "The Forever Frame transport, supported by ASP.NET SignalR, isn\u2019t supported in ASP.NET Core",
    "ASP.NET Core SignalR must be configured by adding services.AddSignalR() and",
    "ASP.NET Core SignalR must be configured by adding services.AddSignalR() and",
    "ASP.NET Core SignalR requires sticky sessions; ASP.NET SignalR doesn\u2019t.",
    "ASP.NET Core SignalR requires sticky sessions; ASP.NET SignalR doesn\u2019t.",
    "ASP.NET Core simplifies the connection model; connections are only made to a single hub.",
    "ASP.NET Core simplifies the connection model; connections are only made to a single hub.",
    "ASP.NET Core SignalR supports streaming data from the hub to the client.",
    "ASP.NET Core SignalR supports streaming data from the hub to the client.",
    "ASP.NET Core SignalR doesn\u2019t support passing state between clients and the hub (but method",
    "ASP.NET Core SignalR doesn\u2019t support passing state between clients and the hub (but method",
    "The PersistentConnection class doesn\u2019t exist in ASP.NET Core SignalR.",
    "The PersistentConnection class doesn\u2019t exist in ASP.NET Core SignalR.",
    "ASP.NET SignalR supports SQL Server and Redis. ASP.NET Core SignalR supports Azure",
    "ASP.NET SignalR supports SQL Server and Redis. ASP.NET Core SignalR supports Azure",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Differences between ASP.NET SignalR and ASP.NET Core SignalR",
    "Differences between ASP.NET SignalR and ASP.NET Core SignalR",
    "Azure SignalR Service",
    "Azure SignalR Service",
    "31",
    "31",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "Compare testing options between ASP.NET MVC",
    "Compare testing options between ASP.NET MVC",
    "ASP.NET MVC apps support unit testing of controllers, but this approach often omits many MVC",
    "ASP.NET MVC apps support unit testing of controllers, but this approach often omits many MVC",
    "ASP.NET Core controllers can be unit tested just like ASP.NET MVC controllers, but with the same",
    "ASP.NET Core controllers can be unit tested just like ASP.NET MVC controllers, but with the same",
    "ASP.NET MVC and Web API did not support anything like the integration testing scenarios available in",
    "ASP.NET MVC and Web API did not support anything like the integration testing scenarios available in",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Creating Unit Tests for ASP.NET MVC Applications",
    "Creating Unit Tests for ASP.NET MVC Applications",
    "Unit test controller logic in ASP.NET Core",
    "Unit test controller logic in ASP.NET Core",
    "Integration tests in ASP.NET Core",
    "Integration tests in ASP.NET Core",
    "32",
    "32",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER 2 | Architectural differences between ASP.NET MVC and ASP.NET Core",
    "CHAPTER  3",
    "CHAPTER  3",
    "Migrate large solutions to",
    "Migrate large solutions to",
    "Migrating large solutions from .NET Framework to .NET Core requires some planning. Dependencies",
    "Migrating large solutions from .NET Framework to .NET Core requires some planning. Dependencies",
    "In this chapter, you\u2019ll learn how create a migration plan for a large solution, how to use tools to help",
    "In this chapter, you\u2019ll learn how create a migration plan for a large solution, how to use tools to help",
    "References",
    "References",
    "\u2022  What topics are important to migrating large MVC and Web API apps to .NET Core?",
    "\u2022  What topics are important to migrating large MVC and Web API apps to .NET Core?",
    "\u2022",
    "\u2022",
    "Porting from .NET Framework to .NET Core",
    "Porting from .NET Framework to .NET Core",
    "Identify sequence of projects to migrate",
    "Identify sequence of projects to migrate",
    "For solutions that involve multiple front-end apps, it\u2019s best to migrate the apps one by one. For",
    "For solutions that involve multiple front-end apps, it\u2019s best to migrate the apps one by one. For",
    "Once you\u2019ve identified the ASP.NET app to migrate and have its dependent projects located with it",
    "Once you\u2019ve identified the ASP.NET app to migrate and have its dependent projects located with it",
    "33",
    "33",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "Figure 3-1. Project dependencies graph.",
    "Figure 3-1. Project dependencies graph.",
    "Choose a particular front-end app, an ASP.NET MVC 5 / Web API 2 project. Identify its dependencies",
    "Choose a particular front-end app, an ASP.NET MVC 5 / Web API 2 project. Identify its dependencies",
    "Figure 3-2 shows the installer for the .NET Portability Analyzer Visual Studio extension:",
    "Figure 3-2 shows the installer for the .NET Portability Analyzer Visual Studio extension:",
    "34",
    "34",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "Figure 3-2. .NET Portability Analyzer installer.",
    "Figure 3-2. .NET Portability Analyzer installer.",
    "The extension currently supports Visual Studio 2017 and 2019. Visual Studio 2022 support is planned.",
    "The extension currently supports Visual Studio 2017 and 2019. Visual Studio 2022 support is planned.",
    "Once installed, you configure it from the Analyze > Portability Analyzer Settings menu, as shown in",
    "Once installed, you configure it from the Analyze > Portability Analyzer Settings menu, as shown in",
    "35",
    "35",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "Figure 3-3. Configure the .NET Portability Analyzer.",
    "Figure 3-3. Configure the .NET Portability Analyzer.",
    "The analyzer produces a detailed report for each assembly. The report:",
    "The analyzer produces a detailed report for each assembly. The report:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Describes how compatible each project is with a given target framework, such as .NET 7 or",
    "Describes how compatible each project is with a given target framework, such as .NET 7 or",
    "Helps teams assess the effort required to port a particular project to a particular target",
    "Helps teams assess the effort required to port a particular project to a particular target",
    "The details of this analysis are covered in the next section.",
    "The details of this analysis are covered in the next section.",
    "Once you\u2019ve mapped out the projects and their relationships with one another, you\u2019re ready to",
    "Once you\u2019ve mapped out the projects and their relationships with one another, you\u2019re ready to",
    "In the example shown in Figure 3-1, you would start with the Contoso.Utils project, since it doesn\u2019t",
    "In the example shown in Figure 3-1, you would start with the Contoso.Utils project, since it doesn\u2019t",
    "36",
    "36",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "Unit tests",
    "Unit tests",
    "Missing from the previous diagrams are unit test projects. Hopefully there are tests covering at least",
    "Missing from the previous diagrams are unit test projects. Hopefully there are tests covering at least",
    "If you have unit tests, it\u2019s best to convert those projects first. You\u2019ll want to continue testing changes",
    "If you have unit tests, it\u2019s best to convert those projects first. You\u2019ll want to continue testing changes",
    "MSTest, xUnit, and NUnit all work on .NET Core. If you don\u2019t currently have tests for your app,",
    "MSTest, xUnit, and NUnit all work on .NET Core. If you don\u2019t currently have tests for your app,",
    "Considerations for migrating many apps",
    "Considerations for migrating many apps",
    "Some organizations will have many different apps to migrate, and migrating each one by hand may",
    "Some organizations will have many different apps to migrate, and migrating each one by hand may",
    "Watch an overview of how to employ this approach in this dotNetConf presentation by Lizzy",
    "Watch an overview of how to employ this approach in this dotNetConf presentation by Lizzy",
    "\u2022  Migrate third-party NuGet dependencies",
    "\u2022  Migrate third-party NuGet dependencies",
    "\u2022  Migrate apps to use new .csproj file format",
    "\u2022  Migrate apps to use new .csproj file format",
    "\u2022",
    "\u2022",
    "Update internal NuGet dependencies to .NET Standard",
    "Update internal NuGet dependencies to .NET Standard",
    "\u2022  Migrate apps to ASP.NET Core (targeting .NET Framework)",
    "\u2022  Migrate apps to ASP.NET Core (targeting .NET Framework)",
    "\u2022",
    "\u2022",
    "Update all apps to target .NET 7",
    "Update all apps to target .NET 7",
    "When automating a large suite of apps, it helps significantly if they follow consistent coding",
    "When automating a large suite of apps, it helps significantly if they follow consistent coding",
    "For example, a migration script could search files matching Controller.cs for lines of code matching",
    "For example, a migration script could search files matching Controller.cs for lines of code matching",
    "return new HttpStatusCodeResult(200);",
    "return new HttpStatusCodeResult(200);",
    "In ASP.NET Core, either of the preceding lines of code can be replaced with:",
    "In ASP.NET Core, either of the preceding lines of code can be replaced with:",
    "37",
    "37",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "Summary",
    "Summary",
    "The best approach to porting a large .NET Framework app to .NET Core is to:",
    "The best approach to porting a large .NET Framework app to .NET Core is to:",
    "Identify project dependencies.",
    "Identify project dependencies.",
    "Analyze what\u2019s required to port each project.",
    "Analyze what\u2019s required to port each project.",
    "Start from the bottom up.",
    "Start from the bottom up.",
    "You can use the .NET Portability Analyzer to determine how compatible existing libraries may be with",
    "You can use the .NET Portability Analyzer to determine how compatible existing libraries may be with",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Porting from .NET Framework to .NET Core",
    "Porting from .NET Framework to .NET Core",
    "The .NET Portability Analyzer",
    "The .NET Portability Analyzer",
    "2 Years, 200 Apps: A .NET Core Migration at Scale (Video)",
    "2 Years, 200 Apps: A .NET Core Migration at Scale (Video)",
    "Understand and update dependencies",
    "Understand and update dependencies",
    "After identifying the sequence in which the app\u2019s individual projects must be migrated, the next step",
    "After identifying the sequence in which the app\u2019s individual projects must be migrated, the next step",
    "Figure 3-4. .NET Portability Analyzer report details.",
    "Figure 3-4. .NET Portability Analyzer report details.",
    "Update class library dependencies",
    "Update class library dependencies",
    "Large apps typically involve multiple projects, and most projects other than the ASP.NET MVC web",
    "Large apps typically involve multiple projects, and most projects other than the ASP.NET MVC web",
    "38",
    "38",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "platforms, especially compared to ASP.NET projects, which are among the most difficult (and typically",
    "platforms, especially compared to ASP.NET projects, which are among the most difficult (and typically",
    "Teams can consider the try-convert tool or the .NET Upgrade Assistant tool for migrating class",
    "Teams can consider the try-convert tool or the .NET Upgrade Assistant tool for migrating class",
    "The try-convert and Upgrade Assistant tools are deployed as .NET Core command line tools. They only",
    "The try-convert and Upgrade Assistant tools are deployed as .NET Core command line tools. They only",
    "dotnet tool install -g try-convert",
    "dotnet tool install -g try-convert",
    "Once you\u2019ve successfully installed the tool, you can run try-convert in the folder where the class",
    "Once you\u2019ve successfully installed the tool, you can run try-convert in the folder where the class",
    "Install the .NET Upgrade Assistant with the following command (after installing try-convert):",
    "Install the .NET Upgrade Assistant with the following command (after installing try-convert):",
    "dotnet tool install -g upgrade-assistant",
    "dotnet tool install -g upgrade-assistant",
    "Run the tool with the command upgrade-assistant upgrade ",
    "Run the tool with the command upgrade-assistant upgrade ",
    "Update NuGet package dependencies",
    "Update NuGet package dependencies",
    "Analyze your use of third-party NuGet packages and determine if any of them don\u2019t yet support .NET",
    "Analyze your use of third-party NuGet packages and determine if any of them don\u2019t yet support .NET",
    "If support exists using the version of the package the app currently uses, great",
    "If support exists using the version of the package the app currently uses, great",
    "In some cases, no version of a given package works with .NET Core. In that case, teams have a couple",
    "In some cases, no version of a given package works with .NET Core. In that case, teams have a couple",
    "39",
    "39",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "Migrate ASP.NET MVC projects",
    "Migrate ASP.NET MVC projects",
    "The System.Web namespace and types don\u2019t exist in .NET Core. When you\u2019re analyzing dependencies",
    "The System.Web namespace and types don\u2019t exist in .NET Core. When you\u2019re analyzing dependencies",
    "In general, it\u2019s a good practice to minimize how much of an app\u2019s business logic lives in its user",
    "In general, it\u2019s a good practice to minimize how much of an app\u2019s business logic lives in its user",
    "The next chapter digs into details of how to migrate from ASP.NET MVC and Web API projects to",
    "The next chapter digs into details of how to migrate from ASP.NET MVC and Web API projects to",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    ".NET Upgrade Assistant tool",
    ".NET Upgrade Assistant tool",
    "try-convert tool",
    "try-convert tool",
    "apiport tool",
    "apiport tool",
    "Strategies for migrating while running in production",
    "Strategies for migrating while running in production",
    "Many teams have .NET Framework apps they plan to migrate to .NET Core/.NET 7, but the app is so",
    "Many teams have .NET Framework apps they plan to migrate to .NET Core/.NET 7, but the app is so",
    "Refactor the .NET Framework solution",
    "Refactor the .NET Framework solution",
    "A good place to start if you plan to port a .NET Framework app to .NET Core is to refactor it to work",
    "A good place to start if you plan to port a .NET Framework app to .NET Core is to refactor it to work",
    "When refactoring, make sure you\u2019re following good refactoring fundamentals. For example, create",
    "When refactoring, make sure you\u2019re following good refactoring fundamentals. For example, create",
    "40",
    "40",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "Extract front-end assets to a CDN",
    "Extract front-end assets to a CDN",
    "If your .NET Framework apps include a lot of static assets, like scripts, CSS files, or images, you may be",
    "If your .NET Framework apps include a lot of static assets, like scripts, CSS files, or images, you may be",
    "Extract and migrate individual microservices",
    "Extract and migrate individual microservices",
    "Large .NET Framework apps may already be comprised of separate front-end systems that can be",
    "Large .NET Framework apps may already be comprised of separate front-end systems that can be",
    "For example, the existing app might have a set of features it uses related to user sign-in and",
    "For example, the existing app might have a set of features it uses related to user sign-in and",
    "Deploy multiple versions of the app side-by-side in IIS",
    "Deploy multiple versions of the app side-by-side in IIS",
    "Using a combination of host headers and redirects, an existing ASP.NET MVC app can be configured",
    "Using a combination of host headers and redirects, an existing ASP.NET MVC app can be configured",
    "Apply the Strangler pattern",
    "Apply the Strangler pattern",
    "Large ASP.NET MVC apps can be gradually replaced with a new ASP.NET Core app by incrementally",
    "Large ASP.NET MVC apps can be gradually replaced with a new ASP.NET Core app by incrementally",
    "Once the facade is in place, you can route part of it to a new ASP.NET Core app. As you port more of",
    "Once the facade is in place, you can route part of it to a new ASP.NET Core app. As you port more of",
    "41",
    "41",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "Figure 3-5. The Strangler pattern over time.",
    "Figure 3-5. The Strangler pattern over time.",
    "Eventually, the entire facade layer corresponds to the new, modern implementation. At this point,",
    "Eventually, the entire facade layer corresponds to the new, modern implementation. At this point,",
    "Multi-targeting approaches",
    "Multi-targeting approaches",
    "Multi-targeting is recommended for large apps that will be migrated over time and for teams",
    "Multi-targeting is recommended for large apps that will be migrated over time and for teams",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Preprocessor directives (#if in C# or #If in Visual Basic) allow you to implement different",
    "Preprocessor directives (#if in C# or #If in Visual Basic) allow you to implement different",
    "Project files can use conditional globbing patterns, such as ",
    "Project files can use conditional globbing patterns, such as ",
    "Typically you only follow these recommendations for class libraries. These techniques allow a single",
    "Typically you only follow these recommendations for class libraries. These techniques allow a single",
    "Summary",
    "Summary",
    "Frequently, large ASP.NET MVC and Web API apps won\u2019t be ported to ASP.NET Core all at once, but",
    "Frequently, large ASP.NET MVC and Web API apps won\u2019t be ported to ASP.NET Core all at once, but",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "42",
    "42",
    ".NET Microservices: Architecture for Containerized .NET Applications",
    ".NET Microservices: Architecture for Containerized .NET Applications",
    "eShopOnContainers Reference Microservices Application",
    "eShopOnContainers Reference Microservices Application",
    "Host ASP.NET Core on Windows with IIS",
    "Host ASP.NET Core on Windows with IIS",
    "Strangler pattern",
    "Strangler pattern",
    "Incremental ASP.NET to ASP.NET Core Migration",
    "Incremental ASP.NET to ASP.NET Core Migration",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER 3 | Migrate large solutions to ASP.NET Core",
    "CHAPTER  4",
    "CHAPTER  4",
    "Example migration of",
    "Example migration of",
    "In this chapter, you\u2019ll see how to migrate a .NET Framework app to .NET Core. The chapter examines a",
    "In this chapter, you\u2019ll see how to migrate a .NET Framework app to .NET Core. The chapter examines a",
    "The initial version of the project is shown in Figure 4-1. It\u2019s a fairly standard ASP.NET MVC 5 app.",
    "The initial version of the project is shown in Figure 4-1. It\u2019s a fairly standard ASP.NET MVC 5 app.",
    "Figure 4-1. The eShopModernizing MVC sample project structure.",
    "Figure 4-1. The eShopModernizing MVC sample project structure.",
    "43",
    "43",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "This chapter demonstrates how to perform many of the upgrade steps by hand. Alternatively, you can",
    "This chapter demonstrates how to perform many of the upgrade steps by hand. Alternatively, you can",
    "Run ApiPort to identify problematic APIs",
    "Run ApiPort to identify problematic APIs",
    "The first step in preparing to migrate is to run the ApiPort tool. The tool identifies how many .NET",
    "The first step in preparing to migrate is to run the ApiPort tool. The tool identifies how many .NET",
    "After installing and configuring the ApiPort tool, run the analysis from within Visual Studio, as shown",
    "After installing and configuring the ApiPort tool, run the analysis from within Visual Studio, as shown",
    "44",
    "44",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-2. Analyze assembly portability in Visual Studio.",
    "Figure 4-2. Analyze assembly portability in Visual Studio.",
    "Choose the web project\u2019s assembly from the project\u2019s bin folder, as shown in Figure 4-3.",
    "Choose the web project\u2019s assembly from the project\u2019s bin folder, as shown in Figure 4-3.",
    "45",
    "45",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-3. Choose the project\u2019s web assembly.",
    "Figure 4-3. Choose the project\u2019s web assembly.",
    "If your solution includes several projects, you can choose all of them. The eShop sample includes just a",
    "If your solution includes several projects, you can choose all of them. The eShop sample includes just a",
    "Once the report is generated, open the file and review the results. The summary provides a high-level",
    "Once the report is generated, open the file and review the results. The summary provides a high-level",
    "Figure 4-4. ApiPort summary.",
    "Figure 4-4. ApiPort summary.",
    "For this app, about 80 percent of the .NET Framework calls are compatible. 20 percent of the calls",
    "For this app, about 80 percent of the .NET Framework calls are compatible. 20 percent of the calls",
    "46",
    "46",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-5. ApiPort incompatible type details.",
    "Figure 4-5. ApiPort incompatible type details.",
    "Most of the incompatible types refer to Controller and various related attributes that have equivalents",
    "Most of the incompatible types refer to Controller and various related attributes that have equivalents",
    "Update project files and NuGet reference syntax",
    "Update project files and NuGet reference syntax",
    "Next, migrate from the older .csproj file structure to the newer, simpler structure introduced with .NET",
    "Next, migrate from the older .csproj file structure to the newer, simpler structure introduced with .NET",
    "The original project\u2019s eShopLegacyMVC.csproj file is 418 lines long. A sample of the project file is",
    "The original project\u2019s eShopLegacyMVC.csproj file is 418 lines long. A sample of the project file is",
    "47",
    "47",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-6. The eShopLegacyMVC.csproj file structure.",
    "Figure 4-6. The eShopLegacyMVC.csproj file structure.",
    "A common way to create a new project file for an existing ASP.NET project is to create a new ASP.NET",
    "A common way to create a new project file for an existing ASP.NET project is to create a new ASP.NET",
    "In addition to the C# project file, NuGet dependencies are stored in a separate 45-line packages.config",
    "In addition to the C# project file, NuGet dependencies are stored in a separate 45-line packages.config",
    "48",
    "48",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-7. The packages.config file.",
    "Figure 4-7. The packages.config file.",
    "You can migrate packages.config in class library projects using Visual Studio. This functionality doesn\u2019t",
    "You can migrate packages.config in class library projects using Visual Studio. This functionality doesn\u2019t",
    "Create new ASP.NET Core project",
    "Create new ASP.NET Core project",
    "Add a new ASP.NET Core project to the existing app\u2019s solution to make moving files easier, as most of",
    "Add a new ASP.NET Core project to the existing app\u2019s solution to make moving files easier, as most of",
    "49",
    "49",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-8. Add new ASP.NET Core web application.",
    "Figure 4-8. Add new ASP.NET Core web application.",
    "The next dialog will ask you to choose which template to use. Select the Empty template. Be sure to",
    "The next dialog will ask you to choose which template to use. Select the Empty template. Be sure to",
    "50",
    "50",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-9. Choose an Empty project template targeting .NET Framework with ASP.NET Core 2.2.",
    "Figure 4-9. Choose an Empty project template targeting .NET Framework with ASP.NET Core 2.2.",
    "Migrating NuGet Packages",
    "Migrating NuGet Packages",
    "Since the built-in migration tool for migrating packages.config to ",
    "Since the built-in migration tool for migrating packages.config to ",
    "iwr",
    "iwr",
    "The first two commands download files so that they exist locally. The last line runs the script. After",
    "The first two commands download files so that they exist locally. The last line runs the script. After",
    "51",
    "51",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "In most ASP.NET MVC apps, many client-side dependencies like Bootstrap and jQuery were deployed",
    "In most ASP.NET MVC apps, many client-side dependencies like Bootstrap and jQuery were deployed",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Bootstrap",
    "Bootstrap",
    "jQuery",
    "jQuery",
    "jQuery.Validation",
    "jQuery.Validation",
    "\u2022  Modernizr",
    "\u2022  Modernizr",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "popper.js",
    "popper.js",
    "Respond",
    "Respond",
    "The static client files installed by NuGet for these packages will be copied over to the new project\u2019s",
    "The static client files installed by NuGet for these packages will be copied over to the new project\u2019s",
    "Figure 4-10. Package references in the eShopPorted.csproj file.",
    "Figure 4-10. Package references in the eShopPorted.csproj file.",
    "The package references can be further compacted by making the ",
    "The package references can be further compacted by making the ",
    "52",
    "52",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Migrate static files",
    "Migrate static files",
    "Any static files the app uses, including third-party scripts and frameworks but also custom images and",
    "Any static files the app uses, including third-party scripts and frameworks but also custom images and",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Content",
    "Content",
    "fonts",
    "fonts",
    "Images",
    "Images",
    "Pics",
    "Pics",
    "Scripts",
    "Scripts",
    "The Empty project template used in the previous step doesn\u2019t include this folder by default, or the",
    "The Empty project template used in the previous step doesn\u2019t include this folder by default, or the",
    "Add a wwwroot folder to the root of the project.",
    "Add a wwwroot folder to the root of the project.",
    "Add version 2.2.0 of the Microsoft.AspNetCore.StaticFiles NuGet package.",
    "Add version 2.2.0 of the Microsoft.AspNetCore.StaticFiles NuGet package.",
    "In Startup.cs, add a call to app.UseStaticFiles() in the Configure method:",
    "In Startup.cs, add a call to app.UseStaticFiles() in the Configure method:",
    "public void Configure(IApplicationBuilder app, IHostingEnvironment env)",
    "public void Configure(IApplicationBuilder app, IHostingEnvironment env)",
    "}",
    "}",
    "Copy the Content folder from the ASP.NET MVC app to the new project\u2019s wwwroot folder.",
    "Copy the Content folder from the ASP.NET MVC app to the new project\u2019s wwwroot folder.",
    "Run the app and navigate to its /Content/base.css folder to verify that the static file is served correctly",
    "Run the app and navigate to its /Content/base.css folder to verify that the static file is served correctly",
    "53",
    "53",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-11. Static folders copied over to wwwroot folder.",
    "Figure 4-11. Static folders copied over to wwwroot folder.",
    "Migrate C# files",
    "Migrate C# files",
    "Next, copy over the C# files used by the app, including standard MVC folders and their contents like",
    "Next, copy over the C# files used by the app, including standard MVC folders and their contents like",
    "For the eShop sample, the first folder I choose to migrate is the Models folder, which includes C#",
    "For the eShop sample, the first folder I choose to migrate is the Models folder, which includes C#",
    "Next, the ViewModel folder, with its one class, is copied over. It\u2019s an easy one, and builds immediately.",
    "Next, the ViewModel folder, with its one class, is copied over. It\u2019s an easy one, and builds immediately.",
    "The Services folder is copied over. This folder\u2019s classes depend on Entity Framework classes from the",
    "The Services folder is copied over. This folder\u2019s classes depend on Entity Framework classes from the",
    "54",
    "54",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "That leaves the Controllers folder and its two Controller classes. After copying the folder to the new",
    "That leaves the Controllers folder and its two Controller classes. After copying the folder to the new",
    "Missing compiler required member ",
    "Missing compiler required member ",
    "To resolve this error, add a NuGet package reference to C#:",
    "To resolve this error, add a NuGet package reference to C#:",
    "The remaining three errors specify types that are defined in an assembly that isn\u2019t referenced.",
    "The remaining three errors specify types that are defined in an assembly that isn\u2019t referenced.",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "HttpServerUtilityBase",
    "HttpServerUtilityBase",
    "RouteValueDictionary",
    "RouteValueDictionary",
    "HttpRequestBase",
    "HttpRequestBase",
    "Let\u2019s look at each error one by one. The first error occurs while trying to reference the Server property",
    "Let\u2019s look at each error one by one. The first error occurs while trying to reference the Server property",
    "if (item ",
    "if (item ",
    "}",
    "}",
    "There are two possible solutions to this problem. The first is to keep the functionality as it is. In this",
    "There are two possible solutions to this problem. The first is to keep the functionality as it is. In this",
    "The next two errors both occur in the same private method in the same line of code:",
    "The next two errors both occur in the same private method in the same line of code:",
    "private void AddUriPlaceHolder(CatalogItem item)",
    "private void AddUriPlaceHolder(CatalogItem item)",
    "Both this.Url and this.Request cause compiler errors. Looking at how this code is used, its purpose is",
    "Both this.Url and this.Request cause compiler errors. Looking at how this code is used, its purpose is",
    "55",
    "55",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "It\u2019s worth noting that the base Controller class, used by the CatalogController class in which this code",
    "It\u2019s worth noting that the base Controller class, used by the CatalogController class in which this code",
    "This time, there are 16 errors:",
    "This time, there are 16 errors:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Include is not a valid named attribute argument (2)",
    "Include is not a valid named attribute argument (2)",
    "HttpStatusCodeResult not found (3)",
    "HttpStatusCodeResult not found (3)",
    "HttpNotFound does not exist (3)",
    "HttpNotFound does not exist (3)",
    "SelectList not found (8)",
    "SelectList not found (8)",
    "Once more, let\u2019s review these errors one by one. First, SelectList can be fixed by adding using",
    "Once more, let\u2019s review these errors one by one. First, SelectList can be fixed by adding using",
    "All references to return HttpNotFound(); should be replaced with return NotFound();.",
    "All references to return HttpNotFound(); should be replaced with return NotFound();.",
    "All references to return new HttpStatusCodeResult(HttpStatusCode.BadRequest); should be replaced",
    "All references to return new HttpStatusCodeResult(HttpStatusCode.BadRequest); should be replaced",
    "That just leaves the use of Include with a ",
    "That just leaves the use of Include with a ",
    "[",
    "[",
    "The preceding code restricts model binding to the properties listed in the Include string. In ASP.NET",
    "The preceding code restricts model binding to the properties listed in the Include string. In ASP.NET",
    "[",
    "[",
    "With these changes, the project compiles once more. It\u2019s generally a better practice to use separate",
    "With these changes, the project compiles once more. It\u2019s generally a better practice to use separate",
    "Migrate views",
    "Migrate views",
    "The two biggest ASP.NET Core MVC features related to views are Razor Pages and Tag Helpers. For",
    "The two biggest ASP.NET Core MVC features related to views are Razor Pages and Tag Helpers. For",
    "56",
    "56",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "HttpContext does not exist (2)",
    "HttpContext does not exist (2)",
    "Scripts does not exist (5)",
    "Scripts does not exist (5)",
    "Styles does not exist (1)",
    "Styles does not exist (1)",
    "HtmlString could not be found(1)",
    "HtmlString could not be found(1)",
    "Investigating these errors finds that most of them are in the main ",
    "Investigating these errors finds that most of them are in the main ",
    "// other lines omitted; only errors shown",
    "// other lines omitted; only errors shown",
    "@{ var sessionInfo = new HtmlString($",
    "@{ var sessionInfo = new HtmlString($",
    "@Scripts.Render(",
    "@Scripts.Render(",
    "The reference to Modernizr can be removed. The references to Bootstrap and jQuery can be replaced",
    "The reference to Modernizr can be removed. The references to Bootstrap and jQuery can be replaced",
    "Replace @Styles.Render line with:",
    "Replace @Styles.Render line with:",
    "Replace the last two Scripts.Render lines with:",
    "Replace the last two Scripts.Render lines with:",
    "Finally, after the Bootstrap ",
    "Finally, after the Bootstrap ",
    "To determine the order in which the ",
    "To determine the order in which the ",
    "bundles.Add(new StyleBundle(",
    "bundles.Add(new StyleBundle(",
    "57",
    "57",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "\"",
    "\"",
    "Building again reveals one more error loading jQuery Validation on the Create and Edit views. Replace",
    "Building again reveals one more error loading jQuery Validation on the Create and Edit views. Replace",
    "The last thing to fix in the views is the reference to Session to display how long the app has been",
    "The last thing to fix in the views is the reference to Session to display how long the app has been",
    "At this point, the app once more builds successfully. However, trying to run it just yields Hello World",
    "At this point, the app once more builds successfully. However, trying to run it just yields Hello World",
    "Migrate app startup components",
    "Migrate app startup components",
    "The last migration step is to take the app startup tasks from Global.asax, and the classes it calls, and",
    "The last migration step is to take the app startup tasks from Global.asax, and the classes it calls, and",
    "Configure MVC",
    "Configure MVC",
    "The original ASP.NET MVC app has the following code in its Application",
    "The original ASP.NET MVC app has the following code in its Application",
    "protected void Application",
    "protected void Application",
    "58",
    "58",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Looking at these lines one by one, the RegisterContainer method sets up dependency injection, which",
    "Looking at these lines one by one, the RegisterContainer method sets up dependency injection, which",
    "Since this app isn\u2019t actually using areas, there\u2019s nothing that needs to be done to migrate the area",
    "Since this app isn\u2019t actually using areas, there\u2019s nothing that needs to be done to migrate the area",
    "The call to register global filters invokes a helper on the FilterConfig class in the app\u2019s App",
    "The call to register global filters invokes a helper on the FilterConfig class in the app\u2019s App",
    "public static void RegisterGlobalFilters(GlobalFilterCollection filters)",
    "public static void RegisterGlobalFilters(GlobalFilterCollection filters)",
    "The only attribute added to the app is the ASP.NET MVC filter, HandleErrorAttribute. This filter ensures",
    "The only attribute added to the app is the ASP.NET MVC filter, HandleErrorAttribute. This filter ensures",
    "public void Configure(IApplicationBuilder app, IWebHostEnvironment env)",
    "public void Configure(IApplicationBuilder app, IWebHostEnvironment env)",
    "This takes care of the only filter used by the eShop app, and in this case it was done by using built-in",
    "This takes care of the only filter used by the eShop app, and in this case it was done by using built-in",
    "The last piece of MVC-related logic that needs to be migrated are the app\u2019s default routes. The call to",
    "The last piece of MVC-related logic that needs to be migrated are the app\u2019s default routes. The call to",
    "public static void RegisterRoutes(RouteCollection routes)",
    "public static void RegisterRoutes(RouteCollection routes)",
    "UrlParameter.Optional }",
    "UrlParameter.Optional }",
    "59",
    "59",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    ");",
    ");",
    "Taking this code line-by-line, the first line sets up support for attribute routes. This is built into",
    "Taking this code line-by-line, the first line sets up support for attribute routes. This is built into",
    "ASP.NET Core MVC supports conventional routing and attribute routing. Conventional routing is",
    "ASP.NET Core MVC supports conventional routing and attribute routing. Conventional routing is",
    "app.UseMvc(routes =>",
    "app.UseMvc(routes =>",
    "Note",
    "Note",
    "With ASP.NET Core 3.0 and later, this is changed to use endpoints. For the initial port to ASP.NET Core",
    "With ASP.NET Core 3.0 and later, this is changed to use endpoints. For the initial port to ASP.NET Core",
    "With these changes in place, the Configure method is almost done. The original template\u2019s app.Run",
    "With these changes in place, the Configure method is almost done. The original template\u2019s app.Run",
    "public void Configure(IApplicationBuilder app, IHostingEnvironment env)",
    "public void Configure(IApplicationBuilder app, IHostingEnvironment env)",
    "}",
    "}",
    "Now it\u2019s time to configure MVC services, followed by the rest of the app\u2019s support for dependency",
    "Now it\u2019s time to configure MVC services, followed by the rest of the app\u2019s support for dependency",
    "First, to get ASP.NET Core MVC to work properly, it needs to be added:",
    "First, to get ASP.NET Core MVC to work properly, it needs to be added:",
    "60",
    "60",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "builder.Services.AddMvc();",
    "builder.Services.AddMvc();",
    "The preceding code is the minimal configuration required to get MVC features working. There are",
    "The preceding code is the minimal configuration required to get MVC features working. There are",
    "Migrate dependency injection configuration",
    "Migrate dependency injection configuration",
    "The original app\u2019s Global.asax file defines the following method, called when the app starts up:",
    "The original app\u2019s Global.asax file defines the following method, called when the app starts up:",
    "protected IContainer RegisterContainer()",
    "protected IContainer RegisterContainer()",
    "builder.RegisterControllers(typeof(MvcApplication).Assembly);",
    "builder.RegisterControllers(typeof(MvcApplication).Assembly);",
    "var mockData = bool.Parse(ConfigurationManager.AppSettings",
    "var mockData = bool.Parse(ConfigurationManager.AppSettings",
    "var container = builder.Build();",
    "var container = builder.Build();",
    "return container;",
    "return container;",
    "This code configures an Autofac container, reads a config setting to determine whether real or mock",
    "This code configures an Autofac container, reads a config setting to determine whether real or mock",
    "ASP.NET Core has built-in support for dependency injection, but you can wire up a third-party",
    "ASP.NET Core has built-in support for dependency injection, but you can wire up a third-party",
    "// using Autofac.Extensions.DependencyInjection",
    "// using Autofac.Extensions.DependencyInjection",
    "For now, the setting for useMockData is set to true. This setting will be read from configuration in a",
    "For now, the setting for useMockData is set to true. This setting will be read from configuration in a",
    "61",
    "61",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Figure 4-12. Ported eShop app running locally with mock data.",
    "Figure 4-12. Ported eShop app running locally with mock data.",
    "Migrate app settings",
    "Migrate app settings",
    "ASP.NET Core uses a new configuration system, which by default uses an appsettings.json file. By using",
    "ASP.NET Core uses a new configuration system, which by default uses an appsettings.json file. By using",
    "The original app referenced its settings using ConfigurationManager.AppSettings. A quick search for",
    "The original app referenced its settings using ConfigurationManager.AppSettings. A quick search for",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "UseMockData",
    "UseMockData",
    "UseCustomizationData",
    "UseCustomizationData",
    "If your app has more complex configuration, especially if it\u2019s using custom configuration sections,",
    "If your app has more complex configuration, especially if it\u2019s using custom configuration sections,",
    "First, modify the ported app\u2019s appsettings.json file and add the two settings in the root:",
    "First, modify the ported app\u2019s appsettings.json file and add the two settings in the root:",
    "{",
    "{",
    "62",
    "62",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "\"",
    "\"",
    "Now, modify Program.cs to access the UseMockData setting from the builder.Configuration property",
    "Now, modify Program.cs to access the UseMockData setting from the builder.Configuration property",
    "bool useMockData = builder.Configuration.GetValue",
    "bool useMockData = builder.Configuration.GetValue",
    "At this point, the setting is pulled from configuration. The other setting, UseCustomizationData, is",
    "At this point, the setting is pulled from configuration. The other setting, UseCustomizationData, is",
    "// add using Microsoft.Extensions.Configuration",
    "// add using Microsoft.Extensions.Configuration",
    "All access to configuration within the web app should be modified in this manner to use the new",
    "All access to configuration within the web app should be modified in this manner to use the new",
    "The app\u2019s migration is nearly complete. The only remaining task is data access configuration.",
    "The app\u2019s migration is nearly complete. The only remaining task is data access configuration.",
    "Data access considerations",
    "Data access considerations",
    "ASP.NET Core apps running on .NET Framework can continue to use Entity Framework (EF). If",
    "ASP.NET Core apps running on .NET Framework can continue to use Entity Framework (EF). If",
    "As it happens, configuring EF 6 in the eShop sample migration doesn\u2019t require any special work, since",
    "As it happens, configuring EF 6 in the eShop sample migration doesn\u2019t require any special work, since",
    "Update the appsettings.json to include the connection string. The full file is listed here:",
    "Update the appsettings.json to include the connection string. The full file is listed here:",
    "63",
    "63",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "{",
    "{",
    "The connection string must be passed into the constructor when the DbContext is created. Since the",
    "The connection string must be passed into the constructor when the DbContext is created. Since the",
    "builder.RegisterType",
    "builder.RegisterType",
    "The parameter must also be added to a new constructor overload in CatalogDBContext itself:",
    "The parameter must also be added to a new constructor overload in CatalogDBContext itself:",
    "public CatalogDBContext(string connectionString) : base(connectionString)",
    "public CatalogDBContext(string connectionString) : base(connectionString)",
    "Finally, Program.cs must read the connection string from Configuration and pass it into the",
    "Finally, Program.cs must read the connection string from Configuration and pass it into the",
    "bool useMockData = Configuration.GetValue",
    "bool useMockData = Configuration.GetValue",
    "With this code in place, the app runs as it did before, connecting to a SQL Server database when",
    "With this code in place, the app runs as it did before, connecting to a SQL Server database when",
    "The app can be deployed and run in production at this point, converted to ASP.NET Core but still",
    "The app can be deployed and run in production at this point, converted to ASP.NET Core but still",
    "Migrate to Entity Framework Core",
    "Migrate to Entity Framework Core",
    "Assuming a decision is made to migrate to EF Core, the steps can be fairly straightforward, especially",
    "Assuming a decision is made to migrate to EF Core, the steps can be fairly straightforward, especially",
    "64",
    "64",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "To upgrade to EF Core 2.2, the basic steps involved are to add the appropriate NuGet package(s) and",
    "To upgrade to EF Core 2.2, the basic steps involved are to add the appropriate NuGet package(s) and",
    "EF Core is added as a package reference to the project:",
    "EF Core is added as a package reference to the project:",
    "The reference to EF 6 is removed:",
    "The reference to EF 6 is removed:",
    "The compiler will report errors in CatalogDBContext and CatalogDBInitializer. CatalogDbContext",
    "The compiler will report errors in CatalogDBContext and CatalogDBInitializer. CatalogDbContext",
    "protected override void OnModelCreating(ModelBuilder builder)",
    "protected override void OnModelCreating(ModelBuilder builder)",
    "}",
    "}",
    "Other changes involved include:",
    "Other changes involved include:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "HasDatabaseGeneratedOption(DatabaseGeneratedOption.None) replaced with",
    "HasDatabaseGeneratedOption(DatabaseGeneratedOption.None) replaced with",
    "HasRequired",
    "HasRequired",
    "Installed Microsoft.EntityFrameworkCore.Relational package",
    "Installed Microsoft.EntityFrameworkCore.Relational package",
    "Add a constructor to CatalogDBContext taking DbContextOptions and passing it to the base",
    "Add a constructor to CatalogDBContext taking DbContextOptions and passing it to the base",
    "An example configuration class for CatalogType is shown here:",
    "An example configuration class for CatalogType is shown here:",
    "using Microsoft.EntityFrameworkCore;",
    "using Microsoft.EntityFrameworkCore;",
    "namespace eShopPorted.Models.Config",
    "namespace eShopPorted.Models.Config",
    "65",
    "65",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "}",
    "}",
    "The CatalogDBInitializer and its base class, CreateDatabaseIfNotExists",
    "The CatalogDBInitializer and its base class, CreateDatabaseIfNotExists",
    "dbContext.Database.EnsureDeleted();",
    "dbContext.Database.EnsureDeleted();",
    "Seeding data in EF Core can be done with manual scripts, or as part of the type configuration. Along",
    "Seeding data in EF Core can be done with manual scripts, or as part of the type configuration. Along",
    "builder.HasData(",
    "builder.HasData(",
    "The initial app includes a PreconfiguredData class, which includes data for CatalogBrand and",
    "The initial app includes a PreconfiguredData class, which includes data for CatalogBrand and",
    "builder.HasData(",
    "builder.HasData(",
    "The CatalogItem data can also be pulled from PreconfiguredData, and assuming the associated",
    "The CatalogItem data can also be pulled from PreconfiguredData, and assuming the associated",
    "With the elimination of the special key generator classes for CatalogItem, this code now is removed",
    "With the elimination of the special key generator classes for CatalogItem, this code now is removed",
    "builder.Property(ci => ci.Id)",
    "builder.Property(ci => ci.Id)",
    "With these modifications, the ASP.NET Core app builds, but it doesn\u2019t yet work with EF Core, which",
    "With these modifications, the ASP.NET Core app builds, but it doesn\u2019t yet work with EF Core, which",
    "builder.Services.AddMvc();",
    "builder.Services.AddMvc();",
    "66",
    "66",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "string connectionString =",
    "string connectionString =",
    "}",
    "}",
    "The final version of Autofac\u2019s ApplicationModule only configures one type, depending on whether the",
    "The final version of Autofac\u2019s ApplicationModule only configures one type, depending on whether the",
    "public class ApplicationModule : Module",
    "public class ApplicationModule : Module",
    "}",
    "}",
    "The ported app runs, but doesn\u2019t display any data if configured to use non-mock data. The seed data",
    "The ported app runs, but doesn\u2019t display any data if configured to use non-mock data. The seed data",
    "dotnet ef migrations add Initial",
    "dotnet ef migrations add Initial",
    "Drop the existing eShopPorted database if it exists, then run:",
    "Drop the existing eShopPorted database if it exists, then run:",
    "dotnet ef database update",
    "dotnet ef database update",
    "This creates and seeds the database. It\u2019s now ready to run, with a few small updates left to address.",
    "This creates and seeds the database. It\u2019s now ready to run, with a few small updates left to address.",
    "Fix all TODO tasks",
    "Fix all TODO tasks",
    "Running the ported app at this point reveals that no pictures are shown on the page. This is because",
    "Running the ported app at this point reveals that no pictures are shown on the page. This is because",
    "67",
    "67",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "using Visual Studio\u2019s Task List, the only one that remains is in CatalogController, with a note to",
    "using Visual Studio\u2019s Task List, the only one that remains is in CatalogController, with a note to",
    "private void AddUriPlaceHolder(CatalogItem item)",
    "private void AddUriPlaceHolder(CatalogItem item)",
    "The simplest fix is to reference the public image files in the site\u2019s public wwwroot/Pics directory. This",
    "The simplest fix is to reference the public image files in the site\u2019s public wwwroot/Pics directory. This",
    "private void AddUriPlaceHolder(CatalogItem item)",
    "private void AddUriPlaceHolder(CatalogItem item)",
    "With this change, running the app reveals the images work as before.",
    "With this change, running the app reveals the images work as before.",
    "Additional MVC customizations",
    "Additional MVC customizations",
    "The eShopLegacyMVC app is fairly simple, so there isn\u2019t much to configure in terms of default MVC",
    "The eShopLegacyMVC app is fairly simple, so there isn\u2019t much to configure in terms of default MVC",
    "builder.Services.AddCors(options =>",
    "builder.Services.AddCors(options =>",
    "builder.Services.AddMvc(options =>",
    "builder.Services.AddMvc(options =>",
    "Note",
    "Note",
    "To finish configuring CORS, you must also call app.UseCors() after building the application.",
    "To finish configuring CORS, you must also call app.UseCors() after building the application.",
    "Other advanced scenarios, like adding custom model binders, formatters, and more are covered in the",
    "Other advanced scenarios, like adding custom model binders, formatters, and more are covered in the",
    "68",
    "68",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Other dependencies",
    "Other dependencies",
    "Dependencies that use .NET Framework features that had a dependency on the legacy configuration",
    "Dependencies that use .NET Framework features that had a dependency on the legacy configuration",
    "var binding = new BasicHttpBinding();",
    "var binding = new BasicHttpBinding();",
    "var endpointAddress = new EndpointAddress(",
    "var endpointAddress = new EndpointAddress(",
    "var myClient = new MyServiceClient(binding, endpointAddress);",
    "var myClient = new MyServiceClient(binding, endpointAddress);",
    "Rather than relying on config files for its settings, WCF clients and other .NET Framework types should",
    "Rather than relying on config files for its settings, WCF clients and other .NET Framework types should",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "eShopModernizing GitHub repository",
    "eShopModernizing GitHub repository",
    ".NET Upgrade Assistant tool",
    ".NET Upgrade Assistant tool",
    "Your API and ViewModels Should Not Reference Domain Models",
    "Your API and ViewModels Should Not Reference Domain Models",
    "Developer Exception Page Middleware",
    "Developer Exception Page Middleware",
    "Deep Dive into EF Core HasData",
    "Deep Dive into EF Core HasData",
    "More migration scenarios",
    "More migration scenarios",
    "This section describes several different ASP.NET app scenarios, and offers specific techniques for",
    "This section describes several different ASP.NET app scenarios, and offers specific techniques for",
    "Migrate ASP.NET MVC 5 and WebApi 2 to ASP.NET Core MVC",
    "Migrate ASP.NET MVC 5 and WebApi 2 to ASP.NET Core MVC",
    "A common scenario in ASP.NET MVC 5 and Web API 2 apps was for both products to be installed in",
    "A common scenario in ASP.NET MVC 5 and Web API 2 apps was for both products to be installed in",
    "The eShopLegacyMVC app includes both ASP.NET MVC and Web API, and includes methods in its",
    "The eShopLegacyMVC app includes both ASP.NET MVC and Web API, and includes methods in its",
    "69",
    "69",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "protected IContainer RegisterContainer()",
    "protected IContainer RegisterContainer()",
    "}",
    "}",
    "When upgrading these apps to use ASP.NET Core, this duplicate effort and the confusion that",
    "When upgrading these apps to use ASP.NET Core, this duplicate effort and the confusion that",
    "Migrate HttpResponseMessage to ASP.NET Core",
    "Migrate HttpResponseMessage to ASP.NET Core",
    "Some ASP.NET Web API apps may have action methods that return HttpResponseMessage. This type",
    "Some ASP.NET Web API apps may have action methods that return HttpResponseMessage. This type",
    "// DELETE api/",
    "// DELETE api/",
    "}",
    "}",
    "In ASP.NET Core MVC, there are helper methods available for all of the common HTTP response status",
    "In ASP.NET Core MVC, there are helper methods available for all of the common HTTP response status",
    "[",
    "[",
    "70",
    "70",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "return NotFound();",
    "return NotFound();",
    "}",
    "}",
    "If you do find that you need to return a custom status code for which no helper exists, you can always",
    "If you do find that you need to return a custom status code for which no helper exists, you can always",
    "Migrate content negotiation from ASP.NET Web API to ASP.NET Core",
    "Migrate content negotiation from ASP.NET Web API to ASP.NET Core",
    "ASP.NET Web API 2 supports content negotiation natively. The sample app includes a",
    "ASP.NET Web API 2 supports content negotiation natively. The sample app includes a",
    "ASP.NET MVC 5 apps do not have content negotiation support built in.",
    "ASP.NET MVC 5 apps do not have content negotiation support built in.",
    "Content negotiation is preferable to returning a specific encoding type, as it is more flexible and",
    "Content negotiation is preferable to returning a specific encoding type, as it is more flexible and",
    "The following code returns data in JSON format regardless of client Accept header content:",
    "The following code returns data in JSON format regardless of client Accept header content:",
    "[",
    "[",
    "ASP.NET Core MVC supports content negotiation natively, provided an appropriate return type is",
    "ASP.NET Core MVC supports content negotiation natively, provided an appropriate return type is",
    "public IActionResult Index()",
    "public IActionResult Index()",
    "This will default to returning the data in JSON format. XML and other formats will be used if the app",
    "This will default to returning the data in JSON format. XML and other formats will be used if the app",
    "Custom model binding",
    "Custom model binding",
    "Most ASP.NET MVC and Web API apps make use of model binding. The default model binding syntax",
    "Most ASP.NET MVC and Web API apps make use of model binding. The default model binding syntax",
    "71",
    "71",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "binder exposes a Bind method that accepts a controller or action context and a model binding context",
    "binder exposes a Bind method that accepts a controller or action context and a model binding context",
    "Once the custom binder is created, it must be registered with the app. This step requires creating",
    "Once the custom binder is created, it must be registered with the app. This step requires creating",
    "ModelBinderProviders.BinderProviders.Insert(0, new MyCustomBinderProvider()); // MVC",
    "ModelBinderProviders.BinderProviders.Insert(0, new MyCustomBinderProvider()); // MVC",
    "In Web API apps, custom binders can be referenced using attributes. The ModelBinder attribute can",
    "In Web API apps, custom binders can be referenced using attributes. The ModelBinder attribute can",
    "// attribute on action method parameter",
    "// attribute on action method parameter",
    "// attribute on type",
    "// attribute on type",
    "To register a model binder globally in ASP.NET Web API, its provider must be added during app",
    "To register a model binder globally in ASP.NET Web API, its provider must be added during app",
    "public static class WebApiConfig",
    "public static class WebApiConfig",
    "}",
    "}",
    "When migrating custom model providers to ASP.NET Core, the Web API pattern is closer to the",
    "When migrating custom model providers to ASP.NET Core, the Web API pattern is closer to the",
    "builder.Services.AddControllers(options =>",
    "builder.Services.AddControllers(options =>",
    "72",
    "72",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Media formatters",
    "Media formatters",
    "ASP.NET Web API supports multiple media formats and can be extended by using custom media",
    "ASP.NET Web API supports multiple media formats and can be extended by using custom media",
    "To create a custom formatter in Web API 2, you inherited from an appropriate base class and then",
    "To create a custom formatter in Web API 2, you inherited from an appropriate base class and then",
    "public static void ConfigureApis(HttpConfiguration config)",
    "public static void ConfigureApis(HttpConfiguration config)",
    "In ASP.NET Core, the process is similar. ASP.NET Core supports both input formatters (used by model",
    "In ASP.NET Core, the process is similar. ASP.NET Core supports both input formatters (used by model",
    "builder.Services.AddControllers(options =>",
    "builder.Services.AddControllers(options =>",
    "You\u2019ll find a complete list of base classes in the Microsoft.AspNetCore.Mvc.Formatters namespace.",
    "You\u2019ll find a complete list of base classes in the Microsoft.AspNetCore.Mvc.Formatters namespace.",
    "The steps to migrate from a Web API formatter to an ASP.NET Core MVC formatter are:",
    "The steps to migrate from a Web API formatter to an ASP.NET Core MVC formatter are:",
    "Identify an appropriate base class for the new formatter.",
    "Identify an appropriate base class for the new formatter.",
    "Create a new instance of the base class and implement its required methods.",
    "Create a new instance of the base class and implement its required methods.",
    "Copy over the functionality from the Web API formatter to the new implementation.",
    "Copy over the functionality from the Web API formatter to the new implementation.",
    "Configure MVC in the ASP.NET Core App\u2019s ConfigureServices method to use the new",
    "Configure MVC in the ASP.NET Core App\u2019s ConfigureServices method to use the new",
    "Custom filters",
    "Custom filters",
    "Filters are used in ASP.NET Core apps to execute code before and/or after certain stages in the",
    "Filters are used in ASP.NET Core apps to execute code before and/or after certain stages in the",
    "The most common filter used in ASP.NET MVC and Web API apps is the action filter, which is defined",
    "The most common filter used in ASP.NET MVC and Web API apps is the action filter, which is defined",
    "ASP.NET Core continues to support filters, and its unification of MVC and Web API means there is only",
    "ASP.NET Core continues to support filters, and its unification of MVC and Web API means there is only",
    "73",
    "73",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Web API have associated versions in ASP.NET Core, so migration is generally just a matter of",
    "Web API have associated versions in ASP.NET Core, so migration is generally just a matter of",
    "In addition to the synchronous interfaces, ASP.NET Core also provides async interfaces like",
    "In addition to the synchronous interfaces, ASP.NET Core also provides async interfaces like",
    "public class SampleAsyncActionFilter : IAsyncActionFilter",
    "public class SampleAsyncActionFilter : IAsyncActionFilter",
    "}",
    "}",
    "When migrating async code (or code that should be async), teams should consider leveraging the",
    "When migrating async code (or code that should be async), teams should consider leveraging the",
    "Most ASP.NET MVC and Web API apps do not use a large number of custom filters. Since the",
    "Most ASP.NET MVC and Web API apps do not use a large number of custom filters. Since the",
    "Route constraints",
    "Route constraints",
    "ASP.NET Core uses route constraints to help ensure requests are routed properly to route a request.",
    "ASP.NET Core uses route constraints to help ensure requests are routed properly to route a request.",
    "[",
    "[",
    "The :int after the id route parameter constrains the value to match the int type. One benefit of using",
    "The :int after the id route parameter constrains the value to match the int type. One benefit of using",
    "The set of route constraints, their syntax, and usage is very similar between all three approaches.",
    "The set of route constraints, their syntax, and usage is very similar between all three approaches.",
    "74",
    "74",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "builder.Services.AddControllers();",
    "builder.Services.AddControllers();",
    "builder.Services.AddRouting(options =>",
    "builder.Services.AddRouting(options =>",
    "This is very similar to how custom constraints are used in ASP.NET Web API, which uses",
    "This is very similar to how custom constraints are used in ASP.NET Web API, which uses",
    "public static class WebApiConfig",
    "public static class WebApiConfig",
    "}",
    "}",
    "ASP.NET MVC 5 follows a very similar approach, using IRouteConstraint for its interface name and",
    "ASP.NET MVC 5 follows a very similar approach, using IRouteConstraint for its interface name and",
    "public class RouteConfig",
    "public class RouteConfig",
    "}",
    "}",
    "Migrating route constraint usage as well as custom route constraints to ASP.NET Core is typically very",
    "Migrating route constraint usage as well as custom route constraints to ASP.NET Core is typically very",
    "Custom route handlers",
    "Custom route handlers",
    "Another fairly advanced feature of ASP.NET MVC 5 is route handlers. Custom route handlers",
    "Another fairly advanced feature of ASP.NET MVC 5 is route handlers. Custom route handlers",
    "public static void RegisterRoutes(RouteCollection routes)",
    "public static void RegisterRoutes(RouteCollection routes)",
    "}",
    "}",
    "75",
    "75",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "To migrate custom route handlers from ASP.NET MVC 5 to ASP.NET Core, you can either use a filter",
    "To migrate custom route handlers from ASP.NET MVC 5 to ASP.NET Core, you can either use a filter",
    "builder.Services.AddMvc(options =>",
    "builder.Services.AddMvc(options =>",
    "The IRouter option requires implementing the interface\u2019s RouteAsync and GetVirtualPath methods.",
    "The IRouter option requires implementing the interface\u2019s RouteAsync and GetVirtualPath methods.",
    "// ...",
    "// ...",
    "In ASP.NET Web API, these handlers are referred to as custom message handlers, rather than route",
    "In ASP.NET Web API, these handlers are referred to as custom message handlers, rather than route",
    "ASP.NET Core has no DelegatingHandler type or separate message handler pipeline. Instead, such",
    "ASP.NET Core has no DelegatingHandler type or separate message handler pipeline. Instead, such",
    "CORS support",
    "CORS support",
    "CORS, or Cross-Origin Resource Sharing, is a W3C standard that allows servers to accept requests that",
    "CORS, or Cross-Origin Resource Sharing, is a W3C standard that allows servers to accept requests that",
    "public class AllowCrossSiteAttribute : ActionFilterAttribute",
    "public class AllowCrossSiteAttribute : ActionFilterAttribute",
    "ASP.NET Web API can also use such a filter, but it has built-in support for enabling CORS as well:",
    "ASP.NET Web API can also use such a filter, but it has built-in support for enabling CORS as well:",
    "public static class WebApiConfig",
    "public static class WebApiConfig",
    "76",
    "76",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "// ...",
    "// ...",
    "Once this is added, you can configure allowed origins, headers, and methods using the EnableCors",
    "Once this is added, you can configure allowed origins, headers, and methods using the EnableCors",
    "[",
    "[",
    "Before migrating your CORS implementation from ASP.NET MVC 5 or ASP.NET Web API 2, be sure to",
    "Before migrating your CORS implementation from ASP.NET MVC 5 or ASP.NET Web API 2, be sure to",
    "In ASP.NET Core, there are three built-in ways to enable CORS:",
    "In ASP.NET Core, there are three built-in ways to enable CORS:",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Configured via policy in ConfigureServices",
    "Configured via policy in ConfigureServices",
    "Enabled with endpoint routing",
    "Enabled with endpoint routing",
    "Enabled with the EnableCors attribute",
    "Enabled with the EnableCors attribute",
    "Each of these approaches is covered in detail in the docs, which are linked from the above options.",
    "Each of these approaches is covered in detail in the docs, which are linked from the above options.",
    "Custom areas",
    "Custom areas",
    "Many ASP.NET MVC apps use Areas to organize the project. Areas typically reside in the root of the",
    "Many ASP.NET MVC apps use Areas to organize the project. Areas typically reside in the root of the",
    "AreaRegistration.RegisterAllAreas();",
    "AreaRegistration.RegisterAllAreas();",
    "An alternative to registering all areas in startup is to use the RouteArea attribute on individual",
    "An alternative to registering all areas in startup is to use the RouteArea attribute on individual",
    "[",
    "[",
    "ASP.NET Web API apps don\u2019t typically use areas explicitly, since their controllers can be placed in any",
    "ASP.NET Web API apps don\u2019t typically use areas explicitly, since their controllers can be placed in any",
    "77",
    "77",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "Areas are supported in ASP.NET Core MVC. The approach used is nearly identical to the use of areas",
    "Areas are supported in ASP.NET Core MVC. The approach used is nearly identical to the use of areas",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "AreaRegistration.RegisterAllAreas is not used in ASP.NET Core MVC",
    "AreaRegistration.RegisterAllAreas is not used in ASP.NET Core MVC",
    "Areas are applied using the ",
    "Areas are applied using the ",
    "Areas can be added to the route table templates, if desired (or they can use attribute routing)",
    "Areas can be added to the route table templates, if desired (or they can use attribute routing)",
    "To add area support to the route table in ASP.NET Core MVC, you would add the following during app",
    "To add area support to the route table in ASP.NET Core MVC, you would add the following during app",
    "app.UseEndpoints(endpoints =>",
    "app.UseEndpoints(endpoints =>",
    "});",
    "});",
    "Areas can also be used with attribute routing, using the {area} keyword in the route definition (it\u2019s one",
    "Areas can also be used with attribute routing, using the {area} keyword in the route definition (it\u2019s one",
    "Tag helpers support areas with the asp-area attribute, which can be used to generate links in Razor",
    "Tag helpers support areas with the asp-area attribute, which can be used to generate links in Razor",
    "If you\u2019re migrating to Razor Pages you will need to use an Areas folder in your Pages folder. For more",
    "If you\u2019re migrating to Razor Pages you will need to use an Areas folder in your Pages folder. For more",
    "In addition to the above guidance, teams should review how routing in ASP.NET Core works with",
    "In addition to the above guidance, teams should review how routing in ASP.NET Core works with",
    "Integration tests for ASP.NET MVC and ASP.NET Web API",
    "Integration tests for ASP.NET MVC and ASP.NET Web API",
    "Integration tests are automated tests that verify several different parts of an app work together",
    "Integration tests are automated tests that verify several different parts of an app work together",
    "78",
    "78",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "the app to a real web server, such as a local instance of IIS or IIS Express, and then making requests to",
    "the app to a real web server, such as a local instance of IIS or IIS Express, and then making requests to",
    "If your migrated app shares the same behavior as its original version, whatever existing technology",
    "If your migrated app shares the same behavior as its original version, whatever existing technology",
    "Teams should strongly consider migrating their integration tests to use ASP.NET Core\u2019s built-in",
    "Teams should strongly consider migrating their integration tests to use ASP.NET Core\u2019s built-in",
    "One of the best features of ASP.NET Core\u2019s integration testing support is that the app is hosted in",
    "One of the best features of ASP.NET Core\u2019s integration testing support is that the app is hosted in",
    "Below you can see an example ASP.NET Core integration test (sometimes referred to as functional",
    "Below you can see an example ASP.NET Core integration test (sometimes referred to as functional",
    "public class GetByIdEndpoint : IClassFixture",
    "public class GetByIdEndpoint : IClassFixture",
    "79",
    "79",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "}",
    "}",
    "If the app being migrated has no integration tests, the migration process can be a great opportunity",
    "If the app being migrated has no integration tests, the migration process can be a great opportunity",
    "WCF client configuration",
    "WCF client configuration",
    "If your app currently relies on WCF services as a client, this scenario is supported. However, you will",
    "If your app currently relies on WCF services as a client, this scenario is supported. However, you will",
    "var wcfClient = new OrderServiceClient(",
    "var wcfClient = new OrderServiceClient(",
    "If your organization has extensive services built using WCF that your app relies on, consider migrating",
    "If your organization has extensive services built using WCF that your app relies on, consider migrating",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "ASP.NET Web API Content Negotiation",
    "ASP.NET Web API Content Negotiation",
    "Format response data in ASP.NET Core Web API",
    "Format response data in ASP.NET Core Web API",
    "Custom Model Binders in ASP.NET Web API",
    "Custom Model Binders in ASP.NET Web API",
    "Custom Model Binders in ASP.NET Core",
    "Custom Model Binders in ASP.NET Core",
    "\u2022  Media Formatters in ASP.NET Web API 2",
    "\u2022  Media Formatters in ASP.NET Web API 2",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Custom formatters in ASP.NET Core Web API",
    "Custom formatters in ASP.NET Core Web API",
    "Filters in ASP.NET Core",
    "Filters in ASP.NET Core",
    "Route constraints in ASP.NET Web API 2",
    "Route constraints in ASP.NET Web API 2",
    "Route constraints in ASP.NET MVC 5",
    "Route constraints in ASP.NET MVC 5",
    "ASP.NET Core Route Constraint Reference",
    "ASP.NET Core Route Constraint Reference",
    "Custom message handlers in ASP.NET Web API 2",
    "Custom message handlers in ASP.NET Web API 2",
    "Simple CORS control in MVC 5 and Web API 2",
    "Simple CORS control in MVC 5 and Web API 2",
    "Enabling Cross-Origin Requests in Web API",
    "Enabling Cross-Origin Requests in Web API",
    "Enable Cross-Origin Requests (CORS) in ASP.NET Core",
    "Enable Cross-Origin Requests (CORS) in ASP.NET Core",
    "Areas in ASP.NET Core",
    "Areas in ASP.NET Core",
    "Integration tests in ASP.NET Core",
    "Integration tests in ASP.NET Core",
    "80",
    "80",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER 4 | Example migration of eShop to ASP.NET Core",
    "CHAPTER  5",
    "CHAPTER  5",
    "Deployment scenarios",
    "Deployment scenarios",
    "Existing ASP.NET MVC and Web API apps run on IIS and Windows. Large apps may require a phased",
    "Existing ASP.NET MVC and Web API apps run on IIS and Windows. Large apps may require a phased",
    "Split a large web app",
    "Split a large web app",
    "Consider the common scenario of a large web app that currently is hosted on IIS in a single web site.",
    "Consider the common scenario of a large web app that currently is hosted on IIS in a single web site.",
    "Assuming the task of porting the app is split such that either the MVC functionality or the API",
    "Assuming the task of porting the app is split such that either the MVC functionality or the API",
    "Fortunately, IIS is a feature-rich web server, and two features it has are URL Rewrite module and",
    "Fortunately, IIS is a feature-rich web server, and two features it has are URL Rewrite module and",
    "As a reverse proxy, IIS can route traffic matching certain patterns to entirely separate apps, potentially",
    "As a reverse proxy, IIS can route traffic matching certain patterns to entirely separate apps, potentially",
    "81",
    "81",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "Using just the URL Rewrite module (perhaps combined with host headers), IIS can easily support",
    "Using just the URL Rewrite module (perhaps combined with host headers), IIS can easily support",
    "Important",
    "Important",
    "Subdomains typically refer to the portion of a domain preceding the top two levels. For example, in",
    "Subdomains typically refer to the portion of a domain preceding the top two levels. For example, in",
    "There are pros and cons to using the same or different subdomains (and domains) to host a single",
    "There are pros and cons to using the same or different subdomains (and domains) to host a single",
    "In the example described above, assume the API endpoints are designated as the first part of the app",
    "In the example described above, assume the API endpoints are designated as the first part of the app",
    "Figure 5-1 shows how the ASP.NET Core 2.1 api app appears in IIS Manager as a part of the existing",
    "Figure 5-1 shows how the ASP.NET Core 2.1 api app appears in IIS Manager as a part of the existing",
    "82",
    "82",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "Figure 5-1. .NET Framework Site with .NET Core app in IIS.",
    "Figure 5-1. .NET Framework Site with .NET Core app in IIS.",
    "The DotNetMvcApp site is hosted as an MVC 5 app running on .NET Framework 4.7.2. It has its own IIS",
    "The DotNetMvcApp site is hosted as an MVC 5 app running on .NET Framework 4.7.2. It has its own IIS",
    "Configured in this manner, the only change that must be made in order for the ASP.NET Core app\u2019s",
    "Configured in this manner, the only change that must be made in order for the ASP.NET Core app\u2019s",
    "Alternately the ASP.NET Core app can be another top-level web site in IIS. In this case, you can",
    "Alternately the ASP.NET Core app can be another top-level web site in IIS. In this case, you can",
    "As an example, the same ASP.NET Core app used in Figure 5-1 can be deployed to another folder",
    "As an example, the same ASP.NET Core app used in Figure 5-1 can be deployed to another folder",
    "83",
    "83",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "Managed Code. Configure its bindings to respond to a unique host name on the server, such as",
    "Managed Code. Configure its bindings to respond to a unique host name on the server, such as",
    "Figure 5-2. Rewrite rule to rewrite subfolder requests to another web site.",
    "Figure 5-2. Rewrite rule to rewrite subfolder requests to another web site.",
    "If your app requires single sign-on between different sites or apps within IIS, refer to the",
    "If your app requires single sign-on between different sites or apps within IIS, refer to the",
    "Another alternative to IIS Rewrite rules is the use of a reverse proxy like YARP, which can facilitate",
    "Another alternative to IIS Rewrite rules is the use of a reverse proxy like YARP, which can facilitate",
    "Summary",
    "Summary",
    "A common approach to porting large apps from .NET Framework to ASP.NET Core is to choose",
    "A common approach to porting large apps from .NET Framework to ASP.NET Core is to choose",
    "84",
    "84",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "reducing total surface area involved in testing. It also allows for more rapid realization of benefits of",
    "reducing total surface area involved in testing. It also allows for more rapid realization of benefits of",
    "References",
    "References",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "Host ASP.NET Core on Windows with IIS",
    "Host ASP.NET Core on Windows with IIS",
    "URL Rewrite module and Application Request Routing",
    "URL Rewrite module and Application Request Routing",
    "URL Rewrite",
    "URL Rewrite",
    "ASP.NET Core Module",
    "ASP.NET Core Module",
    "Share authentication cookies among ASP.NET apps",
    "Share authentication cookies among ASP.NET apps",
    "Samples used in this section",
    "Samples used in this section",
    "Incremental ASP.NET to ASP.NET Core Migration",
    "Incremental ASP.NET to ASP.NET Core Migration",
    "85",
    "85",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "CHAPTER 5 | Deployment scenarios when migrating to ASP.NET Core",
    "CHAPTER",
    "CHAPTER",
    "CHAPTER  6",
    "CHAPTER  6",
    "Summary: Port existing",
    "Summary: Port existing",
    "In this book, you\u2019ve been given the resources needed to decide whether it makes sense to port your",
    "In this book, you\u2019ve been given the resources needed to decide whether it makes sense to port your",
    "Porting a large app often entails a fair amount of risk and effort. You learned how to mitigate this risk",
    "Porting a large app often entails a fair amount of risk and effort. You learned how to mitigate this risk",
    "There are many architectural differences between ASP.NET and ASP.NET Core. In chapter 2, you",
    "There are many architectural differences between ASP.NET and ASP.NET Core. In chapter 2, you",
    "Large apps are often comprised of many projects and packages, and dependencies can play a major",
    "Large apps are often comprised of many projects and packages, and dependencies can play a major",
    "In chapter 4, you saw how a real ASP.NET MVC reference app was migrated to ASP.NET Core. This",
    "In chapter 4, you saw how a real ASP.NET MVC reference app was migrated to ASP.NET Core. This",
    "Finally, chapter 5 detailed specific deployment scenarios focused on IIS. You saw how you can use",
    "Finally, chapter 5 detailed specific deployment scenarios focused on IIS. You saw how you can use",
    "86",
    "86",
    "CHAPTER 6 | Summary: Port existing ASP.NET Apps to .NET 7",
    "CHAPTER 6 | Summary: Port existing ASP.NET Apps to .NET 7"
]