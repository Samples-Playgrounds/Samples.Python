[
    "EDITION v7.0 - Updated to ASP.NET Core 7.0",
    "EDITION v7.0 - Updated to ASP.NET Core 7.0",
    null,
    null,
    "PUBLISHED BY",
    "PUBLISHED BY",
    "Microsoft Developer Division, .NET, and Visual Studio product teams",
    "Microsoft Developer Division, .NET, and Visual Studio product teams",
    "A division of Microsoft Corporation",
    "A division of Microsoft Corporation",
    "One Microsoft Way",
    "One Microsoft Way",
    "Redmond, Washington 98052-6399",
    "Redmond, Washington 98052-6399",
    "Copyright \u00a9 2023 by Microsoft Corporation",
    "Copyright \u00a9 2023 by Microsoft Corporation",
    "All rights reserved. No part of the contents of this book may be reproduced or transmitted in any",
    "All rights reserved. No part of the contents of this book may be reproduced or transmitted in any",
    "This book is provided \u201cas-is\u201d and expresses the author\u2019s views and opinions. The views, opinions and",
    "This book is provided \u201cas-is\u201d and expresses the author\u2019s views and opinions. The views, opinions and",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association",
    null,
    null,
    "The Docker whale logo is a registered trademark of Docker, Inc. Used by permission.",
    "The Docker whale logo is a registered trademark of Docker, Inc. Used by permission.",
    "All other marks and logos are property of their respective owners.",
    "All other marks and logos are property of their respective owners.",
    "Authors:",
    "Authors:",
    null,
    null,
    null,
    null,
    "Editor:",
    "Editor:",
    null,
    null,
    "gRPC is a modern framework for building networked services and distributed applications. Imagine",
    "gRPC is a modern framework for building networked services and distributed applications. Imagine",
    "This guide was written for developers working in .NET Framework or .NET who have previously used",
    "This guide was written for developers working in .NET Framework or .NET who have previously used",
    "This is a short introduction to building gRPC Services in ASP.NET Core 7.0, with particular reference to",
    "This is a short introduction to building gRPC Services in ASP.NET Core 7.0, with particular reference to",
    "Feel free to forward this guide to your team to help ensure a common understanding of these",
    "Feel free to forward this guide to your team to help ensure a common understanding of these",
    null,
    null,
    null,
    null,
    null,
    null,
    "History .......................................................................................................................................................................................... 1",
    "History .......................................................................................................................................................................................... 1",
    "Microservices ............................................................................................................................................................................. 2",
    "Microservices ............................................................................................................................................................................. 2",
    "About this guide ....................................................................................................................................................................... 3",
    "About this guide ....................................................................................................................................................................... 3",
    "Who this guide is for .............................................................................................................................................................. 3",
    "Who this guide is for .............................................................................................................................................................. 3",
    null,
    null,
    "Key principles ............................................................................................................................................................................ 4",
    "Key principles ............................................................................................................................................................................ 4",
    "How gRPC approaches RPC ................................................................................................................................................. 5",
    "How gRPC approaches RPC ................................................................................................................................................. 5",
    "Interface Definition Language ............................................................................................................................................ 6",
    "Interface Definition Language ............................................................................................................................................ 6",
    "Network protocols ................................................................................................................................................................... 7",
    "Network protocols ................................................................................................................................................................... 7",
    "Key features of HTTP/2 ..................................................................................................................................................... 7",
    "Key features of HTTP/2 ..................................................................................................................................................... 7",
    "Why we recommend gRPC for WCF developers ......................................................................................................... 8",
    "Why we recommend gRPC for WCF developers ......................................................................................................... 8",
    "Similarity to WCF ................................................................................................................................................................. 8",
    "Similarity to WCF ................................................................................................................................................................. 8",
    "Benefits of gRPC .................................................................................................................................................................. 8",
    "Benefits of gRPC .................................................................................................................................................................. 8",
    "Comparison with CoreWCF ............................................................................................................................................. 9",
    "Comparison with CoreWCF ............................................................................................................................................. 9",
    null,
    null,
    "How Protobuf works ............................................................................................................................................................ 11",
    "How Protobuf works ............................................................................................................................................................ 11",
    "Protobuf messages ............................................................................................................................................................... 11",
    "Protobuf messages ............................................................................................................................................................... 11",
    "Declaring a message ....................................................................................................................................................... 11",
    "Declaring a message ....................................................................................................................................................... 11",
    "Field numbers .................................................................................................................................................................... 12",
    "Field numbers .................................................................................................................................................................... 12",
    "Types ..................................................................................................................................................................................... 13",
    "Types ..................................................................................................................................................................................... 13",
    "The generated code ........................................................................................................................................................ 13",
    "The generated code ........................................................................................................................................................ 13",
    "Protobuf scalar data types ................................................................................................................................................ 13",
    "Protobuf scalar data types ................................................................................................................................................ 13",
    "Other .NET primitive types ........................................................................................................................................... 14",
    "Other .NET primitive types ........................................................................................................................................... 14",
    "Decimals ............................................................................................................................................................................... 16",
    "Decimals ............................................................................................................................................................................... 16",
    "Protobuf nested types ........................................................................................................................................................ 17",
    "Protobuf nested types ........................................................................................................................................................ 17",
    "Repeated fields for lists and arrays ................................................................................................................................ 18",
    "Repeated fields for lists and arrays ................................................................................................................................ 18",
    "Protobuf reserved fields ..................................................................................................................................................... 18",
    "Protobuf reserved fields ..................................................................................................................................................... 18",
    "i Contents",
    "i Contents",
    "Protobuf Any and Oneof fields for variant types ..................................................................................................... 19",
    "Protobuf Any and Oneof fields for variant types ..................................................................................................... 19",
    "Any ......................................................................................................................................................................................... 19",
    "Any ......................................................................................................................................................................................... 19",
    "Oneof .................................................................................................................................................................................... 20",
    "Oneof .................................................................................................................................................................................... 20",
    "Protobuf enumerations ...................................................................................................................................................... 21",
    "Protobuf enumerations ...................................................................................................................................................... 21",
    "Protobuf maps for dictionaries ........................................................................................................................................ 22",
    "Protobuf maps for dictionaries ........................................................................................................................................ 22",
    "Using MapField properties in code ........................................................................................................................... 22",
    "Using MapField properties in code ........................................................................................................................... 22",
    "Further reading ................................................................................................................................................................. 23",
    "Further reading ................................................................................................................................................................. 23",
    null,
    null,
    "gRPC example ........................................................................................................................................................................ 24",
    "gRPC example ........................................................................................................................................................................ 24",
    "WCF endpoints and gRPC methods .............................................................................................................................. 25",
    "WCF endpoints and gRPC methods .............................................................................................................................. 25",
    "OperationContract properties ..................................................................................................................................... 25",
    "OperationContract properties ..................................................................................................................................... 25",
    "WCF bindings and transports .......................................................................................................................................... 26",
    "WCF bindings and transports .......................................................................................................................................... 26",
    "NetTCP .................................................................................................................................................................................. 26",
    "NetTCP .................................................................................................................................................................................. 26",
    "HTTP ...................................................................................................................................................................................... 27",
    "HTTP ...................................................................................................................................................................................... 27",
    "Named pipes ...................................................................................................................................................................... 27",
    "Named pipes ...................................................................................................................................................................... 27",
    "MSMQ ................................................................................................................................................................................... 27",
    "MSMQ ................................................................................................................................................................................... 27",
    "WebHttpBinding ............................................................................................................................................................... 27",
    "WebHttpBinding ............................................................................................................................................................... 27",
    "Types of RPC ........................................................................................................................................................................... 27",
    "Types of RPC ........................................................................................................................................................................... 27",
    "Request/reply..................................................................................................................................................................... 28",
    "Request/reply..................................................................................................................................................................... 28",
    "WCF duplex, one way to client ................................................................................................................................... 28",
    "WCF duplex, one way to client ................................................................................................................................... 28",
    "WCF one-way operations and gRPC client streaming ...................................................................................... 30",
    "WCF one-way operations and gRPC client streaming ...................................................................................... 30",
    "WCF full-duplex services ............................................................................................................................................... 31",
    "WCF full-duplex services ............................................................................................................................................... 31",
    "Metadata .................................................................................................................................................................................. 32",
    "Metadata .................................................................................................................................................................................. 32",
    "Error handling ......................................................................................................................................................................... 33",
    "Error handling ......................................................................................................................................................................... 33",
    "Raise errors in ASP.NET Core gRPC .......................................................................................................................... 34",
    "Raise errors in ASP.NET Core gRPC .......................................................................................................................... 34",
    "Catch errors in gRPC clients ......................................................................................................................................... 34",
    "Catch errors in gRPC clients ......................................................................................................................................... 34",
    "gRPC richer error model ................................................................................................................................................ 35",
    "gRPC richer error model ................................................................................................................................................ 35",
    "WS-",
    "WS-",
    "Metadata exchange: WS-Policy, WS-Discovery, and so on ............................................................................. 35",
    "Metadata exchange: WS-Policy, WS-Discovery, and so on ............................................................................. 35",
    "Security: WS-Security, WS-Federation, XML Encryption, and so on ............................................................ 35",
    "Security: WS-Security, WS-Federation, XML Encryption, and so on ............................................................ 35",
    "WS-ReliableMessaging .................................................................................................................................................. 36",
    "WS-ReliableMessaging .................................................................................................................................................. 36",
    "WS-Transaction, WS-Coordination ........................................................................................................................... 36",
    "WS-Transaction, WS-Coordination ........................................................................................................................... 36",
    "ii Contents",
    "ii Contents",
    null,
    null,
    "Create a new ASP.NET Core gRPC project .................................................................................................................. 37",
    "Create a new ASP.NET Core gRPC project .................................................................................................................. 37",
    "Create the project by using Visual Studio .............................................................................................................. 37",
    "Create the project by using Visual Studio .............................................................................................................. 37",
    "Create the project by using the .NET CLI ................................................................................................................ 40",
    "Create the project by using the .NET CLI ................................................................................................................ 40",
    "Clean up the example code ......................................................................................................................................... 41",
    "Clean up the example code ......................................................................................................................................... 41",
    "Migrate a WCF request-reply service to a gRPC unary RPC ................................................................................ 42",
    "Migrate a WCF request-reply service to a gRPC unary RPC ................................................................................ 42",
    "The WCF solution ............................................................................................................................................................. 42",
    "The WCF solution ............................................................................................................................................................. 42",
    "The portfolios.proto file ................................................................................................................................................. 44",
    "The portfolios.proto file ................................................................................................................................................. 44",
    "Convert the DataContract classes to gRPC messages ....................................................................................... 44",
    "Convert the DataContract classes to gRPC messages ....................................................................................... 44",
    "Convert ServiceContract to a gRPC service ........................................................................................................... 45",
    "Convert ServiceContract to a gRPC service ........................................................................................................... 45",
    "Migrate the PortfolioData library to .NET ............................................................................................................... 46",
    "Migrate the PortfolioData library to .NET ............................................................................................................... 46",
    "Use ASP.NET Core dependency injection ............................................................................................................... 47",
    "Use ASP.NET Core dependency injection ............................................................................................................... 47",
    "Implement the gRPC service........................................................................................................................................ 48",
    "Implement the gRPC service........................................................................................................................................ 48",
    "Generate client code ....................................................................................................................................................... 50",
    "Generate client code ....................................................................................................................................................... 50",
    "Migrate WCF duplex services to gRPC ......................................................................................................................... 53",
    "Migrate WCF duplex services to gRPC ......................................................................................................................... 53",
    "Server streaming RPC ..................................................................................................................................................... 53",
    "Server streaming RPC ..................................................................................................................................................... 53",
    "Bidirectional streaming .................................................................................................................................................. 58",
    "Bidirectional streaming .................................................................................................................................................. 58",
    "gRPC streaming services vs. repeated fields .............................................................................................................. 63",
    "gRPC streaming services vs. repeated fields .............................................................................................................. 63",
    "When to use repeated fields........................................................................................................................................ 63",
    "When to use repeated fields........................................................................................................................................ 63",
    "When to use stream methods ..................................................................................................................................... 64",
    "When to use stream methods ..................................................................................................................................... 64",
    "Create gRPC client libraries ............................................................................................................................................... 64",
    "Create gRPC client libraries ............................................................................................................................................... 64",
    "Useful extensions ............................................................................................................................................................. 65",
    "Useful extensions ............................................................................................................................................................. 65",
    "Summary .............................................................................................................................................................................. 67",
    "Summary .............................................................................................................................................................................. 67",
    null,
    null,
    "WCF authentication and authorization ........................................................................................................................ 68",
    "WCF authentication and authorization ........................................................................................................................ 68",
    "gRPC authentication and authorization ....................................................................................................................... 68",
    "gRPC authentication and authorization ....................................................................................................................... 68",
    "Call credentials ....................................................................................................................................................................... 69",
    "Call credentials ....................................................................................................................................................................... 69",
    "WS-Federation .................................................................................................................................................................. 69",
    "WS-Federation .................................................................................................................................................................. 69",
    "JWT Bearer tokens ........................................................................................................................................................... 69",
    "JWT Bearer tokens ........................................................................................................................................................... 69",
    "Add authentication and authorization to the server.......................................................................................... 70",
    "Add authentication and authorization to the server.......................................................................................... 70",
    "Provide call credentials in the client application ................................................................................................. 71",
    "Provide call credentials in the client application ................................................................................................. 71",
    "Channel credentials .............................................................................................................................................................. 72",
    "Channel credentials .............................................................................................................................................................. 72",
    "iii Contents",
    "iii Contents",
    "Add certificate authentication to the server .......................................................................................................... 72",
    "Add certificate authentication to the server .......................................................................................................... 72",
    "Provide channel credentials in the client application ........................................................................................ 73",
    "Provide channel credentials in the client application ........................................................................................ 73",
    "Combine ChannelCredentials and CallCredentials ............................................................................................. 74",
    "Combine ChannelCredentials and CallCredentials ............................................................................................. 74",
    "Encryption and network security .................................................................................................................................... 75",
    "Encryption and network security .................................................................................................................................... 75",
    null,
    null,
    "Self-hosted gRPC applications ........................................................................................................................................ 77",
    "Self-hosted gRPC applications ........................................................................................................................................ 77",
    "Run your app as a Windows service ......................................................................................................................... 77",
    "Run your app as a Windows service ......................................................................................................................... 77",
    "Run your app as a Linux service with systemd ..................................................................................................... 78",
    "Run your app as a Linux service with systemd ..................................................................................................... 78",
    "HTTPS certificates for self-hosted applications .................................................................................................... 80",
    "HTTPS certificates for self-hosted applications .................................................................................................... 80",
    "Create Docker images ......................................................................................................................................................... 81",
    "Create Docker images ......................................................................................................................................................... 81",
    "Microsoft base images for ASP.NET Core applications ..................................................................................... 81",
    "Microsoft base images for ASP.NET Core applications ..................................................................................... 81",
    "Create a Docker image .................................................................................................................................................. 82",
    "Create a Docker image .................................................................................................................................................. 82",
    "Build the image ................................................................................................................................................................. 84",
    "Build the image ................................................................................................................................................................. 84",
    "Run the image in a container on your machine .................................................................................................. 84",
    "Run the image in a container on your machine .................................................................................................. 84",
    "Push the image to a registry ........................................................................................................................................ 84",
    "Push the image to a registry ........................................................................................................................................ 84",
    "Kubernetes ............................................................................................................................................................................... 85",
    "Kubernetes ............................................................................................................................................................................... 85",
    "Kubernetes terminology ................................................................................................................................................ 85",
    "Kubernetes terminology ................................................................................................................................................ 85",
    "Get started with Kubernetes ........................................................................................................................................ 86",
    "Get started with Kubernetes ........................................................................................................................................ 86",
    "Run services on Kubernetes ......................................................................................................................................... 87",
    "Run services on Kubernetes ......................................................................................................................................... 87",
    "Service meshes ....................................................................................................................................................................... 93",
    "Service meshes ....................................................................................................................................................................... 93",
    "Service mesh options ...................................................................................................................................................... 94",
    "Service mesh options ...................................................................................................................................................... 94",
    "Example: Add Linkerd to a deployment .................................................................................................................. 94",
    "Example: Add Linkerd to a deployment .................................................................................................................. 94",
    "Load balancing gRPC .......................................................................................................................................................... 97",
    "Load balancing gRPC .......................................................................................................................................................... 97",
    "L4 load balancers ............................................................................................................................................................. 97",
    "L4 load balancers ............................................................................................................................................................. 97",
    "L7 load balancers ............................................................................................................................................................. 97",
    "L7 load balancers ............................................................................................................................................................. 97",
    "Load balancing within Kubernetes ............................................................................................................................ 98",
    "Load balancing within Kubernetes ............................................................................................................................ 98",
    "Application Performance Management ....................................................................................................................... 98",
    "Application Performance Management ....................................................................................................................... 98",
    "The difference between logging and metrics ....................................................................................................... 98",
    "The difference between logging and metrics ....................................................................................................... 98",
    "Logging in ASP.NET Core gRPC ................................................................................................................................. 98",
    "Logging in ASP.NET Core gRPC ................................................................................................................................. 98",
    "Metrics in ASP.NET Core gRPC ................................................................................................................................... 99",
    "Metrics in ASP.NET Core gRPC ................................................................................................................................... 99",
    "Distributed tracing ......................................................................................................................................................... 101",
    "Distributed tracing ......................................................................................................................................................... 101",
    null,
    null,
    "iv Contents",
    "iv Contents",
    null,
    null,
    "Helping machines communicate with each other has been one of the primary preoccupations of the",
    "Helping machines communicate with each other has been one of the primary preoccupations of the",
    "The release of .NET Core 3.0 marks a shift in the way that Microsoft delivers remote communication",
    "The release of .NET Core 3.0 marks a shift in the way that Microsoft delivers remote communication",
    "gRPC is a popular framework in the wider software community. It\u2019s used by developers across many",
    "gRPC is a popular framework in the wider software community. It\u2019s used by developers across many",
    "The fundamental principle of a computer network as nothing more than a group of computers",
    "The fundamental principle of a computer network as nothing more than a group of computers",
    "During the 1990s, the emphasis was mainly on improving internal networks that used the same",
    "During the 1990s, the emphasis was mainly on improving internal networks that used the same",
    "The focus soon shifted to how best to optimize communication across multiple platforms by",
    "The focus soon shifted to how best to optimize communication across multiple platforms by",
    "The development of ",
    "The development of ",
    "XML to tag and code data.",
    "XML to tag and code data.",
    "1 CHAPTER 1 | Introduction to gRPC for WCF developers",
    "1 CHAPTER 1 | Introduction to gRPC for WCF developers",
    "Simple Object Access Protocol (SOAP) to transfer data.",
    "Simple Object Access Protocol (SOAP) to transfer data.",
    "Web Services Definition Language (WSDL) to describe and connect web services to client",
    "Web Services Definition Language (WSDL) to describe and connect web services to client",
    "Universal Description, Discovery, and Integration (UDDI) to make web services discoverable by",
    "Universal Description, Discovery, and Integration (UDDI) to make web services discoverable by",
    "SOAP defines the rules by which distributed elements of an application can communicate with each",
    "SOAP defines the rules by which distributed elements of an application can communicate with each",
    "Windows Communication Foundation is a framework for building services. It was designed in the early",
    "Windows Communication Foundation is a framework for building services. It was designed in the early",
    "In microservice architectures, large applications are built as a collection of smaller modular services.",
    "In microservice architectures, large applications are built as a collection of smaller modular services.",
    "Advantages to microservices include:",
    "Advantages to microservices include:",
    "Changes and upgrades can be handled independently.",
    "Changes and upgrades can be handled independently.",
    "Error handling becomes more efficient because problems can be traced to specific services",
    "Error handling becomes more efficient because problems can be traced to specific services",
    "Scalability can be confined to specific instances or services rather than the whole application.",
    "Scalability can be confined to specific instances or services rather than the whole application.",
    "Development can happen across multiple teams, with less friction than occurs when many",
    "Development can happen across multiple teams, with less friction than occurs when many",
    "The move towards increasing virtualization, cloud computing, containers, and the Internet of Things",
    "The move towards increasing virtualization, cloud computing, containers, and the Internet of Things",
    "It was into this environment that gRPC was launched, 10 years after Microsoft first released WCF.",
    "It was into this environment that gRPC was launched, 10 years after Microsoft first released WCF.",
    "2 CHAPTER 1 | Introduction to gRPC for WCF developers",
    "2 CHAPTER 1 | Introduction to gRPC for WCF developers",
    "This guide covers the key features of gRPC. The early chapters take a high-level look at the main",
    "This guide covers the key features of gRPC. The early chapters take a high-level look at the main",
    "Using a set of sample WCF applications, Chapter 5 is a deep-dive look at converting the main types of",
    "Using a set of sample WCF applications, Chapter 5 is a deep-dive look at converting the main types of",
    "The final section of the book looks at how to get the best from gRPC in practice. This section includes",
    "The final section of the book looks at how to get the best from gRPC in practice. This section includes",
    "This guide was written for developers working in .NET Framework or .NET Core who have used WCF",
    "This guide was written for developers working in .NET Framework or .NET Core who have used WCF",
    "3 CHAPTER 1 | Introduction to gRPC for WCF developers",
    "3 CHAPTER 1 | Introduction to gRPC for WCF developers",
    null,
    null,
    "After looking at the genesis of both Windows Communication Foundation (WCF) and gRPC in the last",
    "After looking at the genesis of both Windows Communication Foundation (WCF) and gRPC in the last",
    "ASP.NET Core 3.0 is the first release of ASP.NET that natively supports gRPC as a first-class citizen,",
    "ASP.NET Core 3.0 is the first release of ASP.NET that natively supports gRPC as a first-class citizen,",
    "As discussed in chapter 1, Google wanted to use the introduction of HTTP/2 to replace Stubby, its",
    "As discussed in chapter 1, Google wanted to use the introduction of HTTP/2 to replace Stubby, its",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "4 CHAPTER 2 | gRPC overview",
    "4 CHAPTER 2 | gRPC overview",
    "Windows Communication Foundation (WCF) and gRPC are both implementations of the ",
    "Windows Communication Foundation (WCF) and gRPC are both implementations of the ",
    "The following table sets out how the key features of WCF relate to gRPC, and where you can find",
    "The following table sets out how the key features of WCF relate to gRPC, and where you can find",
    "|more detailed explanations.|Col2|Col3|",
    "|more detailed explanations.|Col2|Col3|",
    "5 CHAPTER 2 | gRPC overview",
    "5 CHAPTER 2 | gRPC overview",
    "|Features|WCF|gRPC|",
    "|Features|WCF|gRPC|",
    "With Windows Communication Foundation (WCF), services can expose description metadata by using",
    "With Windows Communication Foundation (WCF), services can expose description metadata by using",
    "gRPC uses the Interface Definition Language (IDL) from Protocol Buffers. The Protocol Buffers IDL is a",
    "gRPC uses the Interface Definition Language (IDL) from Protocol Buffers. The Protocol Buffers IDL is a",
    "One of the advantages of the Protobuf IDL is that as a custom language, it enables gRPC to be",
    "One of the advantages of the Protobuf IDL is that as a custom language, it enables gRPC to be",
    "The Protobuf IDL is also designed for humans to both read and write, whereas WSDL is intended as a",
    "The Protobuf IDL is also designed for humans to both read and write, whereas WSDL is intended as a",
    "When compared with XML, and particularly SOAP, messages encoded by using Protobuf have many",
    "When compared with XML, and particularly SOAP, messages encoded by using Protobuf have many",
    "The potential disadvantage of Protobuf compared to SOAP is that, because the messages aren\u2019t",
    "The potential disadvantage of Protobuf compared to SOAP is that, because the messages aren\u2019t",
    "6 CHAPTER 2 | gRPC overview",
    "6 CHAPTER 2 | gRPC overview",
    "Unlike Windows Communication Foundation (WCF), gRPC uses HTTP/2 as a base for its networking.",
    "Unlike Windows Communication Foundation (WCF), gRPC uses HTTP/2 as a base for its networking.",
    "HTTP/2, released by Internet Engineering Task Force in 2015, was derived from the experimental SPDY",
    "HTTP/2, released by Internet Engineering Task Force in 2015, was derived from the experimental SPDY",
    "This list shows some of the key features and advantages of HTTP/2:",
    "This list shows some of the key features and advantages of HTTP/2:",
    null,
    null,
    "Request/response cycles no longer need text commands. This activity simplifies and speeds up the",
    "Request/response cycles no longer need text commands. This activity simplifies and speeds up the",
    null,
    null,
    "Streams allow you to create long-lived connections between sender and receiver, over which multiple",
    "Streams allow you to create long-lived connections between sender and receiver, over which multiple",
    null,
    null,
    "This feature is one of the most important innovations of HTTP/2. Because it allows multiple parallel",
    "This feature is one of the most important innovations of HTTP/2. Because it allows multiple parallel",
    "7 CHAPTER 2 | gRPC overview",
    "7 CHAPTER 2 | gRPC overview",
    "that are ready must wait to be sent until an earlier request is completed, is also mitigated (although",
    "that are ready must wait to be sent until an earlier request is completed, is also mitigated (although",
    null,
    null,
    "Fundamentally, the combination of gRPC and HTTP/2 offers developers at least the equivalent speed",
    "Fundamentally, the combination of gRPC and HTTP/2 offers developers at least the equivalent speed",
    "Before we dive deeply into the language and techniques of gRPC, it\u2019s worth discussing why gRPC is",
    "Before we dive deeply into the language and techniques of gRPC, it\u2019s worth discussing why gRPC is",
    "Although the implementation and approach are different for gRPC, the experience of developing and",
    "Although the implementation and approach are different for gRPC, the experience of developing and",
    "Both platforms share the principle of declaring and then implementing an interface, even though the",
    "Both platforms share the principle of declaring and then implementing an interface, even though the",
    "gRPC stands above other solutions for the following reasons.",
    "gRPC stands above other solutions for the following reasons.",
    null,
    null,
    "Using HTTP/2 rather than HTTP/1.1 removes the requirement for human-readable messages and",
    "Using HTTP/2 rather than HTTP/1.1 removes the requirement for human-readable messages and",
    null,
    null,
    "There are gRPC tools and libraries for all major programming languages and platforms, including",
    "There are gRPC tools and libraries for all major programming languages and platforms, including",
    "8 CHAPTER 2 | gRPC overview",
    "8 CHAPTER 2 | gRPC overview",
    null,
    null,
    "gRPC is a comprehensive RPC solution. It works consistently across multiple languages and platforms.",
    "gRPC is a comprehensive RPC solution. It works consistently across multiple languages and platforms.",
    null,
    null,
    "gRPC has full bidirectional streaming, which provides similar functionality to WCF\u2019s full-duplex",
    "gRPC has full bidirectional streaming, which provides similar functionality to WCF\u2019s full-duplex",
    null,
    null,
    "gRPC allows clients to specify a maximum time for an RPC to finish. If the specified deadline is",
    "gRPC allows clients to specify a maximum time for an RPC to finish. If the specified deadline is",
    null,
    null,
    "gRPC is implicitly secure when it\u2019s using HTTP/2 over a TLS end-to-end encrypted connection. Support",
    "gRPC is implicitly secure when it\u2019s using HTTP/2 over a TLS end-to-end encrypted connection. Support",
    null,
    null,
    "CoreWCF is a community-owned .NET Foundation project supported by Microsoft that implements",
    "CoreWCF is a community-owned .NET Foundation project supported by Microsoft that implements",
    "Services and interfaces can often migrate with few changes. Because of this, a key benefit of CoreWCF",
    "Services and interfaces can often migrate with few changes. Because of this, a key benefit of CoreWCF",
    "On the other hand, gRPC is a modern remote communication solution with a number of features, as",
    "On the other hand, gRPC is a modern remote communication solution with a number of features, as",
    "When deciding whether to use CoreWCF or gRPC to migrate a WCF application to .NET, CoreWCF is",
    "When deciding whether to use CoreWCF or gRPC to migrate a WCF application to .NET, CoreWCF is",
    "9 CHAPTER 2 | gRPC overview",
    "9 CHAPTER 2 | gRPC overview",
    "be a better fit if the goal is to modernize the application while retargeting to .NET. The remainder of",
    "be a better fit if the goal is to modernize the application while retargeting to .NET. The remainder of",
    "10 CHAPTER 2 | gRPC overview",
    "10 CHAPTER 2 | gRPC overview",
    null,
    null,
    "gRPC services send and receive data as ",
    "gRPC services send and receive data as ",
    "This chapter covers how Protobuf works, and how to define your own Protobuf messages.",
    "This chapter covers how Protobuf works, and how to define your own Protobuf messages.",
    "Most .NET object serialization techniques, including WCF\u2019s data contracts, work by using reflection to",
    "Most .NET object serialization techniques, including WCF\u2019s data contracts, work by using reflection to",
    "The Protobuf compiler, protoc, is maintained by Google, although alternative implementations are",
    "The Protobuf compiler, protoc, is maintained by Google, although alternative implementations are",
    "The Protobuf wire format is a binary encoding. It uses some clever tricks to minimize the number of",
    "The Protobuf wire format is a binary encoding. It uses some clever tricks to minimize the number of",
    "This section covers how to declare Protocol Buffer (Protobuf) messages in .proto files. It explains the",
    "This section covers how to declare Protocol Buffer (Protobuf) messages in .proto files. It explains the",
    "The rest of the chapter will look in more detail at how different types of data are represented in",
    "The rest of the chapter will look in more detail at how different types of data are represented in",
    "In Windows Communication Foundation (WCF), a Stock class for a stock market trading application",
    "In Windows Communication Foundation (WCF), a Stock class for a stock market trading application",
    "11 CHAPTER 3 | Protocol buffers",
    "11 CHAPTER 3 | Protocol buffers",
    "To implement the equivalent class in Protobuf, you must declare it in the .proto file. The protoc",
    "To implement the equivalent class in Protobuf, you must declare it in the .proto file. The protoc",
    "The first line declares the syntax version being used. Version 3 of the language was released in 2016.",
    "The first line declares the syntax version being used. Version 3 of the language was released in 2016.",
    "The option csharp",
    "The option csharp",
    "The Stock message definition specifies four fields. Each has a type, a name, and a field number.",
    "The Stock message definition specifies four fields. Each has a type, a name, and a field number.",
    "Field numbers are an important part of Protobuf. They\u2019re used to identify fields in the binary encoded",
    "Field numbers are an important part of Protobuf. They\u2019re used to identify fields in the binary encoded",
    "In the binary format, the field number is combined with a type identifier. Field numbers from 1 to 15",
    "In the binary format, the field number is combined with a type identifier. Field numbers from 1 to 15",
    "12 CHAPTER 3 | Protocol buffers",
    "12 CHAPTER 3 | Protocol buffers",
    "The type declarations are using Protobuf\u2019s native scalar data types, which are discussed in more detail",
    "The type declarations are using Protobuf\u2019s native scalar data types, which are discussed in more detail",
    "When you build your application, Protobuf creates classes for each of your messages, mapping its",
    "When you build your application, Protobuf creates classes for each of your messages, mapping its",
    "The actual code that\u2019s generated is far more complicated than this. The reason is that each class",
    "The actual code that\u2019s generated is far more complicated than this. The reason is that each class",
    null,
    null,
    "Note that the Protobuf compiler applied PascalCase to the property names, although they were",
    "Note that the Protobuf compiler applied PascalCase to the property names, although they were",
    "Protocol Buffer (Protobuf) supports a range of native scalar value types. The following table lists them",
    "Protocol Buffer (Protobuf) supports a range of native scalar value types. The following table lists them",
    "|all with their equivalent C# type:|Col2|Col3|",
    "|all with their equivalent C# type:|Col2|Col3|",
    "13 CHAPTER 3 | Protocol buffers",
    "13 CHAPTER 3 | Protocol buffers",
    "|Protobuf type|C# type|Notes|",
    "|Protobuf type|C# type|Notes|",
    "Notes:",
    "Notes:",
    "The standard encoding for int32 and int64 is inefficient when you\u2019re working with signed",
    "The standard encoding for int32 and int64 is inefficient when you\u2019re working with signed",
    "The fixed fields always use the same number of bytes no matter what the value is. This",
    "The fixed fields always use the same number of bytes no matter what the value is. This",
    "Protobuf strings are UTF-8 (or 7-bit ASCII) encoded. The encoded length can\u2019t be greater than",
    "Protobuf strings are UTF-8 (or 7-bit ASCII) encoded. The encoded length can\u2019t be greater than",
    "The Protobuf runtime provides a ByteString type that maps easily to and from C# byte",
    "The Protobuf runtime provides a ByteString type that maps easily to and from C# byte",
    null,
    null,
    null,
    null,
    "The following table shows the date and time types:",
    "The following table shows the date and time types:",
    "|C# type|Protobuf well-known type|",
    "|C# type|Protobuf well-known type|",
    "14 CHAPTER 3 | Protocol buffers",
    "14 CHAPTER 3 | Protocol buffers",
    "The generated properties in the C# class aren\u2019t the .NET date and time types. The properties use the",
    "The generated properties in the C# class aren\u2019t the .NET date and time types. The properties use the",
    null,
    null,
    null,
    null,
    "The best approach is to handle Guid values as a string field, by using the standard 8-4-4-4-12",
    "The best approach is to handle Guid values as a string field, by using the standard 8-4-4-4-12",
    "Don\u2019t use a bytes field for Guid values. Problems with ",
    "Don\u2019t use a bytes field for Guid values. Problems with ",
    null,
    null,
    "The Protobuf code generation for C# uses the native types, such as int for int32. So the values are",
    "The Protobuf code generation for C# uses the native types, such as int for int32. So the values are",
    "For values that require explicit null, such as using int? in your C# code, Protobuf\u2019s \u201cWell Known Types\u201d",
    "For values that require explicit null, such as using int? in your C# code, Protobuf\u2019s \u201cWell Known Types\u201d",
    "15 CHAPTER 3 | Protocol buffers",
    "15 CHAPTER 3 | Protocol buffers",
    "Protobuf will use the simple T? (for example, int?) for the generated message property.",
    "Protobuf will use the simple T? (for example, int?) for the generated message property.",
    "The following table shows the complete list of wrapper types with their equivalent C# type:",
    "The following table shows the complete list of wrapper types with their equivalent C# type:",
    "|C# type|Well Known Type wrapper|",
    "|C# type|Well Known Type wrapper|",
    "The well-known types Timestamp and Duration are represented in .NET as classes. In C# 8 and",
    "The well-known types Timestamp and Duration are represented in .NET as classes. In C# 8 and",
    "Protobuf doesn\u2019t natively support the .NET decimal type, just double and float. There\u2019s an ongoing",
    "Protobuf doesn\u2019t natively support the .NET decimal type, just double and float. There\u2019s an ongoing",
    "It\u2019s possible to create a message definition to represent the decimal type that would work for safe",
    "It\u2019s possible to create a message definition to represent the decimal type that would work for safe",
    null,
    null,
    "A simple implementation might be similar to the nonstandard Money type that some Google APIs",
    "A simple implementation might be similar to the nonstandard Money type that some Google APIs",
    "16 CHAPTER 3 | Protocol buffers",
    "16 CHAPTER 3 | Protocol buffers",
    "The nanos field represents values from 0.999",
    "The nanos field represents values from 0.999",
    "Conversion between this type and the BCL decimal type might be implemented in C# like this:",
    "Conversion between this type and the BCL decimal type might be implemented in C# like this:",
    "Just as C# allows you to declare classes inside other classes, Protocol Buffer (Protobuf) allows you to",
    "Just as C# allows you to declare classes inside other classes, Protocol Buffer (Protobuf) allows you to",
    "17 CHAPTER 3 | Protocol buffers",
    "17 CHAPTER 3 | Protocol buffers",
    "In the generated C# code, the Inner type will be declared in a nested static Types class within the",
    "In the generated C# code, the Inner type will be declared in a nested static Types class within the",
    "You specify lists in Protocol Buffer (Protobuf) by using the repeated prefix keyword. The following",
    "You specify lists in Protocol Buffer (Protobuf) by using the repeated prefix keyword. The following",
    "In the generated code, repeated fields are represented by read-only properties of the",
    "In the generated code, repeated fields are represented by read-only properties of the",
    "The RepeatedField",
    "The RepeatedField",
    "The backward-compatibility guarantees in Protocol Buffer (Protobuf) rely on field numbers always",
    "The backward-compatibility guarantees in Protocol Buffer (Protobuf) rely on field numbers always",
    "If the displayName and marketId fields were removed from the Stock message defined earlier, their",
    "If the displayName and marketId fields were removed from the Stock message defined earlier, their",
    "You can also use the reserved keyword as a placeholder for fields that might be added in the future.",
    "You can also use the reserved keyword as a placeholder for fields that might be added in the future.",
    "18 CHAPTER 3 | Protocol buffers",
    "18 CHAPTER 3 | Protocol buffers",
    "Handling dynamic property types (that is, properties of type object) in Windows Communication",
    "Handling dynamic property types (that is, properties of type object) in Windows Communication",
    "Protocol Buffer (Protobuf) provides two simpler options for dealing with values that might be of more",
    "Protocol Buffer (Protobuf) provides two simpler options for dealing with values that might be of more",
    "Any is one of Protobuf\u2019s \u201cwell-known types\u201d: a collection of useful, reusable message types with",
    "Any is one of Protobuf\u2019s \u201cwell-known types\u201d: a collection of useful, reusable message types with",
    "In the C# code, the Any class provides methods for setting the field, extracting the message, and",
    "In the C# code, the Any class provides methods for setting the field, extracting the message, and",
    "19 CHAPTER 3 | Protocol buffers",
    "19 CHAPTER 3 | Protocol buffers",
    "Protobuf\u2019s internal reflection code uses the Descriptor static field on each generated type to resolve",
    "Protobuf\u2019s internal reflection code uses the Descriptor static field on each generated type to resolve",
    "Oneof fields are a language feature: the compiler handles the oneof keyword when it generates the",
    "Oneof fields are a language feature: the compiler handles the oneof keyword when it generates the",
    "Fields within the oneof set must have unique field numbers in the overall message declaration.",
    "Fields within the oneof set must have unique field numbers in the overall message declaration.",
    "When you use oneof, the generated C# code includes an enum that specifies which of the fields has",
    "When you use oneof, the generated C# code includes an enum that specifies which of the fields has",
    "Setting any field that\u2019s part of a oneof set will automatically clear any other fields in the set. You can\u2019t",
    "Setting any field that\u2019s part of a oneof set will automatically clear any other fields in the set. You can\u2019t",
    "20 CHAPTER 3 | Protocol buffers",
    "20 CHAPTER 3 | Protocol buffers",
    "Protobuf supports enumeration types. You saw this support in the previous section, where an enum",
    "Protobuf supports enumeration types. You saw this support in the previous section, where an enum",
    "Because you can use Protobuf with various languages, the naming conventions for enumerations are",
    "Because you can use Protobuf with various languages, the naming conventions for enumerations are",
    "For example, in the following Protobuf enumeration, the fields are prefixed with ACCOUNT",
    "For example, in the following Protobuf enumeration, the fields are prefixed with ACCOUNT",
    "The generator creates a C# enum equivalent to the following code:",
    "The generator creates a C# enum equivalent to the following code:",
    "Protobuf enumeration definitions ",
    "Protobuf enumeration definitions ",
    "You can declare enumerations at the top level in a .proto file, or nested within a message definition.",
    "You can declare enumerations at the top level in a .proto file, or nested within a message definition.",
    null,
    null,
    "21 CHAPTER 3 | Protocol buffers",
    "21 CHAPTER 3 | Protocol buffers",
    "If you set product.AvailableIn to Region.NorthAmerica | Region.SouthAmerica, it\u2019s serialized as the",
    "If you set product.AvailableIn to Region.NorthAmerica | Region.SouthAmerica, it\u2019s serialized as the",
    "The best way to work with multiple enum values in Protobuf is to use a repeated field of the enum",
    "The best way to work with multiple enum values in Protobuf is to use a repeated field of the enum",
    "It\u2019s important to be able to represent arbitrary collections of named values in messages. In .NET, this",
    "It\u2019s important to be able to represent arbitrary collections of named values in messages. In .NET, this",
    "In the generated code, map fields are represented by read-only properties of the",
    "In the generated code, map fields are represented by read-only properties of the",
    "Map fields can\u2019t be directly repeated in a message definition. But you can create a nested message",
    "Map fields can\u2019t be directly repeated in a message definition. But you can create a nested message",
    "The MapField properties generated from map fields are read-only, and will never be null. To set a map",
    "The MapField properties generated from map fields are read-only, and will never be null. To set a map",
    "22 CHAPTER 3 | Protocol buffers",
    "22 CHAPTER 3 | Protocol buffers",
    null,
    null,
    "23 CHAPTER 3 | Protocol buffers",
    "23 CHAPTER 3 | Protocol buffers",
    null,
    null,
    "The previous chapter gave you a good look at Protobuf and how gRPC handles messages. Before you",
    "The previous chapter gave you a good look at Protobuf and how gRPC handles messages. Before you",
    "Operations and methods",
    "Operations and methods",
    "Bindings and transports",
    "Bindings and transports",
    "RPC types",
    "RPC types",
    "Metadata",
    "Metadata",
    "Error handling",
    "Error handling",
    "WS-",
    "WS-",
    "When you create a new ASP.NET Core 7.0 gRPC project from Visual Studio 2022 or the command line,",
    "When you create a new ASP.NET Core 7.0 gRPC project from Visual Studio 2022 or the command line,",
    "24 CHAPTER 4 | Comparing WCF to gRPC",
    "24 CHAPTER 4 | Comparing WCF to gRPC",
    "This chapter will refer to this example code when explaining different concepts and features of gRPC.",
    "This chapter will refer to this example code when explaining different concepts and features of gRPC.",
    "In Windows Communication Foundation (WCF), when you\u2019re writing your application code, you use",
    "In Windows Communication Foundation (WCF), when you\u2019re writing your application code, you use",
    null,
    null,
    null,
    null,
    "For example, the WCF equivalent of the greet.proto Greeter service might be written as follows:",
    "For example, the WCF equivalent of the greet.proto Greeter service might be written as follows:",
    "Chapter 3 showed that Protobuf message definitions are used to generate data classes. Service and",
    "Chapter 3 showed that Protobuf message definitions are used to generate data classes. Service and",
    null,
    null,
    "25 CHAPTER 4 | Comparing WCF to gRPC",
    "25 CHAPTER 4 | Comparing WCF to gRPC",
    "|OperationContract property|gRPC|",
    "|OperationContract property|gRPC|",
    null,
    null,
    "For more information on gRPC security and encryption, see chapter 6.",
    "For more information on gRPC security and encryption, see chapter 6.",
    "Windows Communication Foundation (WCF) has built-in ",
    "Windows Communication Foundation (WCF) has built-in ",
    "What follows is a short discussion about the most relevant WCF bindings and how they compare to",
    "What follows is a short discussion about the most relevant WCF bindings and how they compare to",
    "WCF\u2019s NetTCP binding allows for persistent connections, small messages, and two-way messaging.",
    "WCF\u2019s NetTCP binding allows for persistent connections, small messages, and two-way messaging.",
    "gRPC has many features of WCF\u2019s NetTCP binding, but they\u2019re not always implemented in the same",
    "gRPC has many features of WCF\u2019s NetTCP binding, but they\u2019re not always implemented in the same",
    "26 CHAPTER 4 | Comparing WCF to gRPC",
    "26 CHAPTER 4 | Comparing WCF to gRPC",
    "The WCF binding called BasicHttpBinding is usually text-based and uses SOAP as the wire format. It\u2019s",
    "The WCF binding called BasicHttpBinding is usually text-based and uses SOAP as the wire format. It\u2019s",
    "The equivalent in gRPC uses HTTP/2 as the underlying transport layer with the binary Protobuf wire",
    "The equivalent in gRPC uses HTTP/2 as the underlying transport layer with the binary Protobuf wire",
    "WCF provided a ",
    "WCF provided a ",
    null,
    null,
    "MSMQ is a proprietary Windows message queue. WCF\u2019s binding to MSMQ enables \u201cfire and forget\u201d",
    "MSMQ is a proprietary Windows message queue. WCF\u2019s binding to MSMQ enables \u201cfire and forget\u201d",
    "The best alternative is to directly use a messaging system like Azure Service Bus, RabbitMQ, or Kafka.",
    "The best alternative is to directly use a messaging system like Azure Service Bus, RabbitMQ, or Kafka.",
    "WebHttpBinding (also known as WCF REST), with the WebGet and WebInvoke attributes, enabled you",
    "WebHttpBinding (also known as WCF REST), with the WebGet and WebInvoke attributes, enabled you",
    "As a Windows Communication Foundation (WCF) developer, you\u2019re probably used to dealing with the",
    "As a Windows Communication Foundation (WCF) developer, you\u2019re probably used to dealing with the",
    "Request/reply",
    "Request/reply",
    "Duplex:",
    "Duplex:",
    "One-way duplex with session",
    "One-way duplex with session",
    "Full duplex with session",
    "Full duplex with session",
    "One-way",
    "One-way",
    "27 CHAPTER 4 | Comparing WCF to gRPC",
    "27 CHAPTER 4 | Comparing WCF to gRPC",
    "It\u2019s possible to map these RPC types fairly naturally to existing gRPC concepts. This chapter will look at",
    "It\u2019s possible to map these RPC types fairly naturally to existing gRPC concepts. This chapter will look at",
    "|WCF|gRPC|",
    "|WCF|gRPC|",
    "For simple request/reply methods that take and return small amounts of data, use the simplest gRPC",
    "For simple request/reply methods that take and return small amounts of data, use the simplest gRPC",
    "As you can see, implementing a gRPC unary RPC service method is similar to implementing a WCF",
    "As you can see, implementing a gRPC unary RPC service method is similar to implementing a WCF",
    "WCF applications (with certain bindings) can create a persistent connection between client and server.",
    "WCF applications (with certain bindings) can create a persistent connection between client and server.",
    "gRPC services provide similar functionality with message streams. Streams don\u2019t map ",
    "gRPC services provide similar functionality with message streams. Streams don\u2019t map ",
    "28 CHAPTER 4 | Comparing WCF to gRPC",
    "28 CHAPTER 4 | Comparing WCF to gRPC",
    null,
    null,
    "gRPC supports the creation of persistent streams from client to server, and from server to client. Both",
    "gRPC supports the creation of persistent streams from client to server, and from server to client. Both",
    "You can use streams for arbitrary, asynchronous messaging over time. Or you can use them for",
    "You can use streams for arbitrary, asynchronous messaging over time. Or you can use them for",
    "The following example shows a server-streaming RPC.",
    "The following example shows a server-streaming RPC.",
    "This server stream can be consumed from a client application, as shown in the following code:",
    "This server stream can be consumed from a client application, as shown in the following code:",
    "29 CHAPTER 4 | Comparing WCF to gRPC",
    "29 CHAPTER 4 | Comparing WCF to gRPC",
    null,
    null,
    "A WCF duplex service uses a client callback interface that can have multiple methods. A gRPC serverstreaming service can only send messages over a single stream. If you need multiple methods, use a",
    "A WCF duplex service uses a client callback interface that can have multiple methods. A gRPC serverstreaming service can only send messages over a single stream. If you need multiple methods, use a",
    null,
    null,
    "WCF provides one-way operations (marked with ",
    "WCF provides one-way operations (marked with ",
    null,
    null,
    null,
    null,
    null,
    null,
    "30 CHAPTER 4 | Comparing WCF to gRPC",
    "30 CHAPTER 4 | Comparing WCF to gRPC",
    "You can use client-streaming RPCs for fire-and-forget messaging, as shown in the previous example.",
    "You can use client-streaming RPCs for fire-and-forget messaging, as shown in the previous example.",
    "WCF duplex binding supports multiple one-way operations on both the service interface and the",
    "WCF duplex binding supports multiple one-way operations on both the service interface and the",
    null,
    null,
    null,
    null,
    "31 CHAPTER 4 | Comparing WCF to gRPC",
    "31 CHAPTER 4 | Comparing WCF to gRPC",
    "In the previous example, you can see that the implementation method receives both a request stream",
    "In the previous example, you can see that the implementation method receives both a request stream",
    null,
    null,
    null,
    null,
    "32 CHAPTER 4 | Comparing WCF to gRPC",
    "32 CHAPTER 4 | Comparing WCF to gRPC",
    "It\u2019s possible to add generic key/value headers to Windows Communication Foundation (WCF)",
    "It\u2019s possible to add generic key/value headers to Windows Communication Foundation (WCF)",
    "gRPC calls and responses can also include metadata that\u2019s similar to HTTP headers. This metadata is",
    "gRPC calls and responses can also include metadata that\u2019s similar to HTTP headers. This metadata is",
    null,
    null,
    "This example shows how to add metadata to a call from a C# client:",
    "This example shows how to add metadata to a call from a C# client:",
    "gRPC services can access metadata from the ServerCallContext argument\u2019s RequestHeaders property:",
    "gRPC services can access metadata from the ServerCallContext argument\u2019s RequestHeaders property:",
    "Services can send metadata to clients by using the ResponseTrailers property of ServerCallContext:",
    "Services can send metadata to clients by using the ResponseTrailers property of ServerCallContext:",
    null,
    null,
    "33 CHAPTER 4 | Comparing WCF to gRPC",
    "33 CHAPTER 4 | Comparing WCF to gRPC",
    "Unfortunately, the current version of gRPC lacks the sophistication found with WCF, and only has",
    "Unfortunately, the current version of gRPC lacks the sophistication found with WCF, and only has",
    "|quick guide to the most commonly used status codes:|Col2|",
    "|quick guide to the most commonly used status codes:|Col2|",
    "An ASP.NET Core gRPC service can send an error response by throwing an RpcException, which can be",
    "An ASP.NET Core gRPC service can send an error response by throwing an RpcException, which can be",
    null,
    null,
    "34 CHAPTER 4 | Comparing WCF to gRPC",
    "34 CHAPTER 4 | Comparing WCF to gRPC",
    null,
    null,
    "One of the real benefits of working with Windows Communication Foundation (WCF) was that it",
    "One of the real benefits of working with Windows Communication Foundation (WCF) was that it",
    "SOAP services expose Web Services Description Language (WSDL) schema documents with",
    "SOAP services expose Web Services Description Language (WSDL) schema documents with",
    "gRPC works best when servers and clients are generated from the same .proto files, but a Server",
    "gRPC works best when servers and clients are generated from the same .proto files, but a Server",
    "The WS-Discovery protocol is used to locate services on a local network. gRPC services are located",
    "The WS-Discovery protocol is used to locate services on a local network. gRPC services are located",
    "Security, authentication, and authorization are covered in much more detail in chapter 6. But it\u2019s worth",
    "Security, authentication, and authorization are covered in much more detail in chapter 6. But it\u2019s worth",
    "35 CHAPTER 4 | Comparing WCF to gRPC",
    "35 CHAPTER 4 | Comparing WCF to gRPC",
    "gRPC does not provide an equivalent to WS-ReliableMessaging. Retry semantics should be handled in",
    "gRPC does not provide an equivalent to WS-ReliableMessaging. Retry semantics should be handled in",
    "WCF\u2019s implementation of distributed transactions uses Microsoft Distributed Transaction Coordinator",
    "WCF\u2019s implementation of distributed transactions uses Microsoft Distributed Transaction Coordinator",
    "36 CHAPTER 4 | Comparing WCF to gRPC",
    "36 CHAPTER 4 | Comparing WCF to gRPC",
    null,
    null,
    "This chapter will describe how to work with ASP.NET Core 7.0 gRPC projects and demonstrate",
    "This chapter will describe how to work with ASP.NET Core 7.0 gRPC projects and demonstrate",
    "Create an ASP.NET Core 7.0 gRPC project.",
    "Create an ASP.NET Core 7.0 gRPC project.",
    "Simple request-reply operations to gRPC unary RPC.",
    "Simple request-reply operations to gRPC unary RPC.",
    "One-way operations to gRPC client streaming RPC.",
    "One-way operations to gRPC client streaming RPC.",
    "Full-duplex services to gRPC bidirectional streaming RPC.",
    "Full-duplex services to gRPC bidirectional streaming RPC.",
    "There\u2019s also a comparison of using streaming services versus repeated fields for returning datasets,",
    "There\u2019s also a comparison of using streaming services versus repeated fields for returning datasets,",
    "The sample WCF application is a minimal stub of a set of stock trading services. It uses the opensource Inversion of Control (IoC) container library called Autofac for dependency injection. It includes",
    "The sample WCF application is a minimal stub of a set of stock trading services. It uses the opensource Inversion of Control (IoC) container library called Autofac for dependency injection. It includes",
    "The samples include the WCF and gRPC implementations of each service.",
    "The samples include the WCF and gRPC implementations of each service.",
    "The .NET SDK comes with a powerful CLI tool, dotnet, which enables you to create and manage",
    "The .NET SDK comes with a powerful CLI tool, dotnet, which enables you to create and manage",
    "37 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "37 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "Create an empty solution called ",
    "Create an empty solution called ",
    "Select ",
    "Select ",
    "38 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "38 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "Select ",
    "Select ",
    "39 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "39 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "At present, you have limited options for the service creation. Docker will be introduced later, so for",
    "At present, you have limited options for the service creation. Docker will be introduced later, so for",
    "This section covers the creation of solutions and projects from the command line.",
    "This section covers the creation of solutions and projects from the command line.",
    "Create the solution as shown in the following command. The -o (or --output) flag specifies the output",
    "Create the solution as shown in the following command. The -o (or --output) flag specifies the output",
    "ASP.NET Core 7.0 comes with a CLI template for gRPC services. Create the new project by using this",
    "ASP.NET Core 7.0 comes with a CLI template for gRPC services. Create the new project by using this",
    "Finally, add the project to the solution by using the dotnet sln command:",
    "Finally, add the project to the solution by using the dotnet sln command:",
    "40 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "40 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "You can now open this solution in Visual Studio 2022, Visual Studio Code, or whatever editor you",
    "You can now open this solution in Visual Studio 2022, Visual Studio Code, or whatever editor you",
    "You\u2019ve now created an example service by using the gRPC template, which was reviewed earlier in the",
    "You\u2019ve now created an example service by using the gRPC template, which was reviewed earlier in the",
    null,
    null,
    "Go ahead and rename the Protos/greet.proto file to Protos/portfolios.proto, and open it in your",
    "Go ahead and rename the Protos/greet.proto file to Protos/portfolios.proto, and open it in your",
    "If you rename the greet.proto file in an integrated development environment (IDE) like Visual Studio, a",
    "If you rename the greet.proto file in an integrated development environment (IDE) like Visual Studio, a",
    "In the gRPC build targets, there\u2019s a Protobuf item element that lets you specify which .proto files",
    "In the gRPC build targets, there\u2019s a Protobuf item element that lets you specify which .proto files",
    null,
    null,
    "The GreeterService class is in the Services folder and inherits from Greeter.GreeterBase. Rename it to",
    "The GreeterService class is in the Services folder and inherits from Greeter.GreeterBase. Rename it to",
    "41 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "41 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "There was a reference to the GreeterService class in the ",
    "There was a reference to the GreeterService class in the ",
    "In the next section, we\u2019ll add functionality to this new service.",
    "In the next section, we\u2019ll add functionality to this new service.",
    "This section covers how to migrate a basic request-reply service in WCF to a unary RPC service in",
    "This section covers how to migrate a basic request-reply service in WCF to a unary RPC service in",
    null,
    null,
    "42 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "42 CHAPTER 5 | Migrate a WCF solution to gRPC",
    null,
    null,
    "The ServiceContract implementation uses a repository class provided via dependency injection that",
    "The ServiceContract implementation uses a repository class provided via dependency injection that",
    "43 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "43 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "If you followed the instructions in the previous section, you should have a gRPC project with a",
    "If you followed the instructions in the previous section, you should have a gRPC project with a",
    "The first step is to migrate the DataContract classes to their Protobuf equivalents.",
    "The first step is to migrate the DataContract classes to their Protobuf equivalents.",
    "The PortfolioItem class will be converted to a Protobuf message first, because the Portfolio class",
    "The PortfolioItem class will be converted to a Protobuf message first, because the Portfolio class",
    "The Portfolio class is a little more complicated. In the WCF code, the developer used a Guid for the",
    "The Portfolio class is a little more complicated. In the WCF code, the developer used a Guid for the",
    "Now that you have the data messages, you can declare the service RPC endpoints.",
    "Now that you have the data messages, you can declare the service RPC endpoints.",
    "44 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "44 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "The WCF Get method takes two parameters: Guid traderId and int portfolioId. gRPC service methods",
    "The WCF Get method takes two parameters: Guid traderId and int portfolioId. gRPC service methods",
    "The service could just return a Portfolio message directly, but again, this could affect backward",
    "The service could just return a Portfolio message directly, but again, this could affect backward",
    "This example shows the declaration of the gRPC service method with the GetRequest message:",
    "This example shows the declaration of the gRPC service method with the GetRequest message:",
    "The WCF GetAll method takes only a single parameter, traderId, so it might seem that you could",
    "The WCF GetAll method takes only a single parameter, traderId, so it might seem that you could",
    "The WCF method also returns a List",
    "The WCF method also returns a List",
    "45 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "45 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "If you save your project with these changes, the gRPC build target will run in the background and",
    "If you save your project with these changes, the gRPC build target will run in the background and",
    "Open the Services/GreeterService.cs class and delete the example code. Now you can add the",
    "Open the Services/GreeterService.cs class and delete the example code. Now you can add the",
    "The base class declares virtual methods for Get and GetAll that can be overridden to implement the",
    "The base class declares virtual methods for Get and GetAll that can be overridden to implement the",
    "The signature for all gRPC unary service methods in ASP.NET Core is consistent. There are two",
    "The signature for all gRPC unary service methods in ASP.NET Core is consistent. There are two",
    "The method\u2019s return type is a Task",
    "The method\u2019s return type is a Task",
    "At this point, the project needs the Portfolio repository and models contained in the",
    "At this point, the project needs the Portfolio repository and models contained in the",
    "After you\u2019ve created the library and added it to the solution, delete the generated Class1.cs file and",
    "After you\u2019ve created the library and added it to the solution, delete the generated Class1.cs file and",
    "46 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "46 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "SDK-style .NET projects automatically include any .cs files in or under their own directory, so you don\u2019t",
    "SDK-style .NET projects automatically include any .cs files in or under their own directory, so you don\u2019t",
    "Now you can add a reference to this library to the gRPC application project and consume the",
    "Now you can add a reference to this library to the gRPC application project and consume the",
    "The IPortfolioRepository implementation can now be specified as a constructor parameter in the",
    "The IPortfolioRepository implementation can now be specified as a constructor parameter in the",
    "47 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "47 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "Now that you\u2019ve declared your messages and your service in the portfolios.proto file, you have to",
    "Now that you\u2019ve declared your messages and your service in the portfolios.proto file, you have to",
    "Start by implementing the Get method. The default override looks like this example:",
    "Start by implementing the Get method. The default override looks like this example:",
    "The first problem is that request.TraderId is a string, and the service requires a Guid. Even though the",
    "The first problem is that request.TraderId is a string, and the service requires a Guid. Even though the",
    "After there\u2019s a proper Guid value for traderId, you can use the repository to retrieve the Portfolio and",
    "After there\u2019s a proper Guid value for traderId, you can use the repository to retrieve the Portfolio and",
    null,
    null,
    "The previous code doesn\u2019t actually work because the repository is returning its own POCO model",
    "The previous code doesn\u2019t actually work because the repository is returning its own POCO model",
    "48 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "48 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "Now that you have the conversion code in place, you can complete the Get method implementation:",
    "Now that you have the conversion code in place, you can complete the Get method implementation:",
    "49 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "49 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "The implementation of the GetAll method is similar. Note that the repeated fields on Protobuf",
    "The implementation of the GetAll method is similar. Note that the repeated fields on Protobuf",
    "Having successfully migrated the WCF request-reply service to gRPC, let\u2019s look at creating a client for",
    "Having successfully migrated the WCF request-reply service to gRPC, let\u2019s look at creating a client for",
    "Create a .NET Standard class library in the same solution to contain the client. This is primarily an",
    "Create a .NET Standard class library in the same solution to contain the client. This is primarily an",
    "In Visual Studio 2022, you can add references to gRPC services in a way that\u2019s similar to how you\u2019d",
    "In Visual Studio 2022, you can add references to gRPC services in a way that\u2019s similar to how you\u2019d",
    "50 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "50 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "Browse to the portfolios.proto file in the TraderSys.Portfolios project, leave ",
    "Browse to the portfolios.proto file in the TraderSys.Portfolios project, leave ",
    "51 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "51 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "When you use the Visual Studio ",
    "When you use the Visual Studio ",
    null,
    null,
    "The following code is a brief example of how to use the generated client in a console application. A",
    "The following code is a brief example of how to use the generated client in a console application. A",
    "52 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "52 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "You\u2019ve now migrated a basic WCF application to an ASP.NET Core gRPC service and created a client to",
    "You\u2019ve now migrated a basic WCF application to an ASP.NET Core gRPC service and created a client to",
    "Now that you have a sense of the basic concepts, in this section, you\u2019ll look at the more complicated",
    "Now that you have a sense of the basic concepts, in this section, you\u2019ll look at the more complicated",
    "There are multiple ways to use duplex services in Windows Communication Foundation (WCF). Some",
    "There are multiple ways to use duplex services in Windows Communication Foundation (WCF). Some",
    null,
    null,
    null,
    null,
    "The WCF solution is implemented as a self-hosted Net.TCP server in a .NET Framework 4. ",
    "The WCF solution is implemented as a self-hosted Net.TCP server in a .NET Framework 4. ",
    "53 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "53 CHAPTER 5 | Migrate a WCF solution to gRPC",
    null,
    null,
    "The service has a single method with no return type because it uses the callback interface",
    "The service has a single method with no return type because it uses the callback interface",
    null,
    null,
    "You can find the implementations of these interfaces in the solution, along with faked external",
    "You can find the implementations of these interfaces in the solution, along with faked external",
    null,
    null,
    "The gRPC process for handling real-time data is different from the WCF process. A call from client to",
    "The gRPC process for handling real-time data is different from the WCF process. A call from client to",
    "The service definition needs two messages: one for the request and one for the stream. The service",
    "The service definition needs two messages: one for the request and one for the stream. The service",
    null,
    null,
    "54 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "54 CHAPTER 5 | Migrate a WCF solution to gRPC",
    null,
    null,
    "Reuse the fake StockPriceSubscriber from the WCF project by copying the three classes from the",
    "Reuse the fake StockPriceSubscriber from the WCF project by copying the three classes from the",
    null,
    null,
    null,
    null,
    "This class can now be used to implement the gRPC StockTickerService.",
    "This class can now be used to implement the gRPC StockTickerService.",
    "55 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "55 CHAPTER 5 | Migrate a WCF solution to gRPC",
    null,
    null,
    "As you can see, although the declaration in the .proto file says the method returns a stream of",
    "As you can see, although the declaration in the .proto file says the method returns a stream of",
    "Unlike a WCF duplex service, where the instance of the service class is kept alive while the connection",
    "Unlike a WCF duplex service, where the instance of the service class is kept alive while the connection",
    "56 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "56 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "The service can tell when the client has closed the connection by using the CancellationToken from",
    "The service can tell when the client has closed the connection by using the CancellationToken from",
    "In the Subscribe method, then, get a StockPriceSubscriber and add an event handler that writes to the",
    "In the Subscribe method, then, get a StockPriceSubscriber and add an event handler that writes to the",
    "The WriteUpdateAsync method has a try/catch block to handle any errors that might happen when a",
    "The WriteUpdateAsync method has a try/catch block to handle any errors that might happen when a",
    null,
    null,
    "Follow the same steps in the previous section to create a shareable client class library from the .proto",
    "Follow the same steps in the previous section to create a shareable client class library from the .proto",
    null,
    null,
    "In this case, the Subscribe method on the generated client isn\u2019t asynchronous. The stream is created",
    "In this case, the Subscribe method on the generated client isn\u2019t asynchronous. The stream is created",
    "The stream is passed to an asynchronous DisplayAsync method. The application then waits for the",
    "The stream is passed to an asynchronous DisplayAsync method. The application then waits for the",
    "57 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "57 CHAPTER 5 | Migrate a WCF solution to gRPC",
    null,
    null,
    "WCF uses callback interfaces to allow the server to call methods directly on the client. gRPC streams",
    "WCF uses callback interfaces to allow the server to call methods directly on the client. gRPC streams",
    "The IAsyncStreamReader",
    "The IAsyncStreamReader",
    "Again, be sure to catch exceptions here because of the possibility of network failure, and because of",
    "Again, be sure to catch exceptions here because of the possibility of network failure, and because of",
    "A WCF full-duplex service allows for asynchronous, real-time messaging in both directions. In the",
    "A WCF full-duplex service allows for asynchronous, real-time messaging in both directions. In the",
    "58 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "58 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "version of that service would allow the client to add and remove stocks from the list without having to",
    "version of that service would allow the client to add and remove stocks from the list without having to",
    "The IFullStockTickerService interface provides three methods:",
    "The IFullStockTickerService interface provides three methods:",
    "Subscribe starts the connection.",
    "Subscribe starts the connection.",
    "AddSymbol adds a stock symbol to watch.",
    "AddSymbol adds a stock symbol to watch.",
    "RemoveSymbol removes a symbol from the watched list.",
    "RemoveSymbol removes a symbol from the watched list.",
    "The callback interface remains the same.",
    "The callback interface remains the same.",
    "Implementing this pattern in gRPC is less straightforward because there are now two streams of data",
    "Implementing this pattern in gRPC is less straightforward because there are now two streams of data",
    "In a case where there\u2019s a specific set of types that are acceptable, oneof is a better way to go. Use an",
    "In a case where there\u2019s a specific set of types that are acceptable, oneof is a better way to go. Use an",
    "Declare a bidirectional streaming service that takes a stream of ActionMessage messages:",
    "Declare a bidirectional streaming service that takes a stream of ActionMessage messages:",
    "59 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "59 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "The implementation for this service is similar to that of the previous example, except the first",
    "The implementation for this service is similar to that of the previous example, except the first",
    "The ActionMessage class that gRPC has generated guarantees that only one of the Add and Remove",
    "The ActionMessage class that gRPC has generated guarantees that only one of the Add and Remove",
    "60 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "60 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "The property ActionCase on the ActionMessage object can be used with a switch statement to",
    "The property ActionCase on the ActionMessage object can be used with a switch statement to",
    null,
    null,
    "There\u2019s a simple .NET WPF application that demonstrates the use of this more complex client. You can",
    "There\u2019s a simple .NET WPF application that demonstrates the use of this more complex client. You can",
    "The client is used in the MainWindowViewModel class, which gets an instance of the",
    "The client is used in the MainWindowViewModel class, which gets an instance of the",
    "61 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "61 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "The object returned by the client.Subscribe() method is now an instance of the gRPC library type",
    "The object returned by the client.Subscribe() method is now an instance of the gRPC library type",
    "The request stream is used from some WPF ICommand methods to add and remove symbols. For",
    "The request stream is used from some WPF ICommand methods to add and remove symbols. For",
    "The stream of responses is handled in an async method. The Task it returns is held to be disposed",
    "The stream of responses is handled in an async method. The Task it returns is held to be disposed",
    "62 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "62 CHAPTER 5 | Migrate a WCF solution to gRPC",
    null,
    null,
    "When the window is closed and the MainWindowViewModel is disposed (from the Closed event of",
    "When the window is closed and the MainWindowViewModel is disposed (from the Closed event of",
    "Closing request streams enables the server to dispose of its own resources in a timely way. This",
    "Closing request streams enables the server to dispose of its own resources in a timely way. This",
    "gRPC services provide two ways of returning datasets, or lists of objects. The Protocol Buffers message",
    "gRPC services provide two ways of returning datasets, or lists of objects. The Protocol Buffers message",
    "You can also use the stream feature for long-running temporal data such as notifications or log",
    "You can also use the stream feature for long-running temporal data such as notifications or log",
    "Which you should use depends on factors such as:",
    "Which you should use depends on factors such as:",
    "The overall size of the dataset.",
    "The overall size of the dataset.",
    "The time it took to create the dataset at either the client or server end.",
    "The time it took to create the dataset at either the client or server end.",
    "Whether the consumer of the dataset can start acting on it as soon as the first item is",
    "Whether the consumer of the dataset can start acting on it as soon as the first item is",
    "For any dataset that\u2019s constrained in size and that can be generated in its entirety in a short time\u2014",
    "For any dataset that\u2019s constrained in size and that can be generated in its entirety in a short time\u2014",
    "63 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "63 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "If the client needs all the data before starting to process it and the dataset is small enough to",
    "If the client needs all the data before starting to process it and the dataset is small enough to",
    "When the message objects in your datasets are potentially very large, it\u2019s best for you transfer them",
    "When the message objects in your datasets are potentially very large, it\u2019s best for you transfer them",
    "Similarly, you should send datasets of unconstrained size over streams to avoid running out of",
    "Similarly, you should send datasets of unconstrained size over streams to avoid running out of",
    "For datasets where the consumer can separately process each item, you should consider using a",
    "For datasets where the consumer can separately process each item, you should consider using a",
    "Another scenario where streams can be useful is where a message is being processed across multiple",
    "Another scenario where streams can be useful is where a message is being processed across multiple",
    "It isn\u2019t necessary to distribute client libraries for a gRPC application. You can create a shared library of",
    "It isn\u2019t necessary to distribute client libraries for a gRPC application. You can create a shared library of",
    "One advantage of distributing a client library is that you can enhance the generated gRPC and",
    "One advantage of distributing a client library is that you can enhance the generated gRPC and",
    "Ensure that as many teams as possible can access your gRPC service. The best way to do this",
    "Ensure that as many teams as possible can access your gRPC service. The best way to do this",
    "64 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "64 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "particularly true in a multi-platform environment, where different teams frequently use different",
    "particularly true in a multi-platform environment, where different teams frequently use different",
    null,
    null,
    "With the .NET gRPC client libraries, there\u2019s a ReadAllAsync extension method for",
    "With the .NET gRPC client libraries, there\u2019s a ReadAllAsync extension method for",
    null,
    null,
    "The IObservable",
    "The IObservable",
    "This code is longer than the IAsyncEnumerable",
    "This code is longer than the IAsyncEnumerable",
    "65 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "65 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "The GrpcStreamSubscription class handles the enumeration of the IAsyncStreamReader:",
    "The GrpcStreamSubscription class handles the enumeration of the IAsyncStreamReader:",
    "66 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "66 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "All that is required now is a simple extension method to create the observable from the stream reader.",
    "All that is required now is a simple extension method to create the observable from the stream reader.",
    null,
    null,
    "67 CHAPTER 5 | Migrate a WCF solution to gRPC",
    "67 CHAPTER 5 | Migrate a WCF solution to gRPC",
    null,
    null,
    "In any real-world scenario, securing applications and services are essential. Security covers three key",
    "In any real-world scenario, securing applications and services are essential. Security covers three key",
    "Encrypting network traffic to prevent malicious hackers from intercepting it.",
    "Encrypting network traffic to prevent malicious hackers from intercepting it.",
    "Authenticating clients and servers to establish identity and trust.",
    "Authenticating clients and servers to establish identity and trust.",
    "Authorizing clients to control access to systems and apply permissions based on identity.",
    "Authorizing clients to control access to systems and apply permissions based on identity.",
    "This chapter will cover the facilities for authentication and authorization in gRPC for ASP.NET Core. It",
    "This chapter will cover the facilities for authentication and authorization in gRPC for ASP.NET Core. It",
    "In Windows Communication Foundation (WCF), authentication and authorization were handled in",
    "In Windows Communication Foundation (WCF), authentication and authorization were handled in",
    "gRPC authentication and authorization works on two levels:",
    "gRPC authentication and authorization works on two levels:",
    "Call-level authentication/authorization is usually handled through tokens that are applied in",
    "Call-level authentication/authorization is usually handled through tokens that are applied in",
    "Channel-level authentication uses a client certificate that\u2019s applied at the connection level. It",
    "Channel-level authentication uses a client certificate that\u2019s applied at the connection level. It",
    "You can use either or both of these mechanisms to help secure your service.",
    "You can use either or both of these mechanisms to help secure your service.",
    "68 CHAPTER 6 | Security in gRPC applications",
    "68 CHAPTER 6 | Security in gRPC applications",
    "The ASP.NET Core implementation of gRPC supports authentication and authorization through most",
    "The ASP.NET Core implementation of gRPC supports authentication and authorization through most",
    "Call authentication",
    "Call authentication",
    "Azure Active Directory",
    "Azure Active Directory",
    "IdentityServer",
    "IdentityServer",
    "JWT Bearer Token",
    "JWT Bearer Token",
    "OAuth 2.0",
    "OAuth 2.0",
    "OpenID Connect",
    "OpenID Connect",
    "WS-Federation",
    "WS-Federation",
    "Channel authentication",
    "Channel authentication",
    "Client certificate",
    "Client certificate",
    "The call authentication methods are all based on ",
    "The call authentication methods are all based on ",
    null,
    null,
    "This chapter will show how to apply call credentials and channel credentials to a gRPC service. It will",
    "This chapter will show how to apply call credentials and channel credentials to a gRPC service. It will",
    "Call credentials are all based on a token passed in metadata with each request.",
    "Call credentials are all based on a token passed in metadata with each request.",
    null,
    null,
    null,
    null,
    null,
    null,
    "69 CHAPTER 6 | Security in gRPC applications",
    "69 CHAPTER 6 | Security in gRPC applications",
    "ASP.NET Core 7.0 can handle JWTs by using the JWT Bearer package. The configuration is exactly the",
    "ASP.NET Core 7.0 can handle JWTs by using the JWT Bearer package. The configuration is exactly the",
    "The JWT Bearer package isn\u2019t included in ASP.NET Core 7.0 by default. Install the",
    "The JWT Bearer package isn\u2019t included in ASP.NET Core 7.0 by default. Install the",
    "Add the Authentication service in the ",
    "Add the Authentication service in the ",
    "The IssuerSigningKey property requires an implementation of",
    "The IssuerSigningKey property requires an implementation of",
    "Next, add the Authorization service, which controls access to the system:",
    "Next, add the Authorization service, which controls access to the system:",
    "70 CHAPTER 6 | Security in gRPC applications",
    "70 CHAPTER 6 | Security in gRPC applications",
    "Now add the authentication and authorization middleware to the ASP.NET Core pipeline in the",
    "Now add the authentication and authorization middleware to the ASP.NET Core pipeline in the",
    "Finally, apply the ",
    "Finally, apply the ",
    "After you\u2019ve obtained a JWT token from an identity server, you can use it to authenticate gRPC calls",
    "After you\u2019ve obtained a JWT token from an identity server, you can use it to authenticate gRPC calls",
    "Now you\u2019ve secured your gRPC service by using JWT bearer tokens as call credentials. A version of the",
    "Now you\u2019ve secured your gRPC service by using JWT bearer tokens as call credentials. A version of the",
    "71 CHAPTER 6 | Security in gRPC applications",
    "71 CHAPTER 6 | Security in gRPC applications",
    "As the name implies, channel credentials are attached to the underlying gRPC channel. The standard",
    "As the name implies, channel credentials are attached to the underlying gRPC channel. The standard",
    "You can combine channel credentials with call credentials to provide comprehensive security for a",
    "You can combine channel credentials with call credentials to provide comprehensive security for a",
    "Client certificate authentication works for gRPC the same way it works for ASP.NET Core. For more",
    "Client certificate authentication works for gRPC the same way it works for ASP.NET Core. For more",
    "For development purposes you can use a self-signed certificate, but for production you should use a",
    "For development purposes you can use a self-signed certificate, but for production you should use a",
    "Configure certificate authentication both at the host level (for example, on the Kestrel server), and in",
    "Configure certificate authentication both at the host level (for example, on the Kestrel server), and in",
    null,
    null,
    "You can configure Kestrel (the ASP.NET Core HTTP server) to require a client certificate, and optionally",
    "You can configure Kestrel (the ASP.NET Core HTTP server) to require a client certificate, and optionally",
    "The ClientCertificateMode.RequireCertificate setting causes Kestrel to immediately reject any",
    "The ClientCertificateMode.RequireCertificate setting causes Kestrel to immediately reject any",
    "72 CHAPTER 6 | Security in gRPC applications",
    "72 CHAPTER 6 | Security in gRPC applications",
    null,
    null,
    null,
    null,
    "Add the certificate authentication service in the ",
    "Add the certificate authentication service in the ",
    null,
    null,
    null,
    null,
    "A certificate can be loaded from a ",
    "A certificate can be loaded from a ",
    "73 CHAPTER 6 | Security in gRPC applications",
    "73 CHAPTER 6 | Security in gRPC applications",
    null,
    null,
    "A certificate can be loaded from a certificate and private key ",
    "A certificate can be loaded from a certificate and private key ",
    "You can configure your server to use both certificate and token authentication. To do this, apply the",
    "You can configure your server to use both certificate and token authentication. To do this, apply the",
    "To provide both ChannelCredentials and CallCredentials on the client, use the",
    "To provide both ChannelCredentials and CallCredentials on the client, use the",
    "74 CHAPTER 6 | Security in gRPC applications",
    "74 CHAPTER 6 | Security in gRPC applications",
    "constructor, the internal client code throws an exception. The SslCredentials parameter is only",
    "constructor, the internal client code throws an exception. The SslCredentials parameter is only",
    null,
    null,
    "The network security model for Windows Communication Foundation (WCF) is extensive and complex.",
    "The network security model for Windows Communication Foundation (WCF) is extensive and complex.",
    "gRPC leaves secure networking to the underlying HTTP/2 protocol, which you can secure by using TLS",
    "gRPC leaves secure networking to the underlying HTTP/2 protocol, which you can secure by using TLS",
    "Web browsers insist on using TLS connections for HTTP/2, but most programmatic clients, including",
    "Web browsers insist on using TLS connections for HTTP/2, but most programmatic clients, including",
    "For public APIs, you should always use TLS connections, and provide valid certificates for your services",
    "For public APIs, you should always use TLS connections, and provide valid certificates for your services",
    "For internal services across a corporate network, you should still consider using TLS to secure network",
    "For internal services across a corporate network, you should still consider using TLS to secure network",
    "75 CHAPTER 6 | Security in gRPC applications",
    "75 CHAPTER 6 | Security in gRPC applications",
    "If you need to use explicit TLS between services running in Kubernetes, consider using an in-cluster",
    "If you need to use explicit TLS between services running in Kubernetes, consider using an in-cluster",
    "76 CHAPTER 6 | Security in gRPC applications",
    "76 CHAPTER 6 | Security in gRPC applications",
    null,
    null,
    "You can run ASP.NET Core 7.0 applications, including gRPC services, on Windows, on Linux, and in",
    "You can run ASP.NET Core 7.0 applications, including gRPC services, on Windows, on Linux, and in",
    "Although ASP.NET Core 7.0 applications can be hosted in IIS on Windows Server, currently it isn\u2019t",
    "Although ASP.NET Core 7.0 applications can be hosted in IIS on Windows Server, currently it isn\u2019t",
    "You can run your application as a Windows service. Or you can run it as a Linux service controlled by",
    "You can run your application as a Windows service. Or you can run it as a Linux service controlled by",
    "To configure your ASP.NET Core application to run as a Windows service, install the",
    "To configure your ASP.NET Core application to run as a Windows service, install the",
    "Now publish your application by using one of these methods:",
    "Now publish your application by using one of these methods:",
    "From Visual Studio by right-clicking the project and selecting ",
    "From Visual Studio by right-clicking the project and selecting ",
    "From the .NET CLI.",
    "From the .NET CLI.",
    "When you publish a .NET application, you can choose to create a ",
    "When you publish a .NET application, you can choose to create a ",
    "77 CHAPTER 7 | gRPC in production",
    "77 CHAPTER 7 | gRPC in production",
    null,
    null,
    "To publish a self-contained build of the application that doesn\u2019t require the .NET 5 runtime to be",
    "To publish a self-contained build of the application that doesn\u2019t require the .NET 5 runtime to be",
    "To publish a framework-dependent build, omit the -r flag.",
    "To publish a framework-dependent build, omit the -r flag.",
    null,
    null,
    null,
    null,
    null,
    null,
    "You can override the source name used in the event log by setting a SourceName property in these",
    "You can override the source name used in the event log by setting a SourceName property in these",
    "More information on logging is at the end of this chapter.",
    "More information on logging is at the end of this chapter.",
    "To configure your ASP.NET Core application to run as a Linux service (or ",
    "To configure your ASP.NET Core application to run as a Linux service (or ",
    "Now publish your application. The application can be either framework dependent or self-contained",
    "Now publish your application. The application can be either framework dependent or self-contained",
    "78 CHAPTER 7 | gRPC in production",
    "78 CHAPTER 7 | gRPC in production",
    "From Visual Studio by right-clicking the project and selecting ",
    "From Visual Studio by right-clicking the project and selecting ",
    "From the .NET CLI, by using the following command:",
    "From the .NET CLI, by using the following command:",
    "Copy the complete contents of the publish directory to an installation folder on the Linux host.",
    "Copy the complete contents of the publish directory to an installation folder on the Linux host.",
    "The service file uses INI format, as shown in this example:",
    "The service file uses INI format, as shown in this example:",
    "The Type=notify property tells systemd that the application will notify it on startup and shutdown. The",
    "The Type=notify property tells systemd that the application will notify it on startup and shutdown. The",
    "Before systemd will recognize the service, it needs to reload its configuration. You control systemd by",
    "Before systemd will recognize the service, it needs to reload its configuration. You control systemd by",
    "If you\u2019ve configured the service correctly, you\u2019ll get the following output:",
    "If you\u2019ve configured the service correctly, you\u2019ll get the following output:",
    "Use the start command to start the service.",
    "Use the start command to start the service.",
    "To tell systemd to start the service automatically on system startup, use the enable command.",
    "To tell systemd to start the service automatically on system startup, use the enable command.",
    "79 CHAPTER 7 | gRPC in production",
    "79 CHAPTER 7 | gRPC in production",
    null,
    null,
    "The Linux equivalent of the Windows event log is journald, a structured logging system service that\u2019s",
    "The Linux equivalent of the Windows event log is journald, a structured logging system service that\u2019s",
    "Because journald is the standard for Linux logs, a variety of tools integrate with it. You can easily route",
    "Because journald is the standard for Linux logs, a variety of tools integrate with it. You can easily route",
    null,
    null,
    "When you\u2019re running a gRPC application in production, you should use a TLS certificate from a trusted",
    "When you\u2019re running a gRPC application in production, you should use a TLS certificate from a trusted",
    null,
    null,
    null,
    null,
    "A file, such as a .pfx file protected by a strong password",
    "A file, such as a .pfx file protected by a strong password",
    null,
    null,
    "You can configure Kestrel to use a certificate in two ways: from configuration or in code.",
    "You can configure Kestrel to use a certificate in two ways: from configuration or in code.",
    null,
    null,
    "The configuration approach requires setting the password and path to the certificate .pfx file in the",
    "The configuration approach requires setting the password and path to the certificate .pfx file in the",
    "80 CHAPTER 7 | gRPC in production",
    "80 CHAPTER 7 | gRPC in production",
    "Provide the password by using a secure configuration source such as Azure Key Vault or Hashicorp",
    "Provide the password by using a secure configuration source such as Azure Key Vault or Hashicorp",
    null,
    null,
    "To configure HTTPS on Kestrel in code, use the ConfigureKestrel method on IWebHostBuilder in the",
    "To configure HTTPS on Kestrel in code, use the ConfigureKestrel method on IWebHostBuilder in the",
    "Again, be sure to store the password for the .pfx file in, and retrieve it from, a secure configuration",
    "Again, be sure to store the password for the .pfx file in, and retrieve it from, a secure configuration",
    "This section covers the creation of Docker images for ASP.NET Core gRPC applications, ready to run in",
    "This section covers the creation of Docker images for ASP.NET Core gRPC applications, ready to run in",
    "Microsoft provides a range of base images for building and running .NET applications. To create an",
    "Microsoft provides a range of base images for building and running .NET applications. To create an",
    "An SDK image to build and publish the application.",
    "An SDK image to build and publish the application.",
    "A runtime image for deployment.",
    "A runtime image for deployment.",
    "|Image|Description|",
    "|Image|Description|",
    "For each image, there are four variants based on different Linux distributions, distinguished by tags.",
    "For each image, there are four variants based on different Linux distributions, distinguished by tags.",
    "81 CHAPTER 7 | gRPC in production",
    "81 CHAPTER 7 | gRPC in production",
    "|Image tag(s)|Linux|Notes|",
    "|Image tag(s)|Linux|Notes|",
    "The Alpine base image is around 100 MB, compared to 200 MB for the Debian and Ubuntu images.",
    "The Alpine base image is around 100 MB, compared to 200 MB for the Debian and Ubuntu images.",
    "A Docker image is defined by a ",
    "A Docker image is defined by a ",
    "The Dockerfile has two parts: the first uses the sdk base image to build and publish the application;",
    "The Dockerfile has two parts: the first uses the sdk base image to build and publish the application;",
    "82 CHAPTER 7 | gRPC in production",
    "82 CHAPTER 7 | gRPC in production",
    "|The build steps|Col2|",
    "|The build steps|Col2|",
    null,
    null,
    "|Step|Description|",
    "|Step|Description|",
    null,
    null,
    "Microsoft base images for Docker set the ASPNETCORE",
    "Microsoft base images for Docker set the ASPNETCORE",
    null,
    null,
    "Much like .gitignore files that exclude certain files and directories from source control, the",
    "Much like .gitignore files that exclude certain files and directories from source control, the",
    "83 CHAPTER 7 | gRPC in production",
    "83 CHAPTER 7 | gRPC in production",
    "For a StockKube.sln solution containing two different applications StockData and StockWeb, it\u2019s",
    "For a StockKube.sln solution containing two different applications StockData and StockWeb, it\u2019s",
    "The confusingly named --tag flag (which can be shortened to -t) specifies the whole name of the",
    "The confusingly named --tag flag (which can be shortened to -t) specifies the whole name of the",
    "If you have multiple applications within a single solution, you can keep the Dockerfile for each",
    "If you have multiple applications within a single solution, you can keep the Dockerfile for each",
    "To run the image in your local Docker instance, use the docker run command.",
    "To run the image in your local Docker instance, use the docker run command.",
    "The -ti flag connects your current terminal to the container\u2019s terminal, and runs in interactive mode.",
    "The -ti flag connects your current terminal to the container\u2019s terminal, and runs in interactive mode.",
    "After you\u2019ve verified that the image works, push it to a Docker registry to make it available on other",
    "After you\u2019ve verified that the image works, push it to a Docker registry to make it available on other",
    "To push to Docker Hub, prefix the image name with your user or organization name.",
    "To push to Docker Hub, prefix the image name with your user or organization name.",
    "To push to a private registry, prefix the image name with the registry host name and the organization",
    "To push to a private registry, prefix the image name with the registry host name and the organization",
    "After the image is in a registry, you can deploy it to individual Docker hosts, or to a container",
    "After the image is in a registry, you can deploy it to individual Docker hosts, or to a container",
    "84 CHAPTER 7 | gRPC in production",
    "84 CHAPTER 7 | gRPC in production",
    "Although it\u2019s possible to run containers manually on Docker hosts, for reliable production systems it\u2019s",
    "Although it\u2019s possible to run containers manually on Docker hosts, for reliable production systems it\u2019s",
    "Kubernetes includes the following functionality:",
    "Kubernetes includes the following functionality:",
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    "This chapter will detail how to deploy an ASP.NET Core gRPC service and a website that consumes the",
    "This chapter will detail how to deploy an ASP.NET Core gRPC service and a website that consumes the",
    "Kubernetes uses ",
    "Kubernetes uses ",
    null,
    null,
    "Every Kubernetes YAML file will have at least three top-level properties:",
    "Every Kubernetes YAML file will have at least three top-level properties:",
    "The apiVersion property is used to specify which version (and which API) the file is intended for. The",
    "The apiVersion property is used to specify which version (and which API) the file is intended for. The",
    "Most Kubernetes YAML files will also have a spec section that describes the resources and",
    "Most Kubernetes YAML files will also have a spec section that describes the resources and",
    "85 CHAPTER 7 | gRPC in production",
    "85 CHAPTER 7 | gRPC in production",
    null,
    null,
    "Pods are the basic units of execution in Kubernetes. They can run multiple containers, but they\u2019re also",
    "Pods are the basic units of execution in Kubernetes. They can run multiple containers, but they\u2019re also",
    null,
    null,
    "Services are meta-objects that describe Pods (or sets of Pods) and provide a way to access them",
    "Services are meta-objects that describe Pods (or sets of Pods) and provide a way to access them",
    null,
    null,
    "Deployments are the ",
    "Deployments are the ",
    null,
    null,
    "Pods, Services, and Deployments are just three of the most basic object types. There are dozens of",
    "Pods, Services, and Deployments are just three of the most basic object types. There are dozens of",
    null,
    null,
    "Kubernetes clusters are designed to scale to hundreds or thousands of nodes and to run similar",
    "Kubernetes clusters are designed to scale to hundreds or thousands of nodes and to run similar",
    "If you\u2019re running Docker Desktop for Windows or Docker Desktop for Mac, Kubernetes is already",
    "If you\u2019re running Docker Desktop for Windows or Docker Desktop for Mac, Kubernetes is already",
    "86 CHAPTER 7 | gRPC in production",
    "86 CHAPTER 7 | gRPC in production",
    null,
    null,
    "To confirm that your cluster is running and accessible, run the kubectl version command:",
    "To confirm that your cluster is running and accessible, run the kubectl version command:",
    "In this example, both the kubectl CLI and the Kubernetes server are running version 1.14.6. Each",
    "In this example, both the kubectl CLI and the Kubernetes server are running version 1.14.6. Each",
    "The sample application has a kube directory that contains three YAML files. The namespace.yml file",
    "The sample application has a kube directory that contains three YAML files. The namespace.yml file",
    "To use a YAML file with kubectl, run the apply -f command:",
    "To use a YAML file with kubectl, run the apply -f command:",
    "The apply command will check the validity of the YAML file and display any errors received from the",
    "The apply command will check the validity of the YAML file and display any errors received from the",
    "87 CHAPTER 7 | gRPC in production",
    "87 CHAPTER 7 | gRPC in production",
    "take some time. Use the kubectl get command with the relevant object types to check on object",
    "take some time. Use the kubectl get command with the relevant object types to check on object",
    null,
    null,
    "Namespace declaration is simple and requires only assigning a name:",
    "Namespace declaration is simple and requires only assigning a name:",
    "Use kubectl to apply the namespace.yml file and to confirm the namespace is created successfully:",
    "Use kubectl to apply the namespace.yml file and to confirm the namespace is created successfully:",
    null,
    null,
    "The stockdata.yml file declares two objects: a Deployment and a Service.",
    "The stockdata.yml file declares two objects: a Deployment and a Service.",
    null,
    null,
    "The Deployment part of the YAML file provides the spec for the deployment itself, including the",
    "The Deployment part of the YAML file provides the spec for the deployment itself, including the",
    "88 CHAPTER 7 | gRPC in production",
    "88 CHAPTER 7 | gRPC in production",
    "The spec.selector property is used to match running Pods to the Deployment. The Pod\u2019s",
    "The spec.selector property is used to match running Pods to the Deployment. The Pod\u2019s",
    "The template.spec section declares the container to be run. When you\u2019re working with a local",
    "The template.spec section declares the container to be run. When you\u2019re working with a local",
    "The ports property specifies which container ports should be published on the Pod. The stockservice",
    "The ports property specifies which container ports should be published on the Pod. The stockservice",
    "The resources section applies resource limits to the container running within the Pod. This is a good",
    "The resources section applies resource limits to the container running within the Pod. This is a good",
    null,
    null,
    "The Service part of the YAML file declares the service that provides access to the Pods within the",
    "The Service part of the YAML file declares the service that provides access to the Pods within the",
    "The Service spec uses the selector property to match running Pods, in this case looking for Pods that",
    "The Service spec uses the selector property to match running Pods, in this case looking for Pods that",
    null,
    null,
    "Use kubectl to apply the stockdata.yml file and confirm that the Deployment and Service were",
    "Use kubectl to apply the stockdata.yml file and confirm that the Deployment and Service were",
    "89 CHAPTER 7 | gRPC in production",
    "89 CHAPTER 7 | gRPC in production",
    null,
    null,
    "The stockweb.yml file declares the Deployment and Service for the MVC application.",
    "The stockweb.yml file declares the Deployment and Service for the MVC application.",
    "90 CHAPTER 7 | gRPC in production",
    "90 CHAPTER 7 | gRPC in production",
    null,
    null,
    "The env section of the Deployment object specifies environment variables to be set in the container",
    "The env section of the Deployment object specifies environment variables to be set in the container",
    "The ",
    "The ",
    "The ",
    "The ",
    "If you use an environment variable for the switch, you can easily change the context depending on the",
    "If you use an environment variable for the switch, you can easily change the context depending on the",
    null,
    null,
    "The type: NodePort property is used to make the web application accessible from outside the cluster.",
    "The type: NodePort property is used to make the web application accessible from outside the cluster.",
    "The stockdata Service shouldn\u2019t be accessible from outside the cluster, so it uses the default type,",
    "The stockdata Service shouldn\u2019t be accessible from outside the cluster, so it uses the default type,",
    "Production systems will most likely use an integrated load balancer to expose public applications to",
    "Production systems will most likely use an integrated load balancer to expose public applications to",
    null,
    null,
    null,
    null,
    "Use kubectl to apply the stockweb.yml file and confirm that the Deployment and Service were created:",
    "Use kubectl to apply the stockweb.yml file and confirm that the Deployment and Service were created:",
    "The output of the get service command shows that the HTTP port has been published to port 32564",
    "The output of the get service command shows that the HTTP port has been published to port 32564",
    "91 CHAPTER 7 | gRPC in production",
    "91 CHAPTER 7 | gRPC in production",
    null,
    null,
    "The StockWeb application displays a list of NASDAQ stocks that are retrieved from a simple requestreply service. For this demonstration, each line also shows the unique ID of the Service instance that",
    "The StockWeb application displays a list of NASDAQ stocks that are retrieved from a simple requestreply service. For this demonstration, each line also shows the unique ID of the Service instance that",
    "If the number of replicas of the stockdata Service were increased, you might expect the ",
    "If the number of replicas of the stockdata Service were increased, you might expect the ",
    "First, the Kubernetes Service discovery system uses round-robin load balancing by default. The first",
    "First, the Kubernetes Service discovery system uses round-robin load balancing by default. The first",
    "Second, the HttpClient used for the StockWeb application\u2019s gRPC client is created and managed by",
    "Second, the HttpClient used for the StockWeb application\u2019s gRPC client is created and managed by",
    "The result is that by default requests to a gRPC Service aren\u2019t balanced across all instances of that",
    "The result is that by default requests to a gRPC Service aren\u2019t balanced across all instances of that",
    "The next chapter, Service meshes, will address this problem.",
    "The next chapter, Service meshes, will address this problem.",
    "92 CHAPTER 7 | gRPC in production",
    "92 CHAPTER 7 | gRPC in production",
    "A service mesh is an infrastructure component that takes control of routing service requests within a",
    "A service mesh is an infrastructure component that takes control of routing service requests within a",
    "Service discovery",
    "Service discovery",
    "Load balancing",
    "Load balancing",
    "Fault tolerance",
    "Fault tolerance",
    "Encryption",
    "Encryption",
    "Monitoring",
    "Monitoring",
    "Kubernetes service meshes work by adding an extra container, called a ",
    "Kubernetes service meshes work by adding an extra container, called a ",
    "In the previous chapter\u2019s example, the gRPC requests from the web application were all routed to a",
    "In the previous chapter\u2019s example, the gRPC requests from the web application were all routed to a",
    "When you use a service mesh, the requests from the application container are sent to the sidecar",
    "When you use a service mesh, the requests from the application container are sent to the sidecar",
    "Respond seamlessly to failures of individual instances of a service.",
    "Respond seamlessly to failures of individual instances of a service.",
    "Handle retry semantics for failed calls or timeouts.",
    "Handle retry semantics for failed calls or timeouts.",
    "Reroute failed requests to an alternate instance without returning to the client application.",
    "Reroute failed requests to an alternate instance without returning to the client application.",
    "The following screenshot shows the StockWeb application running with the Linkerd service mesh.",
    "The following screenshot shows the StockWeb application running with the Linkerd service mesh.",
    "93 CHAPTER 7 | gRPC in production",
    "93 CHAPTER 7 | gRPC in production",
    "You can see from the ",
    "You can see from the ",
    "Service meshes apply only to traffic within a cluster. For external clients, see the next chapter, Load",
    "Service meshes apply only to traffic within a cluster. For external clients, see the next chapter, Load",
    "Three general-purpose service mesh implementations are currently available for use with Kubernetes:",
    "Three general-purpose service mesh implementations are currently available for use with Kubernetes:",
    "Choosing a service mesh depends on multiple factors:",
    "Choosing a service mesh depends on multiple factors:",
    "The organization\u2019s specific requirements around costs, compliance, paid support plans, and so",
    "The organization\u2019s specific requirements around costs, compliance, paid support plans, and so",
    "The nature of the cluster, its size, the number of services deployed, and the volume of traffic",
    "The nature of the cluster, its size, the number of services deployed, and the volume of traffic",
    "Ease of deploying and managing the mesh and using it with services.",
    "Ease of deploying and managing the mesh and using it with services.",
    "In this example, you\u2019ll learn how to use the Linkerd service mesh with the ",
    "In this example, you\u2019ll learn how to use the Linkerd service mesh with the ",
    "94 CHAPTER 7 | gRPC in production",
    "94 CHAPTER 7 | gRPC in production",
    "Windows binaries from the section that lists GitHub releases. Be sure to use the most recent ",
    "Windows binaries from the section that lists GitHub releases. Be sure to use the most recent ",
    null,
    null,
    null,
    null,
    "The Linkerd CLI provides an inject command to add the necessary sections and properties to",
    "The Linkerd CLI provides an inject command to add the necessary sections and properties to",
    "You can inspect the new files to see what changes have been made. For deployment objects, a",
    "You can inspect the new files to see what changes have been made. For deployment objects, a",
    "It\u2019s also possible to pipe the output of the linkerd inject command to kubectl directly. The following",
    "It\u2019s also possible to pipe the output of the linkerd inject command to kubectl directly. The following",
    null,
    null,
    "Open the Linkerd dashboard by using the linkerd CLI.",
    "Open the Linkerd dashboard by using the linkerd CLI.",
    "The dashboard provides detailed information about all services that are connected to the mesh.",
    "The dashboard provides detailed information about all services that are connected to the mesh.",
    "95 CHAPTER 7 | gRPC in production",
    "95 CHAPTER 7 | gRPC in production",
    "If you increase the number of replicas of the StockData gRPC service as shown in the following",
    "If you increase the number of replicas of the StockData gRPC service as shown in the following",
    "96 CHAPTER 7 | gRPC in production",
    "96 CHAPTER 7 | gRPC in production",
    "A typical deployment of a gRPC application includes a number of identical instances of the service,",
    "A typical deployment of a gRPC application includes a number of identical instances of the service,",
    "Load balancers are classified according to the ",
    "Load balancers are classified according to the ",
    "An L4 load balancer accepts a TCP connection request from a client, opens another connection to one",
    "An L4 load balancer accepts a TCP connection request from a client, opens another connection to one",
    null,
    null,
    "An L7 load balancer parses incoming HTTP/2 requests and passes them on to back-end instances on a",
    "An L7 load balancer parses incoming HTTP/2 requests and passes them on to back-end instances on a",
    "Examples of L7 load balancers:",
    "Examples of L7 load balancers:",
    null,
    null,
    null,
    null,
    null,
    null,
    "As a rule of thumb, L7 load balancers are the best choice for gRPC and other HTTP/2 applications (and",
    "As a rule of thumb, L7 load balancers are the best choice for gRPC and other HTTP/2 applications (and",
    "If you\u2019re using TLS encryption, load balancers can terminate the TLS connection and pass unencrypted",
    "If you\u2019re using TLS encryption, load balancers can terminate the TLS connection and pass unencrypted",
    "See to the documentation for your preferred load balancer to find out how to configure it to handle",
    "See to the documentation for your preferred load balancer to find out how to configure it to handle",
    "97 CHAPTER 7 | gRPC in production",
    "97 CHAPTER 7 | gRPC in production",
    "See the section on service meshes for a discussion of load balancing across internal services on",
    "See the section on service meshes for a discussion of load balancing across internal services on",
    "In production environments like Kubernetes, it\u2019s important to monitor applications to ensure they\u2019re",
    "In production environments like Kubernetes, it\u2019s important to monitor applications to ensure they\u2019re",
    null,
    null,
    null,
    null,
    "Time taken to process requests.",
    "Time taken to process requests.",
    "The number of requests per second being handled by an instance of a service.",
    "The number of requests per second being handled by an instance of a service.",
    "The number of failed requests on an instance.",
    "The number of failed requests on an instance.",
    null,
    null,
    "The ASP.NET Core gRPC framework writes detailed diagnostic logging messages to this logging",
    "The ASP.NET Core gRPC framework writes detailed diagnostic logging messages to this logging",
    null,
    null,
    "The logging extension is automatically registered with ASP.NET Core\u2019s dependency injection system,",
    "The logging extension is automatically registered with ASP.NET Core\u2019s dependency injection system,",
    "98 CHAPTER 7 | gRPC in production",
    "98 CHAPTER 7 | gRPC in production",
    "Many log messages, such as requests and exceptions, are provided by the ASP.NET Core and gRPC",
    "Many log messages, such as requests and exceptions, are provided by the ASP.NET Core and gRPC",
    "For more information about writing log messages and available logging sinks and targets, see",
    "For more information about writing log messages and available logging sinks and targets, see",
    "The .NET Core runtime provides a set of components for emitting and observing metrics. These",
    "The .NET Core runtime provides a set of components for emitting and observing metrics. These",
    "For more advanced metrics and for writing metric data to a wider range of data stores, you might try",
    "For more advanced metrics and for writing metric data to a wider range of data stores, you might try",
    null,
    null,
    "Most metrics platforms support the following types:",
    "Most metrics platforms support the following types:",
    "|Metric type|Description|",
    "|Metric type|Description|",
    "99 CHAPTER 7 | gRPC in production",
    "99 CHAPTER 7 | gRPC in production",
    "|Metric type|Description|",
    "|Metric type|Description|",
    "By using ",
    "By using ",
    null,
    null,
    "The best way to store metrics data is in a ",
    "The best way to store metrics data is in a ",
    null,
    null,
    "100 CHAPTER 7 | gRPC in production",
    "100 CHAPTER 7 | gRPC in production",
    null,
    null,
    "The numerical nature of metrics data means that it\u2019s ideally suited to drive alerting systems, notifying",
    "The numerical nature of metrics data means that it\u2019s ideally suited to drive alerting systems, notifying",
    "Distributed tracing is a relatively recent development in monitoring, which has arisen from the",
    "Distributed tracing is a relatively recent development in monitoring, which has arisen from the",
    "Distributed tracing has grown quickly in popularity and is beginning to standardize. The Cloud Native",
    "Distributed tracing has grown quickly in popularity and is beginning to standardize. The Cloud Native",
    null,
    null,
    "Distributed tracing is based on the concept of ",
    "Distributed tracing is based on the concept of ",
    "101 CHAPTER 7 | gRPC in production",
    "101 CHAPTER 7 | gRPC in production",
    "identifier and trace identifier. As the request passes around the system, various components can",
    "identifier and trace identifier. As the request passes around the system, various components can",
    null,
    null,
    null,
    null,
    "Because DiagnosticSource is a part of the core framework and later, it\u2019s supported by several core",
    "Because DiagnosticSource is a part of the core framework and later, it\u2019s supported by several core",
    "The ASP.NET Core gRPC client and server libraries include explicit support for DiagnosticSource and",
    "The ASP.NET Core gRPC client and server libraries include explicit support for DiagnosticSource and",
    null,
    null,
    "To add your own diagnostics or create explicit spans within your application code, see the",
    "To add your own diagnostics or create explicit spans within your application code, see the",
    null,
    null,
    "At the time of writing, the OpenTelemetry project is still in the early stages, and only alpha-quality",
    "At the time of writing, the OpenTelemetry project is still in the early stages, and only alpha-quality",
    "The OpenTracing API is described in the following section. If you want to use the OpenTelemetry API",
    "The OpenTracing API is described in the following section. If you want to use the OpenTelemetry API",
    null,
    null,
    null,
    null,
    "102 CHAPTER 7 | gRPC in production",
    "102 CHAPTER 7 | gRPC in production",
    null,
    null,
    "The OpenTracing package is an abstraction layer, and as such it requires implementation specific to",
    "The OpenTracing package is an abstraction layer, and as such it requires implementation specific to",
    "|ends.|Col2|Col3|",
    "|ends.|Col2|Col3|",
    null,
    null,
    "103 CHAPTER 7 | gRPC in production",
    "103 CHAPTER 7 | gRPC in production",
    null,
    null,
    "Windows Communication Foundation (WCF) supports distributed transactions, allowing you to",
    "Windows Communication Foundation (WCF) supports distributed transactions, allowing you to",
    "In the newer microservices landscape, this type of automated distributed transaction processing isn\u2019t",
    "In the newer microservices landscape, this type of automated distributed transaction processing isn\u2019t",
    null,
    null,
    "If possible, it\u2019s best to avoid distributed transactions altogether. If two items of data are so linked as to",
    "If possible, it\u2019s best to avoid distributed transactions altogether. If two items of data are so linked as to",
    null,
    null,
    "Another option is to use Domain Driven Design (DDD) and Command/Query Responsibility",
    "Another option is to use Domain Driven Design (DDD) and Command/Query Responsibility",
    "104 CHAPTER 8 | Appendix A - Transactions",
    "104 CHAPTER 8 | Appendix A - Transactions"
]