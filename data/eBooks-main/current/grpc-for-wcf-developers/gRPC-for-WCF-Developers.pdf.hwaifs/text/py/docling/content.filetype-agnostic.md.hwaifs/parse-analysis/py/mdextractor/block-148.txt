public class StockData : Stocks . StocksBase { private static readonly CounterOptions GetRequestCounter = new CounterOptions { Name = "StockData_Get_Requests" , MeasurementUnit = Unit . Calls }; private readonly IStockRepository _repository; private readonly IMetrics _metrics; public StockData(IStockRepository repository , IMetrics metrics) { _repository = repository; _metrics = metrics; } public override async Task<GetResponse> Get(GetRequest request , ServerCallContext context) { _metrics . Measure . Counter . Increment(GetRequestCounter); // Serve request... } }