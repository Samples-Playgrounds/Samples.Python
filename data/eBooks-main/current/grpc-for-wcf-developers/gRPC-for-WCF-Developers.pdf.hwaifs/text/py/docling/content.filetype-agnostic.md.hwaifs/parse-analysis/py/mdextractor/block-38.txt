public class ThingLogService : Protos . ThingLog . ThingLogBase { private static readonly ConnectionClosedResponse EmptyResponse = new ConnectionClosedResponse(); private readonly ILogger<ThingLogService> _logger; public ThingLogService(ILogger<ThingLogService> logger) { _logger = logger; } public override async Task<CompletedResponse> OpenConnection(IAsyncStreamReader<Thing> requestStream , ServerCallContext context) { while (await requestStream . MoveNext(context . CancellationToken)) { _logger . LogInformation(requestStream . Current . Description); } return EmptyResponse; } }