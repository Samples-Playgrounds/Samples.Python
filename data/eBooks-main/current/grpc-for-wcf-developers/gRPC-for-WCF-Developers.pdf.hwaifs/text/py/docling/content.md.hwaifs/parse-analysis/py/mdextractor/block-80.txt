public override async Task<GetAllResponse> GetAll(GetAllRequest request, ServerCallContext context) { if (!Guid.TryParse(request.TraderId, out var traderId)) { throw new RpcException( new Status(StatusCode.InvalidArgument, "traderId must be a UUID")); } var portfolios = await _repository.GetAllAsync(traderId); var response = new GetAllResponse(); response.Portfolios.AddRange(portfolios.Select(Portfolio.FromRepositoryModel)); return response; }