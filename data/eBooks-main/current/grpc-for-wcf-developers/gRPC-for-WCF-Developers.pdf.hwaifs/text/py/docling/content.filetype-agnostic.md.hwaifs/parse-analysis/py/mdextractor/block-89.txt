static async Task DisplayAsync(IAsyncStreamReader<StockTickerUpdate> stream , CancellationToken token) { try { await foreach (var update in stream . ReadAllAsync(token)) { Console . WriteLine($"{update.Symbol}: {update.Price}"); } } catch (RpcException e) when (e . StatusCode == StatusCode . Cancelled) { return; } catch (OperationCanceledException) { Console . WriteLine("Finished."); } }