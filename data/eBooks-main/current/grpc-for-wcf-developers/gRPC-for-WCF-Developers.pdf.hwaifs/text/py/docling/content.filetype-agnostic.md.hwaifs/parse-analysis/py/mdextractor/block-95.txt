private async Task HandleActions(IAsyncStreamReader<ActionMessage> requestStream , IFullStockPriceSubscriber subscriber , CancellationToken token) { await foreach (var action in requestStream . ReadAllAsync(token)) { switch (action . ActionCase) { case ActionMessage . ActionOneofCase . None: _logger . LogWarning("No Action specified."); break; case ActionMessage . ActionOneofCase . Add: subscriber . Add(action . Add . Symbol); break; case ActionMessage . ActionOneofCase . Remove: subscriber . Remove(action . Remove . Symbol); break; default: _logger . LogWarning($"Unknown Action '{action.ActionCase}'."); break; } } }