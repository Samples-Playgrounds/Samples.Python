source) { if (source is null) return null; return new PortfolioItem { Id = source . Id , ShareId = source . ShareId , Holding = source . Holding , CostCents = (int)(source . Cost * 100) }; } } public partial class Portfolio { public static Portfolio FromRepositoryModel(PortfolioData . Models . Portfolio source) { if (source is null) return null; var target = new Portfolio { Id = source . Id , TraderId = source . TraderId . ToString(), }; target . Items . AddRange(source . Items . Select(PortfolioItem . FromRepositoryModel)); return target; } }