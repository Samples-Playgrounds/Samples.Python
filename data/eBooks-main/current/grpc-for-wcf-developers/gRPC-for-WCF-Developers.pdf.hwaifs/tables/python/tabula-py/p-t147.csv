,public class StockData : Stocks.StocksBase
0,{
1,private static readonly CounterOptions GetRequestCounter = new CounterOptions
2,{
3,"Name = ""StockData_Get_Requests"","
4,MeasurementUnit = Unit.Calls
5,};
6,
7,private readonly IStockRepository _repository;
8,private readonly IMetrics _metrics;
9,
10,"public StockData(IStockRepository repository, IMetrics metrics)"
11,{
12,_repository = repository;
13,_metrics = metrics;
14,}
15,
16,"public override async Task<GetResponse> Get(GetRequest request, ServerCallContext"
17,context)
18,{
19,_metrics.Measure.Counter.Increment(GetRequestCounter);
20,
21,// Serve request...
22,}
23,}
