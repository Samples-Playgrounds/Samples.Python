,0
0,{
1,_client = client;
2,_stream = client.OpenConnection();
3,}
4,
5,public async Task WriteAsync(string description)
6,{
7,await _stream.RequestStream.WriteAsync(new Thing
8,{
9,"Description = description,"
10,Time = Timestamp.FromDateTimeOffset(DateTimeOffset.UtcNow)
11,});
12,}
13,
14,public async ValueTask DisposeAsync()
15,{
16,await _stream.RequestStream.CompleteAsync();
17,_stream.Dispose();
18,}
19,}
