,0
0,private async Task HandleResponsesAsync(CancellationToken token)
1,{
2,var stream = _duplexStream.ResponseStream;
3,
4,try
5,{
6,await foreach (var update in stream.ReadAllAsync(token))
7,{
8,var price = Prices.FirstOrDefault(p => p.Symbol.Equals(update.Symbol));
9,if (price == null)
10,{
11,"price = new PriceViewModel(this) {Symbol = update.Symbol, Price ="
12,update.PriceCents / 100m};
13,Prices.Add(price);
14,}
15,else
16,{
17,price.Price = update.PriceCents / 100m;
18,}
19,}
20,}
