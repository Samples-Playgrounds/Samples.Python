,0
0,var handler = new HttpClientHandler();
1,handler.ClientCertificates.Add(cert);
2,
3,var httpClient = new HttpClient(handler);
4,
5,"var callCredentials = CallCredentials.FromInterceptor(((context, metadata) =>"
6,{
7,"metadata.Add(""Authorization"", $""Bearer {_token}"");"
8,return Task.CompletedTask;
9,}));
10,
11,"var channelCredentials = ChannelCredentials.Create(new SslCredentials(), callCredentials);"
12,
13,"var channel = GrpcChannel.ForAddress(""https://localhost:5001/"", new GrpcChannelOptions"
14,{
15,"HttpClient = httpClient,"
16,Credentials = channelCredentials
17,});
18,
19,var grpc = new Portfolios.PortfoliosClient(channel);
