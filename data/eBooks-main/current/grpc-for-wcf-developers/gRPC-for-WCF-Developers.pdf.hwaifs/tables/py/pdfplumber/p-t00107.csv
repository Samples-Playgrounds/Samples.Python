,0
0,public class StockData : Stocks.StocksBase
1,{
2,private static readonly CounterOptions GetRequestCounter = new CounterOptions
3,{
4,"Name = ""StockData_Get_Requests"","
5,MeasurementUnit = Unit.Calls
6,};
7,
8,private readonly IStockRepository _repository;
9,private readonly IMetrics _metrics;
10,
11,"public StockData(IStockRepository repository, IMetrics metrics)"
12,{
13,_repository = repository;
14,_metrics = metrics;
15,}
16,
17,"public override async Task<GetResponse> Get(GetRequest request, ServerCallContext"
18,context)
19,{
20,_metrics.Measure.Counter.Increment(GetRequestCounter);
21,
22,// Serve request...
23,}
24,}
