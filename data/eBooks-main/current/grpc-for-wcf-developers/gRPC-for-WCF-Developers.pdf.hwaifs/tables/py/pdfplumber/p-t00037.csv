,0
0,public class ThingLogService : Protos.ThingLog.ThingLogBase
1,{
2,private static readonly ConnectionClosedResponse EmptyResponse = new
3,ConnectionClosedResponse();
4,private readonly ILogger<ThingLogService> _logger;
5,public ThingLogService(ILogger<ThingLogService> logger)
6,{
7,_logger = logger;
8,}
9,
10,public override async Task<CompletedResponse> OpenConnection(IAsyncStreamReader<Thing>
11,"requestStream, ServerCallContext context)"
12,{
13,while (await requestStream.MoveNext(context.CancellationToken))
14,{
15,_logger.LogInformation(requestStream.Current.Description);
16,}
17,return EmptyResponse;
18,}
19,}
