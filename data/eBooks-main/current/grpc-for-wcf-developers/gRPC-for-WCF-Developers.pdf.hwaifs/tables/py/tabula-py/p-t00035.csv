,public class ThingLogService : Protos.ThingLog.ThingLogBase
0,{
1,private static readonly ConnectionClosedResponse EmptyResponse = new
2,ConnectionClosedResponse();
3,private readonly ILogger<ThingLogService> _logger;
4,public ThingLogService(ILogger<ThingLogService> logger)
5,{
6,_logger = logger;
7,}
8,
9,public override async Task<CompletedResponse> OpenConnection(IAsyncStreamReader<Thing>
10,"requestStream, ServerCallContext context)"
11,{
12,while (await requestStream.MoveNext(context.CancellationToken))
13,{
14,_logger.LogInformation(requestStream.Current.Description);
15,}
16,return EmptyResponse;
17,}
18,}
