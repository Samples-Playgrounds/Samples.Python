,FROM mcr.microsoft.com/dotnet/sdk:7.0 as build
0,
1,WORKDIR /src
2,
3,COPY ./StockKube.sln .
4,COPY ./src/StockData/StockData.csproj ./src/StockData/
5,COPY ./src/StockWeb/StockWeb.csproj ./src/StockWeb/
6,
7,RUN dotnet restore
8,
9,COPY . .
10,
11,RUN dotnet publish --no-restore -c Release -o /published src/StockData/StockData.csproj
12,
13,FROM mcr.microsoft.com/dotnet/aspnet:7.0 as runtime
14,
15,# Uncomment the line below if running with HTTPS
16,# ENV ASPNETCORE_URLS=https://+:443
17,
18,WORKDIR /app
19,
20,COPY --from=build /published .
21,
22,"ENTRYPOINT [ ""dotnet"", ""StockData.dll"" ]"
