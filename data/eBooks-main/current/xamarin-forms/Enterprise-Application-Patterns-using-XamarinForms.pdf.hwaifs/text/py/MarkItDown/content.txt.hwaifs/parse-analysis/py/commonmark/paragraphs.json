[
    "Book title",
    "Book title",
    "Book subtitle",
    "Book subtitle",
    "Author Name",
    "Author Name",
    "PUBLISHED BY",
    "PUBLISHED BY",
    "DevDiv, .NET and Visual Studio produc teams",
    "DevDiv, .NET and Visual Studio produc teams",
    "Copyright \u00a9 2017 by Microsoft Corporation",
    "Copyright \u00a9 2017 by Microsoft Corporation",
    "All rights reserved. No part of the contents of this book may be reproduced or transmitted in any",
    "All rights reserved. No part of the contents of this book may be reproduced or transmitted in any",
    "This book is provided \u201cas-is\u201d and expresses the author\u2019s views and opinions. The views, opinions and",
    "This book is provided \u201cas-is\u201d and expresses the author\u2019s views and opinions. The views, opinions and",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association",
    "Some examples depicted herein are provided for illustration only and are fictitious. No real association",
    "Microsoft and the trademarks listed at http://www.microsoft.com on the \u201cTrademarks\u201d webpage are",
    "Microsoft and the trademarks listed at http://www.microsoft.com on the \u201cTrademarks\u201d webpage are",
    "Author: David Britch",
    "Author: David Britch",
    "Contents",
    "Contents",
    "Preface ........................................................................................................................... iv",
    "Preface ........................................................................................................................... iv",
    "Introduction .................................................................................................................... 1",
    "Introduction .................................................................................................................... 1",
    "MVVM ............................................................................................................................. 7",
    "MVVM ............................................................................................................................. 7",
    "Dependency injection .................................................................................................... 18",
    "Dependency injection .................................................................................................... 18",
    "i",
    "i",
    "Communicating between loosely coupled components .................................................. 24",
    "Communicating between loosely coupled components .................................................. 24",
    "Navigation ..................................................................................................................... 28",
    "Navigation ..................................................................................................................... 28",
    "Validation ...................................................................................................................... 36",
    "Validation ...................................................................................................................... 36",
    "Configuration management ........................................................................................... 46",
    "Configuration management ........................................................................................... 46",
    "Containerized microservices ........................................................................................... 51",
    "Containerized microservices ........................................................................................... 51",
    "Authentication and authorization .................................................................................. 59",
    "Authentication and authorization .................................................................................. 59",
    "ii",
    "ii",
    "Performing authentication ............................................................................................................64",
    "Performing authentication ............................................................................................................64",
    "Accessing remote data ................................................................................................... 73",
    "Accessing remote data ................................................................................................... 73",
    "Unit testing .................................................................................................................... 86",
    "Unit testing .................................................................................................................... 86",
    "iii",
    "iii",
    "Preface",
    "Preface",
    "Purpose",
    "Purpose",
    "This eBook provides guidance on building cross-platform enterprise apps using Xamarin.Forms.",
    "This eBook provides guidance on building cross-platform enterprise apps using Xamarin.Forms.",
    "The guide provides architectural guidance for developing adaptable, maintainable, and testable",
    "The guide provides architectural guidance for developing adaptable, maintainable, and testable",
    "The guide comes with source code for the eShopOnContainers mobile app, and source code for the",
    "The guide comes with source code for the eShopOnContainers mobile app, and source code for the",
    "What",
    "What",
    "This guide is aimed at readers who are already familiar with Xamarin.Forms. For a detailed",
    "This guide is aimed at readers who are already familiar with Xamarin.Forms. For a detailed",
    "The guide is complementary to .NET Microservices: Architecture for Containerized .NET Applications,",
    "The guide is complementary to .NET Microservices: Architecture for Containerized .NET Applications,",
    "Who should use this guide",
    "Who should use this guide",
    "The audience for this guide is mainly developers and architects who would like to learn how to",
    "The audience for this guide is mainly developers and architects who would like to learn how to",
    "iv",
    "iv",
    "Preface",
    "Preface",
    "A secondary audience is technical decision makers who would like to receive an architectural and",
    "A secondary audience is technical decision makers who would like to receive an architectural and",
    "How to use this guide",
    "How to use this guide",
    "This guide focuses on building cross-platform enterprise apps using Xamarin.Forms. As such, it should",
    "This guide focuses on building cross-platform enterprise apps using Xamarin.Forms. As such, it should",
    "Feel free to forward this guide to team members to help ensure a common understanding of cross-",
    "Feel free to forward this guide to team members to help ensure a common understanding of cross-",
    "v",
    "v",
    "Preface",
    "Preface",
    "C H A P T E R",
    "C H A P T E R",
    "1",
    "1",
    "Introduction",
    "Introduction",
    "Regardless of platform, developers of enterprise apps face several challenges:",
    "Regardless of platform, developers of enterprise apps face several challenges:",
    "\u2022  App requirements that can change over time.",
    "\u2022  App requirements that can change over time.",
    "\u2022  New business opportunities and challenges.",
    "\u2022  New business opportunities and challenges.",
    "\u2022  Ongoing feedback during development that can significantly affect the scope and",
    "\u2022  Ongoing feedback during development that can significantly affect the scope and",
    "requirements of the app.",
    "requirements of the app.",
    "With these in mind, it",
    "With these in mind, it",
    "Many enterprise apps are sufficiently complex to require more than one developer. It can be a",
    "Many enterprise apps are sufficiently complex to require more than one developer. It can be a",
    "The traditional approach to designing and building an app results in what is referred to as a",
    "The traditional approach to designing and building an app results in what is referred to as a",
    "An effective remedy for these challenges is to partition an app into discrete, loosely coupled",
    "An effective remedy for these challenges is to partition an app into discrete, loosely coupled",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "\u2022",
    "It allows individual functionality to be developed, tested, extended, and maintained by",
    "It allows individual functionality to be developed, tested, extended, and maintained by",
    "It promotes reuse and a clean separation of concerns between the app",
    "It promotes reuse and a clean separation of concerns between the app",
    "It helps maintain a separation of roles by allowing different individuals, or teams, to focus on",
    "It helps maintain a separation of roles by allowing different individuals, or teams, to focus on",
    "However, there are many issues that must be resolved when partitioning an app into discrete, loosely",
    "However, there are many issues that must be resolved when partitioning an app into discrete, loosely",
    "\u2022  Deciding how to provide a clean separation of concerns between the user interface controls",
    "\u2022  Deciding how to provide a clean separation of concerns between the user interface controls",
    "and their logic. One of the most important decisions when creating a Xamarin.Forms",
    "and their logic. One of the most important decisions when creating a Xamarin.Forms",
    "1",
    "1",
    "C HA PTER  1  |  Introduction",
    "C HA PTER  1  |  Introduction",
    "make the app more maintainable and testable. For more information, see Model-View-",
    "make the app more maintainable and testable. For more information, see Model-View-",
    "\u2022  Determining whether to use a dependency injection container. Dependency injection",
    "\u2022  Determining whether to use a dependency injection container. Dependency injection",
    "\u2022  Choosing between platform provided eventing and loosely coupled message-based",
    "\u2022  Choosing between platform provided eventing and loosely coupled message-based",
    "communication between components that are inconvenient to link by object and type",
    "communication between components that are inconvenient to link by object and type",
    "\u2022  Deciding how to navigate between pages, including how to invoke navigation, and where",
    "\u2022  Deciding how to navigate between pages, including how to invoke navigation, and where",
    "navigation logic should reside. For more information, see Navigation.",
    "navigation logic should reside. For more information, see Navigation.",
    "\u2022  Determining how to validate user input for correctness. The decision must include how to",
    "\u2022  Determining how to validate user input for correctness. The decision must include how to",
    "validate user input, and how to notify the user about validation errors. For more information,",
    "validate user input, and how to notify the user about validation errors. For more information,",
    "\u2022  Deciding how to perform authentication, and how to protect resources with authorization. For",
    "\u2022  Deciding how to perform authentication, and how to protect resources with authorization. For",
    "more information, see Authentication and authorization.",
    "more information, see Authentication and authorization.",
    "\u2022  Determining how to access remote data from web services, including how to reliably retrieve",
    "\u2022  Determining how to access remote data from web services, including how to reliably retrieve",
    "data, and how to cache data. For more information, see Accessing remote data.",
    "data, and how to cache data. For more information, see Accessing remote data.",
    "\u2022  Deciding how to test the app. For more information, see Unit testing.",
    "\u2022  Deciding how to test the app. For more information, see Unit testing.",
    "This guide provides guidance on these issues, and focuses on the core patterns and architecture for",
    "This guide provides guidance on these issues, and focuses on the core patterns and architecture for",
    "Sample application",
    "Sample application",
    "This guide includes a sample application, eShopOnContainers, that",
    "This guide includes a sample application, eShopOnContainers, that",
    "\u2022  Authenticating and authorizing against a backend service.",
    "\u2022  Authenticating and authorizing against a backend service.",
    "\u2022  Browsing a catalog of shirts, coffee mugs, and other marketing items.",
    "\u2022  Browsing a catalog of shirts, coffee mugs, and other marketing items.",
    "\u2022",
    "\u2022",
    "Filtering the catalog.",
    "Filtering the catalog.",
    "\u2022  Ordering items from the catalog.",
    "\u2022  Ordering items from the catalog.",
    "\u2022  Viewing the user",
    "\u2022  Viewing the user",
    "\u2022  Configuration of settings.",
    "\u2022  Configuration of settings.",
    "Sample application architecture",
    "Sample application architecture",
    "Figure 1-1 provides a high-level overview of the architecture of the sample application.",
    "Figure 1-1 provides a high-level overview of the architecture of the sample application.",
    "2",
    "2",
    "C HA PTER  1  |  Introduction",
    "C HA PTER  1  |  Introduction",
    "Figure 1-1: eShopOnContainers high-level architecture",
    "Figure 1-1: eShopOnContainers high-level architecture",
    "The sample application ships with three client apps:",
    "The sample application ships with three client apps:",
    "\u2022  An MVC application developed with ASP.NET Core.",
    "\u2022  An MVC application developed with ASP.NET Core.",
    "\u2022  A Single Page Application (SPA) developed with Angular 2 and Typescript. This approach for",
    "\u2022  A Single Page Application (SPA) developed with Angular 2 and Typescript. This approach for",
    "web applications avoids performing a round-trip to the server with each operation.",
    "web applications avoids performing a round-trip to the server with each operation.",
    "\u2022  A mobile app developed with Xamarin.Forms, which supports iOS, Android, and the Universal",
    "\u2022  A mobile app developed with Xamarin.Forms, which supports iOS, Android, and the Universal",
    "Windows Platform (UWP).",
    "Windows Platform (UWP).",
    "For information about the web applications, see Architecting and Developing Modern Web",
    "For information about the web applications, see Architecting and Developing Modern Web",
    "The sample application includes the following backend services:",
    "The sample application includes the following backend services:",
    "\u2022  An identity microservice, which uses ASP.NET Core Identity and IdentityServer.",
    "\u2022  An identity microservice, which uses ASP.NET Core Identity and IdentityServer.",
    "\u2022  A catalog microservice, which is a data-driven create, read, update, delete (CRUD) service that",
    "\u2022  A catalog microservice, which is a data-driven create, read, update, delete (CRUD) service that",
    "consumes an SQL Server database using EntityFramework Core.",
    "consumes an SQL Server database using EntityFramework Core.",
    "\u2022  An ordering microservice, which is a domain-driven service that uses domain-driven design",
    "\u2022  An ordering microservice, which is a domain-driven service that uses domain-driven design",
    "patterns.",
    "patterns.",
    "\u2022  A basket microservice, which is a data-driven CRUD service that uses Redis Cache.",
    "\u2022  A basket microservice, which is a data-driven CRUD service that uses Redis Cache.",
    "These backend services are implemented as microservices using ASP.NET Core MVC, and are",
    "These backend services are implemented as microservices using ASP.NET Core MVC, and are",
    "For information about the implementation of the backend services, see .NET Microservices:",
    "For information about the implementation of the backend services, see .NET Microservices:",
    "3",
    "3",
    "C HA PTER  1  |  Introduction",
    "C HA PTER  1  |  Introduction",
    "Mobile app",
    "Mobile app",
    "This guide focuses on building cross-platform enterprise apps using Xamarin.Forms, and uses the",
    "This guide focuses on building cross-platform enterprise apps using Xamarin.Forms, and uses the",
    "Figure 1-2: The eShopOnContainers mobile app",
    "Figure 1-2: The eShopOnContainers mobile app",
    "The mobile app consumes the backend services provided by the eShopOnContainers reference",
    "The mobile app consumes the backend services provided by the eShopOnContainers reference",
    "The eShopOnContainers mobile app exercises the following Xamarin.Forms functionality:",
    "The eShopOnContainers mobile app exercises the following Xamarin.Forms functionality:",
    "\u2022  XAML",
    "\u2022  XAML",
    "\u2022  Controls",
    "\u2022  Controls",
    "\u2022  Bindings",
    "\u2022  Bindings",
    "\u2022  Converters",
    "\u2022  Converters",
    "\u2022  Styles",
    "\u2022  Styles",
    "4",
    "4",
    "C HA PTER  1  |  Introduction",
    "C HA PTER  1  |  Introduction",
    "\u2022  Animations",
    "\u2022  Animations",
    "\u2022  Commands",
    "\u2022  Commands",
    "\u2022  Behaviors",
    "\u2022  Behaviors",
    "\u2022  Triggers",
    "\u2022  Triggers",
    "\u2022  Effects",
    "\u2022  Effects",
    "\u2022  Custom Renderers",
    "\u2022  Custom Renderers",
    "\u2022  MessagingCenter",
    "\u2022  MessagingCenter",
    "\u2022  Custom Controls",
    "\u2022  Custom Controls",
    "For more information about this functionality, see the Xamarin.Forms documentation on the Xamarin",
    "For more information about this functionality, see the Xamarin.Forms documentation on the Xamarin",
    "In addition, unit tests are provided for some of the classes in the eShopOnContainers mobile app.",
    "In addition, unit tests are provided for some of the classes in the eShopOnContainers mobile app.",
    "Mobile app solution",
    "Mobile app solution",
    "The eShopOnContainers mobile app solution organizes the source code and other resources into",
    "The eShopOnContainers mobile app solution organizes the source code and other resources into",
    "Project",
    "Project",
    "eShopOnContainers.Core",
    "eShopOnContainers.Core",
    "eShopOnContainers.Droid",
    "eShopOnContainers.Droid",
    "eShopOnContainers.iOS",
    "eShopOnContainers.iOS",
    "eShopOnContainers.UWP",
    "eShopOnContainers.UWP",
    "eShopOnContainers.TestRunner.Droid",
    "eShopOnContainers.TestRunner.Droid",
    "eShopOnContainers.TestRunner.iOS",
    "eShopOnContainers.TestRunner.iOS",
    "Description",
    "Description",
    "This project is the portable class library (PCL) project",
    "This project is the portable class library (PCL) project",
    "eShopOnContainers.TestRunner.Windows  This project is the Universal Windows Platform test",
    "eShopOnContainers.TestRunner.Windows  This project is the Universal Windows Platform test",
    "eShopOnContainers.UnitTests",
    "eShopOnContainers.UnitTests",
    "runner for the eShopOnContainers.UnitTests project.",
    "runner for the eShopOnContainers.UnitTests project.",
    "The classes from the eShopOnContainers mobile app can be re-used in any Xamarin.Forms app with",
    "The classes from the eShopOnContainers mobile app can be re-used in any Xamarin.Forms app with",
    "eShopOnContainers.Core project",
    "eShopOnContainers.Core project",
    "The eShopOnContainers.Core PCL project contains the following folders:",
    "The eShopOnContainers.Core PCL project contains the following folders:",
    "5",
    "5",
    "C HA PTER  1  |  Introduction",
    "C HA PTER  1  |  Introduction",
    "Folder",
    "Folder",
    "Description",
    "Description",
    "Animations",
    "Animations",
    "Exceptions",
    "Exceptions",
    "Triggers",
    "Triggers",
    "Contains classes that enable animations to be consumed in XAML.",
    "Contains classes that enable animations to be consumed in XAML.",
    "Validations",
    "Validations",
    "Contains the pages for the app.",
    "Contains the pages for the app.",
    "Platform projects",
    "Platform projects",
    "The platform projects contain effect implementations, custom renderer implementations, and other",
    "The platform projects contain effect implementations, custom renderer implementations, and other",
    "Summary",
    "Summary",
    "Xamarin",
    "Xamarin",
    "Developers of enterprise apps face several challenges that can alter the architecture of the app during",
    "Developers of enterprise apps face several challenges that can alter the architecture of the app during",
    "6",
    "6",
    "C HA PTER  1  |  Introduction",
    "C HA PTER  1  |  Introduction",
    "C H A P T E R",
    "C H A P T E R",
    "2",
    "2",
    "MVVM",
    "MVVM",
    "The Xamarin.Forms developer experience typically involves creating a user interface in XAML, and then",
    "The Xamarin.Forms developer experience typically involves creating a user interface in XAML, and then",
    "The Model-View-ViewModel (MVVM) pattern helps to cleanly separate the business and presentation",
    "The Model-View-ViewModel (MVVM) pattern helps to cleanly separate the business and presentation",
    "The MVVM pattern",
    "The MVVM pattern",
    "There are three core components in the MVVM pattern: the model, the view, and the view model.",
    "There are three core components in the MVVM pattern: the model, the view, and the view model.",
    "Figure 2-1: The MVVM pattern",
    "Figure 2-1: The MVVM pattern",
    "In addition to understanding the responsibilities of each components, it",
    "In addition to understanding the responsibilities of each components, it",
    "The benefits of using the MVVM pattern are as follows:",
    "The benefits of using the MVVM pattern are as follows:",
    "\u2022",
    "\u2022",
    "If there",
    "If there",
    "7",
    "7",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "\u2022  Developers can create unit tests for the view model and the model, without using the view.",
    "\u2022  Developers can create unit tests for the view model and the model, without using the view.",
    "\u2022  The app UI can be redesigned without touching the code, provided that the view is",
    "\u2022  The app UI can be redesigned without touching the code, provided that the view is",
    "implemented entirely in XAML. Therefore, a new version of the view should work with the",
    "implemented entirely in XAML. Therefore, a new version of the view should work with the",
    "\u2022  Designers and developers can work independently and concurrently on their components",
    "\u2022  Designers and developers can work independently and concurrently on their components",
    "during the development process. Designers can focus on the view, while developers can work",
    "during the development process. Designers can focus on the view, while developers can work",
    "The key to using MVVM effectively lies in understanding how to factor app code into the correct",
    "The key to using MVVM effectively lies in understanding how to factor app code into the correct",
    "View",
    "View",
    "The view is responsible for defining the structure, layout, and appearance of what the user sees on",
    "The view is responsible for defining the structure, layout, and appearance of what the user sees on",
    "In a Xamarin.Forms application, a view is typically a Page-derived or ContentView-derived class.",
    "In a Xamarin.Forms application, a view is typically a Page-derived or ContentView-derived class.",
    "Tip: Avoid enabling and disabling UI elements in the code-behind",
    "Tip: Avoid enabling and disabling UI elements in the code-behind",
    "Ensure that view models are responsible for defining logical state changes that affect some aspects",
    "Ensure that view models are responsible for defining logical state changes that affect some aspects",
    "There are several options for executing code on the view model in response to interactions on the",
    "There are several options for executing code on the view model in response to interactions on the",
    "ViewModel",
    "ViewModel",
    "The view model implements properties and commands to which the view can data bind to, and",
    "The view model implements properties and commands to which the view can data bind to, and",
    "Tip: Keep the UI responsive with asynchronous operations",
    "Tip: Keep the UI responsive with asynchronous operations",
    "Mobile apps should keep the UI thread unblocked to improve the user",
    "Mobile apps should keep the UI thread unblocked to improve the user",
    "8",
    "8",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "The view model is also responsible for coordinating the view",
    "The view model is also responsible for coordinating the view",
    "Each view model provides data from a model in a form that the view can easily consume. To",
    "Each view model provides data from a model in a form that the view can easily consume. To",
    "Tip: Centralize data conversions in a conversion layer",
    "Tip: Centralize data conversions in a conversion layer",
    "It",
    "It",
    "In order for the view model to participate in two-way data binding with the view, its properties must",
    "In order for the view model to participate in two-way data binding with the view, its properties must",
    "For collections, the view-friendly ObservableCollection",
    "For collections, the view-friendly ObservableCollection",
    "Model",
    "Model",
    "Model classes are non-visual classes that encapsulate the app",
    "Model classes are non-visual classes that encapsulate the app",
    "Model classes are typically used in conjunction with services or repositories that encapsulate data",
    "Model classes are typically used in conjunction with services or repositories that encapsulate data",
    "Connecting view models to views",
    "Connecting view models to views",
    "View models can be connected to views by using the data-binding capabilities of Xamarin.Forms.",
    "View models can be connected to views by using the data-binding capabilities of Xamarin.Forms.",
    "With view first composition the app is conceptually composed of views that connect to the view",
    "With view first composition the app is conceptually composed of views that connect to the view",
    "9",
    "9",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "With view model first composition the app is conceptually composed of view models, with a service",
    "With view model first composition the app is conceptually composed of view models, with a service",
    "Tip: Keep view models and views independent",
    "Tip: Keep view models and views independent",
    "The binding of views to a property in a data source should be the view",
    "The binding of views to a property in a data source should be the view",
    "The following sections discuss the main approaches to connecting view models to views.",
    "The following sections discuss the main approaches to connecting view models to views.",
    "Creating a view model declaratively",
    "Creating a view model declaratively",
    "The simplest approach is for the view to declaratively instantiate its corresponding view model in",
    "The simplest approach is for the view to declaratively instantiate its corresponding view model in",
    "<",
    "<",
    "When the ContentPage is created, an instance of the LoginViewModel is automatically constructed",
    "When the ContentPage is created, an instance of the LoginViewModel is automatically constructed",
    "This declarative construction and assignment of the view model by the view has the advantage that",
    "This declarative construction and assignment of the view model by the view has the advantage that",
    "Creating a view model programmatically",
    "Creating a view model programmatically",
    "A view can have code in the code-behind file that results in the view model being assigned to its",
    "A view can have code in the code-behind file that results in the view model being assigned to its",
    "public LoginView()",
    "public LoginView()",
    "The programmatic construction and assignment of the view model within the view",
    "The programmatic construction and assignment of the view model within the view",
    "10",
    "10",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "Creating a view defined as a data template",
    "Creating a view defined as a data template",
    "A view can be defined as a data template and associated with a view model type. Data templates can",
    "A view can be defined as a data template and associated with a view model type. Data templates can",
    "Automatically creating a view model with a view model locator",
    "Automatically creating a view model with a view model locator",
    "A view model locator is a custom class that manages the instantiation of view models and their",
    "A view model locator is a custom class that manages the instantiation of view models and their",
    "viewModelBase:ViewModelLocator.AutoWireViewModel=",
    "viewModelBase:ViewModelLocator.AutoWireViewModel=",
    "The AutoWireViewModel property is a bindable property that",
    "The AutoWireViewModel property is a bindable property that",
    "private static void OnAutoWireViewModelChanged(BindableObject bindable, object oldValue, object n",
    "private static void OnAutoWireViewModelChanged(BindableObject bindable, object oldValue, object n",
    "}",
    "}",
    "The OnAutoWireViewModelChanged method attempts to resolve the view model using a convention-",
    "The OnAutoWireViewModelChanged method attempts to resolve the view model using a convention-",
    "\u2022  View models are in the same assembly as view types.",
    "\u2022  View models are in the same assembly as view types.",
    "\u2022  Views are in a .Views child namespace.",
    "\u2022  Views are in a .Views child namespace.",
    "\u2022  View models are in a .ViewModels child namespace.",
    "\u2022  View models are in a .ViewModels child namespace.",
    "\u2022  View model names correspond with view names and end with ",
    "\u2022  View model names correspond with view names and end with ",
    "11",
    "11",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "Finally, the OnAutoWireViewModelChanged method sets the BindingContext of the view type to the",
    "Finally, the OnAutoWireViewModelChanged method sets the BindingContext of the view type to the",
    "This approach has the advantage that an app has a single class that is responsible for the instantiation",
    "This approach has the advantage that an app has a single class that is responsible for the instantiation",
    "Tip: Use a view model locator for ease of substitution",
    "Tip: Use a view model locator for ease of substitution",
    "A view model locator can also be used as a point of substitution for alternate implementations of",
    "A view model locator can also be used as a point of substitution for alternate implementations of",
    "Updating views in response to changes in the",
    "Updating views in response to changes in the",
    "All view model and model classes that are accessible to a view should implement the",
    "All view model and model classes that are accessible to a view should implement the",
    "App",
    "App",
    "\u2022  Always raising a PropertyChanged event if a public property",
    "\u2022  Always raising a PropertyChanged event if a public property",
    "\u2022  Always raising a PropertyChanged event for any calculated properties whose values are used",
    "\u2022  Always raising a PropertyChanged event for any calculated properties whose values are used",
    "by other properties in the view model or model.",
    "by other properties in the view model or model.",
    "\u2022  Always raising the PropertyChanged event at the end of the method that makes a property",
    "\u2022  Always raising the PropertyChanged event at the end of the method that makes a property",
    "\u2022  Never raising a PropertyChanged event if the property does not change. This means that you",
    "\u2022  Never raising a PropertyChanged event if the property does not change. This means that you",
    "must compare the old and new values before raising the PropertyChanged event.",
    "must compare the old and new values before raising the PropertyChanged event.",
    "\u2022  Never raising the PropertyChanged event during a view model",
    "\u2022  Never raising the PropertyChanged event during a view model",
    "initializing a property. Data-bound controls in the view will not have subscribed to receive",
    "initializing a property. Data-bound controls in the view will not have subscribed to receive",
    "\u2022  Never raising more than one PropertyChanged event with the same property name",
    "\u2022  Never raising more than one PropertyChanged event with the same property name",
    "argument within a single synchronous invocation of a public method of a class. For example,",
    "argument within a single synchronous invocation of a public method of a class. For example,",
    "The eShopOnContainers mobile app uses the ExtendedBindableObject class to provide change",
    "The eShopOnContainers mobile app uses the ExtendedBindableObject class to provide change",
    "12",
    "12",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "public abstract class ExtendedBindableObject : BindableObject",
    "public abstract class ExtendedBindableObject : BindableObject",
    "}",
    "}",
    "Xamarin.Form",
    "Xamarin.Form",
    "Each view model class in the eShopOnContainers mobile app derives from the ViewModelBase class,",
    "Each view model class in the eShopOnContainers mobile app derives from the ViewModelBase class,",
    "public bool IsLogin",
    "public bool IsLogin",
    "Note that using a lambda expression in this way involves a small performance cost because the",
    "Note that using a lambda expression in this way involves a small performance cost because the",
    "UI interaction using commands and behaviors",
    "UI interaction using commands and behaviors",
    "In mobile apps, actions are typically invoked in response to a user action, such as a button click, that",
    "In mobile apps, actions are typically invoked in response to a user action, such as a button click, that",
    "Commands provide a convenient way to represent actions that can be bound to controls in the UI.",
    "Commands provide a convenient way to represent actions that can be bound to controls in the UI.",
    "13",
    "13",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "Behaviors also allow controls to be declaratively connected to a command. However, behaviors can be",
    "Behaviors also allow controls to be declaratively connected to a command. However, behaviors can be",
    "Implementing commands",
    "Implementing commands",
    "View models typically expose command properties, for binding from the view, that are object",
    "View models typically expose command properties, for binding from the view, that are object",
    "Within a view model, there should be an object of type Command or Command",
    "Within a view model, there should be an object of type Command or Command",
    "The following code shows how a Command instance, which represents a register command, is",
    "The following code shows how a Command instance, which represents a register command, is",
    "public ICommand RegisterCommand => new Command(Register);",
    "public ICommand RegisterCommand => new Command(Register);",
    "The command is exposed to the view through a property that returns a reference to an ICommand.",
    "The command is exposed to the view through a property that returns a reference to an ICommand.",
    "An asynchronous method can be invoked by a command by using the async and await keywords",
    "An asynchronous method can be invoked by a command by using the async and await keywords",
    "public ICommand SignInCommand => new Command(async () => await SignInAsync());",
    "public ICommand SignInCommand => new Command(async () => await SignInAsync());",
    "Parameters can be passed to the Execute and CanExecute actions by using the Command",
    "Parameters can be passed to the Execute and CanExecute actions by using the Command",
    "public ICommand NavigateCommand => new Command",
    "public ICommand NavigateCommand => new Command",
    "In both the Command and Command",
    "In both the Command and Command",
    "14",
    "14",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "Invoking commands from a view",
    "Invoking commands from a view",
    "The following code example shows how a Grid in the LoginView binds to the RegisterCommand in",
    "The following code example shows how a Grid in the LoginView binds to the RegisterCommand in",
    "A command parameter can also be optionally defined using the CommandParameter property. The",
    "A command parameter can also be optionally defined using the CommandParameter property. The",
    "Implementing behaviors",
    "Implementing behaviors",
    "Behaviors allow functionality to be added to UI controls without having to subclass them. Instead, the",
    "Behaviors allow functionality to be added to UI controls without having to subclass them. Instead, the",
    "A behavior that",
    "A behavior that",
    "A Xamarin.Forms behavior is a class that derives from the Behavior or Behavior",
    "A Xamarin.Forms behavior is a class that derives from the Behavior or Behavior",
    "In the eShopOnContainers mobile app, the BindableBehavior",
    "In the eShopOnContainers mobile app, the BindableBehavior",
    "The BindableBehavior",
    "The BindableBehavior",
    "The eShopOnContainers mobile app includes an EventToCommandBehavior class, which executes a",
    "The eShopOnContainers mobile app includes an EventToCommandBehavior class, which executes a",
    "15",
    "15",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "public class EventToCommandBehavior : BindableBehavior",
    "public class EventToCommandBehavior : BindableBehavior",
    "}",
    "}",
    "The OnAttachedTo and OnDetachingFrom methods are used to register and deregister an event",
    "The OnAttachedTo and OnDetachingFrom methods are used to register and deregister an event",
    "The advantage of using the EventToCommandBehavior to execute a command when an event fires, is",
    "The advantage of using the EventToCommandBehavior to execute a command when an event fires, is",
    "Invoking behaviors from a view",
    "Invoking behaviors from a view",
    "The EventToCommandBehavior is particularly useful for attaching a command to a control that",
    "The EventToCommandBehavior is particularly useful for attaching a command to a control that",
    "16",
    "16",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "<",
    "<",
    "At runtime, the EventToCommandBehavior will respond to interaction with the ListView. When an",
    "At runtime, the EventToCommandBehavior will respond to interaction with the ListView. When an",
    "For more information about behaviors, see Behaviors on the Xamarin Developer Center.",
    "For more information about behaviors, see Behaviors on the Xamarin Developer Center.",
    "Summary",
    "Summary",
    "The Model-View-ViewModel (MVVM) pattern helps to cleanly separate the business and presentation",
    "The Model-View-ViewModel (MVVM) pattern helps to cleanly separate the business and presentation",
    "Using the MVVM pattern, the UI of the app and the underlying presentation and business logic is",
    "Using the MVVM pattern, the UI of the app and the underlying presentation and business logic is",
    "17",
    "17",
    "C HA PTER  2  |  MVVM",
    "C HA PTER  2  |  MVVM",
    "C H A P T E R",
    "C H A P T E R",
    "3",
    "3",
    "Dependency",
    "Dependency",
    "Typically, a class constructor is invoked when instantiating an object, and any values that the object",
    "Typically, a class constructor is invoked when instantiating an object, and any values that the object",
    "By specifying dependencies as interface types, dependency injection enables decoupling of the",
    "By specifying dependencies as interface types, dependency injection enables decoupling of the",
    "There are also other types of dependency injection, such as property setter injection, and method call",
    "There are also other types of dependency injection, such as property setter injection, and method call",
    "Introduction to dependency injection",
    "Introduction to dependency injection",
    "Dependency injection is a specialized version of the Inversion of Control (IoC) pattern, where the",
    "Dependency injection is a specialized version of the Inversion of Control (IoC) pattern, where the",
    "public class ProfileViewModel : ViewModelBase",
    "public class ProfileViewModel : ViewModelBase",
    "}",
    "}",
    "The ProfileViewModel constructor receives an IOrderService instance as an argument, injected by",
    "The ProfileViewModel constructor receives an IOrderService instance as an argument, injected by",
    "18",
    "18",
    "C HA PTER  3  |  Dependency injection",
    "C HA PTER  3  |  Dependency injection",
    "IOrderService object, and inserting it into the ProfileViewModel class, is known as the dependency",
    "IOrderService object, and inserting it into the ProfileViewModel class, is known as the dependency",
    "Dependency injection containers reduce the coupling between objects by providing a facility to",
    "Dependency injection containers reduce the coupling between objects by providing a facility to",
    "Note: Dependency injection can also be implemented manually using factories. However, using a",
    "Note: Dependency injection can also be implemented manually using factories. However, using a",
    "There are several advantages to using a dependency injection container:",
    "There are several advantages to using a dependency injection container:",
    "\u2022  A container removes the need for a class to locate its dependencies and manage their",
    "\u2022  A container removes the need for a class to locate its dependencies and manage their",
    "lifetimes.",
    "lifetimes.",
    "\u2022  A container allows mapping of implemented dependencies without affecting the class.",
    "\u2022  A container allows mapping of implemented dependencies without affecting the class.",
    "\u2022  A container facilitates testability by allowing dependencies to be mocked.",
    "\u2022  A container facilitates testability by allowing dependencies to be mocked.",
    "\u2022  A container increases maintainability by allowing new classes to be easily added to the app.",
    "\u2022  A container increases maintainability by allowing new classes to be easily added to the app.",
    "In the context of a Xamarin.Forms app that uses MVVM, a dependency injection container will",
    "In the context of a Xamarin.Forms app that uses MVVM, a dependency injection container will",
    "There are many dependency injection containers available, with the eShopOnContainers mobile app",
    "There are many dependency injection containers available, with the eShopOnContainers mobile app",
    "In Autofac, the IContainer interface provides the dependency injection container. Figure 3-1 shows",
    "In Autofac, the IContainer interface provides the dependency injection container. Figure 3-1 shows",
    "Figure 3-1: Dependencies when using dependency injection",
    "Figure 3-1: Dependencies when using dependency injection",
    "19",
    "19",
    "C HA PTER  3  |  Dependency injection",
    "C HA PTER  3  |  Dependency injection",
    "At runtime, the container must know which implementation of the IOrderService interface it should",
    "At runtime, the container must know which implementation of the IOrderService interface it should",
    "\u2022  The container deciding how to instantiate an object that implements the IOrderService",
    "\u2022  The container deciding how to instantiate an object that implements the IOrderService",
    "interface. This is known as registration.",
    "interface. This is known as registration.",
    "\u2022  The container instantiating the object that implements the IOrderService interface, and the",
    "\u2022  The container instantiating the object that implements the IOrderService interface, and the",
    "ProfileViewModel object. This is known as resolution.",
    "ProfileViewModel object. This is known as resolution.",
    "Eventually, the app will finish using the ProfileViewModel object and it will become available for",
    "Eventually, the app will finish using the ProfileViewModel object and it will become available for",
    "Tip: Write container-agnostic code",
    "Tip: Write container-agnostic code",
    "Always try to write container-agnostic code to decouple the app from the specific dependency",
    "Always try to write container-agnostic code to decouple the app from the specific dependency",
    "Registration",
    "Registration",
    "Before dependencies can be injected into an object, the types of the dependencies must first be",
    "Before dependencies can be injected into an object, the types of the dependencies must first be",
    "There are two ways of registering types and objects in the container through code:",
    "There are two ways of registering types and objects in the container through code:",
    "\u2022  Register a type or mapping with the container. When required, the container will build an",
    "\u2022  Register a type or mapping with the container. When required, the container will build an",
    "instance of the specified type.",
    "instance of the specified type.",
    "\u2022  Register an existing object in the container as a singleton. When required, the container will",
    "\u2022  Register an existing object in the container as a singleton. When required, the container will",
    "return a reference to the existing object.",
    "return a reference to the existing object.",
    "Tip: Dependency injection containers are not always suitable",
    "Tip: Dependency injection containers are not always suitable",
    "Dependency injection introduces additional complexity and requirements that might not be",
    "Dependency injection introduces additional complexity and requirements that might not be",
    "The registration of types that require dependency injection should be performed in a single method in",
    "The registration of types that require dependency injection should be performed in a single method in",
    "private static IContainer ",
    "private static IContainer ",
    "Types and instances are registered in the RegisterDependencies method in the ViewModelLocator",
    "Types and instances are registered in the RegisterDependencies method in the ViewModelLocator",
    "var builder = new ContainerBuilder();",
    "var builder = new ContainerBuilder();",
    "20",
    "20",
    "C HA PTER  3  |  Dependency injection",
    "C HA PTER  3  |  Dependency injection",
    "Types and instances are then registered with the ContainerBuilder object, and the following code",
    "Types and instances are then registered with the ContainerBuilder object, and the following code",
    "builder.RegisterType",
    "builder.RegisterType",
    "The RegisterType method shown here maps an interface type to a concrete type. It tells the",
    "The RegisterType method shown here maps an interface type to a concrete type. It tells the",
    "Concrete types can also be registered directly without a mapping from an interface type, as shown in",
    "Concrete types can also be registered directly without a mapping from an interface type, as shown in",
    "builder.RegisterType",
    "builder.RegisterType",
    "When the ProfileViewModel type is resolved, the container will inject its required dependencies.",
    "When the ProfileViewModel type is resolved, the container will inject its required dependencies.",
    "Autofac also allows instance registration, where the container is responsible for maintaining a",
    "Autofac also allows instance registration, where the container is responsible for maintaining a",
    "builder.RegisterType",
    "builder.RegisterType",
    "The RegisterType method shown here maps an interface type to a concrete type. The",
    "The RegisterType method shown here maps an interface type to a concrete type. The",
    "Instance registration can also be performed with the RegisterInstance method, which is",
    "Instance registration can also be performed with the RegisterInstance method, which is",
    "builder.RegisterInstance(new OrderMockService()).As",
    "builder.RegisterInstance(new OrderMockService()).As",
    "The RegisterInstance method shown here creates a new OrderMockService instance and registers",
    "The RegisterInstance method shown here creates a new OrderMockService instance and registers",
    "Following type and instance registration, the IContainer object must be built, which is demonstrated",
    "Following type and instance registration, the IContainer object must be built, which is demonstrated",
    "_",
    "_",
    "Invoking the Build method on the ContainerBuilder instance builds a new dependency injection",
    "Invoking the Build method on the ContainerBuilder instance builds a new dependency injection",
    "Tip: Consider an IContainer as being immutable",
    "Tip: Consider an IContainer as being immutable",
    "While Autofac provides an Update method to update registrations in an existing container, calling",
    "While Autofac provides an Update method to update registrations in an existing container, calling",
    "21",
    "21",
    "C HA PTER  3  |  Dependency injection",
    "C HA PTER  3  |  Dependency injection",
    "Resolution",
    "Resolution",
    "After a type is registered, it can be resolved or injected as a dependency. When a type is being",
    "After a type is registered, it can be resolved or injected as a dependency. When a type is being",
    "Generally, when a type is resolved, one of three things happens:",
    "Generally, when a type is resolved, one of three things happens:",
    "If the type hasn",
    "If the type hasn",
    "If the type has been registered as a singleton, the container returns the singleton instance. If",
    "If the type has been registered as a singleton, the container returns the singleton instance. If",
    "If the type hasn",
    "If the type hasn",
    "The following code example shows how the RequestProvider type that was previously registered",
    "The following code example shows how the RequestProvider type that was previously registered",
    "var requestProvider = ",
    "var requestProvider = ",
    "In this example, Autofac is asked to resolve the concrete type for the IRequestProvider type, along",
    "In this example, Autofac is asked to resolve the concrete type for the IRequestProvider type, along",
    "The following code example shows how the eShopOnContainers mobile app instantiates view model",
    "The following code example shows how the eShopOnContainers mobile app instantiates view model",
    "var viewModel = ",
    "var viewModel = ",
    "In this example, Autofac is asked to resolve the view model type for a requested view model, and the",
    "In this example, Autofac is asked to resolve the view model type for a requested view model, and the",
    "Note: Registering and resolving types with a container has a performance cost because of the",
    "Note: Registering and resolving types with a container has a performance cost because of the",
    "Managing the lifetime of resolved objects",
    "Managing the lifetime of resolved objects",
    "After registering a type, the default behavior for Autofac is to create a new instance of the registered",
    "After registering a type, the default behavior for Autofac is to create a new instance of the registered",
    "22",
    "22",
    "C HA PTER  3  |  Dependency injection",
    "C HA PTER  3  |  Dependency injection",
    "An Autofac instance scope can be used to specify the singleton behavior for an object that Autofac",
    "An Autofac instance scope can be used to specify the singleton behavior for an object that Autofac",
    "builder.RegisterType",
    "builder.RegisterType",
    "The first time that the INavigationService interface is resolved, the container creates a new",
    "The first time that the INavigationService interface is resolved, the container creates a new",
    "Note: The SingleInstance scope disposes created objects when the container is disposed.",
    "Note: The SingleInstance scope disposes created objects when the container is disposed.",
    "Autofac includes additional instance scopes. For more information, see Instance Scope on",
    "Autofac includes additional instance scopes. For more information, see Instance Scope on",
    "Summary",
    "Summary",
    "Dependency injection enables decoupling of concrete types from the code that depends on these",
    "Dependency injection enables decoupling of concrete types from the code that depends on these",
    "Autofac facilitates building loosely coupled apps, and provides all of the features commonly found in",
    "Autofac facilitates building loosely coupled apps, and provides all of the features commonly found in",
    "23",
    "23",
    "C HA PTER  3  |  Dependency injection",
    "C HA PTER  3  |  Dependency injection",
    "C H A P T E R",
    "C H A P T E R",
    "4",
    "4",
    "Communicating",
    "Communicating",
    "The publish-subscribe pattern is a messaging pattern in which publishers send messages without",
    "The publish-subscribe pattern is a messaging pattern in which publishers send messages without",
    "Events in .NET implement the publish-subscribe pattern, and are the most simple and straightforward",
    "Events in .NET implement the publish-subscribe pattern, and are the most simple and straightforward",
    "Introduction to MessagingCenter",
    "Introduction to MessagingCenter",
    "The Xamarin.Forms MessagingCenter class implements the publish-subscribe pattern, allowing",
    "The Xamarin.Forms MessagingCenter class implements the publish-subscribe pattern, allowing",
    "The MessagingCenter class provides multicast publish-subscribe functionality. This means that there",
    "The MessagingCenter class provides multicast publish-subscribe functionality. This means that there",
    "24",
    "24",
    "C HA PTER  4  |  Communicating between loosely coupled components",
    "C HA PTER  4  |  Communicating between loosely coupled components",
    "Figure 4-1: Multicast publish-subscribe functionality",
    "Figure 4-1: Multicast publish-subscribe functionality",
    "Publishers send messages using the MessagingCenter.Send method, while subscribers listen for",
    "Publishers send messages using the MessagingCenter.Send method, while subscribers listen for",
    "Internally, the MessagingCenter class uses weak references. This means that it will not keep objects",
    "Internally, the MessagingCenter class uses weak references. This means that it will not keep objects",
    "The eShopOnContainers mobile app uses the MessagingCenter class to communicate between",
    "The eShopOnContainers mobile app uses the MessagingCenter class to communicate between",
    "\u2022  The AddProduct message is published by the CatalogViewModel class when an item is",
    "\u2022  The AddProduct message is published by the CatalogViewModel class when an item is",
    "\u2022  The Filter message is published by the CatalogViewModel class when the user applies a",
    "\u2022  The Filter message is published by the CatalogViewModel class when the user applies a",
    "\u2022  The ChangeTab message is published by the MainViewModel class when the",
    "\u2022  The ChangeTab message is published by the MainViewModel class when the",
    "CheckoutViewModel navigates to the MainViewModel following the successful creation and",
    "CheckoutViewModel navigates to the MainViewModel following the successful creation and",
    "Note: While the MessagingCenter class permits communication between loosely-coupled classes,",
    "Note: While the MessagingCenter class permits communication between loosely-coupled classes,",
    "In the eShopOnContainers mobile app, MessagingCenter is used to update in the UI in response to",
    "In the eShopOnContainers mobile app, MessagingCenter is used to update in the UI in response to",
    "25",
    "25",
    "C HA PTER  4  |  Communicating between loosley coupled components",
    "C HA PTER  4  |  Communicating between loosley coupled components",
    "Tip: Marshal to the UI thread when performing UI updates",
    "Tip: Marshal to the UI thread when performing UI updates",
    "If a message that",
    "If a message that",
    "For more information about MessagingCenter, see MessagingCenter on the Xamarin Developer",
    "For more information about MessagingCenter, see MessagingCenter on the Xamarin Developer",
    "Defining a message",
    "Defining a message",
    "MessagingCenter messages are strings that are used to identify messages. The following code",
    "MessagingCenter messages are strings that are used to identify messages. The following code",
    "public class MessengerKeys",
    "public class MessengerKeys",
    "}",
    "}",
    "In this example, messages are defined using constants. The advantage of this approach is that it",
    "In this example, messages are defined using constants. The advantage of this approach is that it",
    "Publishing a message",
    "Publishing a message",
    "Publishers notify subscribers of a message with one of the MessagingCenter.Send overloads. The",
    "Publishers notify subscribers of a message with one of the MessagingCenter.Send overloads. The",
    "MessagingCenter.Send(this, MessengerKeys.AddProduct, catalogItem);",
    "MessagingCenter.Send(this, MessengerKeys.AddProduct, catalogItem);",
    "In this example, the Send method specifies three arguments:",
    "In this example, the Send method specifies three arguments:",
    "\u2022  The first argument specifies the sender class. The sender class must be specified by any",
    "\u2022  The first argument specifies the sender class. The sender class must be specified by any",
    "subscribers who wish to receive the message.",
    "subscribers who wish to receive the message.",
    "\u2022  The second argument specifies the message.",
    "\u2022  The second argument specifies the message.",
    "\u2022  The third argument specifies the payload data to be sent to the subscriber. In this case the",
    "\u2022  The third argument specifies the payload data to be sent to the subscriber. In this case the",
    "payload data is a CatalogItem instance.",
    "payload data is a CatalogItem instance.",
    "The Send method will publish the message, and its payload data, using a fire-and-forget approach.",
    "The Send method will publish the message, and its payload data, using a fire-and-forget approach.",
    "Note: The MessagingCenter.Send method can use generic parameters to control how messages",
    "Note: The MessagingCenter.Send method can use generic parameters to control how messages",
    "26",
    "26",
    "C HA PTER  4  |  Communicating between loosley coupled components",
    "C HA PTER  4  |  Communicating between loosley coupled components",
    "Subscribing to a message",
    "Subscribing to a message",
    "Subscribers can register to receive a message using one of the MessagingCenter.Subscribe",
    "Subscribers can register to receive a message using one of the MessagingCenter.Subscribe",
    "MessagingCenter.Subscribe",
    "MessagingCenter.Subscribe",
    "});",
    "});",
    "In this example, the Subscribe method subscribes to the AddProduct message, and executes a",
    "In this example, the Subscribe method subscribes to the AddProduct message, and executes a",
    "Tip: Consider using immutable payload data",
    "Tip: Consider using immutable payload data",
    "Don",
    "Don",
    "A subscriber might not need to handle every instance of a published message, and this can be",
    "A subscriber might not need to handle every instance of a published message, and this can be",
    "Unsubscribing from a message",
    "Unsubscribing from a message",
    "Subscribers can unsubscribe from messages they no longer want to receive. This is achieved with one",
    "Subscribers can unsubscribe from messages they no longer want to receive. This is achieved with one",
    "MessagingCenter.Unsubscribe",
    "MessagingCenter.Unsubscribe",
    "In this example, the Unsubscribe method syntax reflects the type arguments specified when",
    "In this example, the Unsubscribe method syntax reflects the type arguments specified when",
    "Summary",
    "Summary",
    "The Xamarin.Forms MessagingCenter class implements the publish-subscribe pattern, allowing",
    "The Xamarin.Forms MessagingCenter class implements the publish-subscribe pattern, allowing",
    "27",
    "27",
    "C HA PTER  4  |  Communicating between loosley coupled components",
    "C HA PTER  4  |  Communicating between loosley coupled components",
    "C H A P T E R",
    "C H A P T E R",
    "5",
    "5",
    "Navigation",
    "Navigation",
    "Xamarin.Forms includes support for page navigation, which typically results from the user",
    "Xamarin.Forms includes support for page navigation, which typically results from the user",
    "\u2022  How to identify the view to be navigated to, using an approach that does not introduce tight",
    "\u2022  How to identify the view to be navigated to, using an approach that does not introduce tight",
    "coupling and dependencies between views.",
    "coupling and dependencies between views.",
    "\u2022  How to coordinate the process by which the view to be navigated to is instantiated and",
    "\u2022  How to coordinate the process by which the view to be navigated to is instantiated and",
    "\u2022  Whether to perform view-first navigation, or view model-first navigation. With view-first",
    "\u2022  Whether to perform view-first navigation, or view model-first navigation. With view-first",
    "navigation, the page to navigate to refers to the name of the view type. During navigation,",
    "navigation, the page to navigate to refers to the name of the view type. During navigation,",
    "\u2022  How to cleanly separate the navigational behavior of the app across the views and view",
    "\u2022  How to cleanly separate the navigational behavior of the app across the views and view",
    "models. The MVVM pattern provides a separation between the app",
    "models. The MVVM pattern provides a separation between the app",
    "\u2022  How to pass parameters during navigation for initialization purposes. For example, if the user",
    "\u2022  How to pass parameters during navigation for initialization purposes. For example, if the user",
    "\u2022  How to co-ordinate navigation, to ensure that certain business rules are obeyed. For example,",
    "\u2022  How to co-ordinate navigation, to ensure that certain business rules are obeyed. For example,",
    "This chapter addresses these challenges by presenting a NavigationService class that",
    "This chapter addresses these challenges by presenting a NavigationService class that",
    "Note: The NavigationService used by the app is designed only to perform hierarchical",
    "Note: The NavigationService used by the app is designed only to perform hierarchical",
    "28",
    "28",
    "C HA PTER  5  |  Navigation",
    "C HA PTER  5  |  Navigation",
    "Navigating between pages",
    "Navigating between pages",
    "Navigation logic can reside in a view",
    "Navigation logic can reside in a view",
    "A NavigationService class is typically invoked from view models, in order to promote testability.",
    "A NavigationService class is typically invoked from view models, in order to promote testability.",
    "The eShopOnContainers mobile app uses the NavigationService class to provide view model-first",
    "The eShopOnContainers mobile app uses the NavigationService class to provide view model-first",
    "public interface INavigationService",
    "public interface INavigationService",
    "This interface specifies that an implementing class must provide the following methods:",
    "This interface specifies that an implementing class must provide the following methods:",
    "Method",
    "Method",
    "Purpose",
    "Purpose",
    "NavigateToAsync",
    "NavigateToAsync",
    "Performs navigation to one of two pages when the app is",
    "Performs navigation to one of two pages when the app is",
    "RemoveLastFromBackStackAsync  Removes the previous page from the navigation stack.",
    "RemoveLastFromBackStackAsync  Removes the previous page from the navigation stack.",
    "Removes all the previous pages from the navigation stack.",
    "Removes all the previous pages from the navigation stack.",
    "a parameter.",
    "a parameter.",
    "In addition, the INavigationService interface specifies that an implementing class must provide a",
    "In addition, the INavigationService interface specifies that an implementing class must provide a",
    "Note: An INavigationService interface would usually also specify a GoBackAsync method, which",
    "Note: An INavigationService interface would usually also specify a GoBackAsync method, which",
    "Creating the NavigationService instance",
    "Creating the NavigationService instance",
    "The NavigationService class, which implements the INavigationService interface, is registered as",
    "The NavigationService class, which implements the INavigationService interface, is registered as",
    "29",
    "29",
    "C HA PTER  5  |  Navigation",
    "C HA PTER  5  |  Navigation",
    "builder.RegisterType",
    "builder.RegisterType",
    "The INavigationService interface is resolved in the ViewModelBase class constructor, as",
    "The INavigationService interface is resolved in the ViewModelBase class constructor, as",
    "NavigationService = ViewModelLocator.Resolve",
    "NavigationService = ViewModelLocator.Resolve",
    "This returns a reference to the NavigationService object that",
    "This returns a reference to the NavigationService object that",
    "The ViewModelBase class stores the NavigationService instance in a NavigationService property,",
    "The ViewModelBase class stores the NavigationService instance in a NavigationService property,",
    "Handling navigation requests",
    "Handling navigation requests",
    "Xamarin.Forms provides the NavigationPage class, which implements a hierarchical navigation",
    "Xamarin.Forms provides the NavigationPage class, which implements a hierarchical navigation",
    "Rather than use the NavigationPage class directly, the eShopOnContainers app wraps the",
    "Rather than use the NavigationPage class directly, the eShopOnContainers app wraps the",
    "public partial class CustomNavigationView : NavigationPage",
    "public partial class CustomNavigationView : NavigationPage",
    "}",
    "}",
    "The purpose of this wrapping is for ease of styling the NavigationPage instance inside the XAML file",
    "The purpose of this wrapping is for ease of styling the NavigationPage instance inside the XAML file",
    "Navigation is performed inside view model classes by invoking one of the NavigateToAsync",
    "Navigation is performed inside view model classes by invoking one of the NavigateToAsync",
    "await NavigationService.NavigateToAsync",
    "await NavigationService.NavigateToAsync",
    "The following code example shows the NavigateToAsync methods provided by the",
    "The following code example shows the NavigateToAsync methods provided by the",
    "30",
    "30",
    "C HA PTER  5  |  Navigation",
    "C HA PTER  5  |  Navigation",
    "public Task NavigateToAsync",
    "public Task NavigateToAsync",
    "public Task NavigateToAsync",
    "public Task NavigateToAsync",
    "Each method allows any view model class that derives from the ViewModelBase class to perform",
    "Each method allows any view model class that derives from the ViewModelBase class to perform",
    "The InternalNavigateToAsync method executes the navigation request, and is shown in the",
    "The InternalNavigateToAsync method executes the navigation request, and is shown in the",
    "private async Task InternalNavigateToAsync(Type viewModelType, object parameter)",
    "private async Task InternalNavigateToAsync(Type viewModelType, object parameter)",
    "}",
    "}",
    "private Type GetPageTypeForViewModel(Type viewModelType)",
    "private Type GetPageTypeForViewModel(Type viewModelType)",
    "private Page CreatePage(Type viewModelType, object parameter)",
    "private Page CreatePage(Type viewModelType, object parameter)",
    "31",
    "31",
    "C HA PTER  5  |  Navigation",
    "C HA PTER  5  |  Navigation",
    "Page page = Activator.CreateInstance(pageType) as Page;",
    "Page page = Activator.CreateInstance(pageType) as Page;",
    "The InternalNavigateToAsync method performs navigation to a view model by first calling the",
    "The InternalNavigateToAsync method performs navigation to a view model by first calling the",
    "\u2022  Views are in the same assembly as view model types.",
    "\u2022  Views are in the same assembly as view model types.",
    "\u2022  Views are in a .Views child namespace.",
    "\u2022  Views are in a .Views child namespace.",
    "\u2022  View models are in a .ViewModels child namespace.",
    "\u2022  View models are in a .ViewModels child namespace.",
    "\u2022  View names correspond to view model names, with ",
    "\u2022  View names correspond to view model names, with ",
    "When a view is instantiated, it",
    "When a view is instantiated, it",
    "If the view being created is a LoginView, it",
    "If the view being created is a LoginView, it",
    "Tip: Consider caching pages",
    "Tip: Consider caching pages",
    "Page caching results in memory consumption for views that are not currently displayed. However,",
    "Page caching results in memory consumption for views that are not currently displayed. However,",
    "After the view is created and navigated to, the InitializeAsync method of the view",
    "After the view is created and navigated to, the InitializeAsync method of the view",
    "Navigating when the app is launched",
    "Navigating when the app is launched",
    "When the app is launched, the InitNavigation method in the App class is invoked. The following",
    "When the app is launched, the InitNavigation method in the App class is invoked. The following",
    "private Task InitNavigation()",
    "private Task InitNavigation()",
    "The method creates a new NavigationService object in the Autofac dependency injection container,",
    "The method creates a new NavigationService object in the Autofac dependency injection container,",
    "32",
    "32",
    "C HA PTER  5  |  Navigation",
    "C HA PTER  5  |  Navigation",
    "Note: When the INavigationService interface is resolved by the ViewModelBase class, the",
    "Note: When the INavigationService interface is resolved by the ViewModelBase class, the",
    "The following code example shows the NavigationService InitializeAsync method:",
    "The following code example shows the NavigationService InitializeAsync method:",
    "public Task InitializeAsync()",
    "public Task InitializeAsync()",
    "The MainView is navigated to if the app has a cached access token, which is used for authentication.",
    "The MainView is navigated to if the app has a cached access token, which is used for authentication.",
    "For more information about the Autofac dependency injection container, see Introduction to",
    "For more information about the Autofac dependency injection container, see Introduction to",
    "Passing parameters during navigation",
    "Passing parameters during navigation",
    "One of the NavigateToAsync methods, specified by the INavigationService interface, enables",
    "One of the NavigateToAsync methods, specified by the INavigationService interface, enables",
    "For example, the ProfileViewModel class contains an OrderDetailCommand that",
    "For example, the ProfileViewModel class contains an OrderDetailCommand that",
    "private async Task OrderDetailAsync(Order order)",
    "private async Task OrderDetailAsync(Order order)",
    "This method invokes navigation to the OrderDetailViewModel, passing an Order instance that",
    "This method invokes navigation to the OrderDetailViewModel, passing an Order instance that",
    "The InitializeAsync method is defined in the ViewModelBase class as a method that can be",
    "The InitializeAsync method is defined in the ViewModelBase class as a method that can be",
    "public override async Task InitializeAsync(object navigationData)",
    "public override async Task InitializeAsync(object navigationData)",
    "33",
    "33",
    "C HA PTER  5  |  Navigation",
    "C HA PTER  5  |  Navigation",
    "...",
    "...",
    "This method retrieves the Order instance that was passed into the view model during the navigation",
    "This method retrieves the Order instance that was passed into the view model during the navigation",
    "Invoking navigation using behaviors",
    "Invoking navigation using behaviors",
    "Navigation is usually triggered from a view by a user interaction. For example, the LoginView",
    "Navigation is usually triggered from a view by a user interaction. For example, the LoginView",
    "<",
    "<",
    "At runtime, the EventToCommandBehavior will respond to interaction with the WebView. When the",
    "At runtime, the EventToCommandBehavior will respond to interaction with the WebView. When the",
    "In turn, the NavigationCommand executes the NavigateAsync method, which is shown in the",
    "In turn, the NavigationCommand executes the NavigateAsync method, which is shown in the",
    "private async Task NavigateAsync(string url)",
    "private async Task NavigateAsync(string url)",
    "This method invokes navigation to the MainViewModel, and following navigation, removes the",
    "This method invokes navigation to the MainViewModel, and following navigation, removes the",
    "Confirming or cancelling navigation",
    "Confirming or cancelling navigation",
    "An app might need to interact with the user during a navigation operation, so that the user can",
    "An app might need to interact with the user during a navigation operation, so that the user can",
    "34",
    "34",
    "C HA PTER  5  |  Navigation",
    "C HA PTER  5  |  Navigation",
    "Summary",
    "Summary",
    "Xamarin.Forms includes support for page navigation, which typically results from the user",
    "Xamarin.Forms includes support for page navigation, which typically results from the user",
    "This chapter presented a NavigationService class, which is used to perform view model-first",
    "This chapter presented a NavigationService class, which is used to perform view model-first",
    "35",
    "35",
    "C HA PTER  5  |  Navigation",
    "C HA PTER  5  |  Navigation",
    "C H A P T E R",
    "C H A P T E R",
    "6",
    "6",
    "Validation",
    "Validation",
    "Any app that accepts input from users should ensure that the input is valid. An app could, for",
    "Any app that accepts input from users should ensure that the input is valid. An app could, for",
    "In the context of the Model-ViewModel-Model (MVVM) pattern, a view model or model will often be",
    "In the context of the Model-ViewModel-Model (MVVM) pattern, a view model or model will often be",
    "Figure 6-1: Validation classes in the eShopOnContainers mobile app",
    "Figure 6-1: Validation classes in the eShopOnContainers mobile app",
    "View model properties that require validation are of type ValidatableObject",
    "View model properties that require validation are of type ValidatableObject",
    "36",
    "36",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "instance, which retrieves the validation rules and executes them against the ValidatableObject",
    "instance, which retrieves the validation rules and executes them against the ValidatableObject",
    "Property change notification is provided by the ExtendedBindableObject class, and so an Entry",
    "Property change notification is provided by the ExtendedBindableObject class, and so an Entry",
    "Specifying validation rules",
    "Specifying validation rules",
    "Validation rules are specified by creating a class that derives from the IValidationRule",
    "Validation rules are specified by creating a class that derives from the IValidationRule",
    "public interface IValidationRule",
    "public interface IValidationRule",
    "This interface specifies that a validation rule class must provide a boolean Check method that is used",
    "This interface specifies that a validation rule class must provide a boolean Check method that is used",
    "The following code example shows the IsNotNullOrEmptyRule",
    "The following code example shows the IsNotNullOrEmptyRule",
    "public class IsNotNullOrEmptyRule",
    "public class IsNotNullOrEmptyRule",
    "}",
    "}",
    "The Check method returns a boolean indicating whether the value argument is null, empty, or",
    "The Check method returns a boolean indicating whether the value argument is null, empty, or",
    "Although not used by the eShopOnContainers mobile app, the following code example shows a",
    "Although not used by the eShopOnContainers mobile app, the following code example shows a",
    "public class EmailRule",
    "public class EmailRule",
    "37",
    "37",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "{",
    "{",
    "}",
    "}",
    "The Check method returns a boolean indicating whether or not the value argument is a valid email",
    "The Check method returns a boolean indicating whether or not the value argument is a valid email",
    "Note: Property validation can sometimes involve dependent properties. An example of dependent",
    "Note: Property validation can sometimes involve dependent properties. An example of dependent",
    "Adding validation rules to a property",
    "Adding validation rules to a property",
    "In the eShopOnContainers mobile app, view model properties that require validation are declared to",
    "In the eShopOnContainers mobile app, view model properties that require validation are declared to",
    "public ValidatableObject",
    "public ValidatableObject",
    "public ValidatableObject",
    "public ValidatableObject",
    "For validation to occur, validation rules must be added to the Validations collection of each",
    "For validation to occur, validation rules must be added to the Validations collection of each",
    "38",
    "38",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "private void AddValidations()",
    "private void AddValidations()",
    "This method adds the IsNotNullOrEmptyRule",
    "This method adds the IsNotNullOrEmptyRule",
    "Triggering validation",
    "Triggering validation",
    "The validation approach used in the eShopOnContainers mobile app can manually trigger validation",
    "The validation approach used in the eShopOnContainers mobile app can manually trigger validation",
    "Triggering validation manually",
    "Triggering validation manually",
    "Validation can be triggered manually for a view model property. For example, this occurs in the",
    "Validation can be triggered manually for a view model property. For example, this occurs in the",
    "private bool Validate()",
    "private bool Validate()",
    "private bool ValidateUserName()",
    "private bool ValidateUserName()",
    "private bool ValidatePassword()",
    "private bool ValidatePassword()",
    "The Validate method performs validation of the username and password entered by the user on the",
    "The Validate method performs validation of the username and password entered by the user on the",
    "public bool Validate()",
    "public bool Validate()",
    "39",
    "39",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "Errors = errors.ToList();",
    "Errors = errors.ToList();",
    "}",
    "}",
    "This method clears the Errors collection, and then retrieves any validation rules that were added to",
    "This method clears the Errors collection, and then retrieves any validation rules that were added to",
    "Triggering validation when properties change",
    "Triggering validation when properties change",
    "Validation is also automatically triggered whenever a bound property changes. For example, when a",
    "Validation is also automatically triggered whenever a bound property changes. For example, when a",
    "The Entry control binds to the UserName.Value property of the ValidatableObject",
    "The Entry control binds to the UserName.Value property of the ValidatableObject",
    "For more information about behaviors, see Implementing behaviors.",
    "For more information about behaviors, see Implementing behaviors.",
    "Displaying validation errors",
    "Displaying validation errors",
    "The eShopOnContainers mobile app notifies the user of any validation errors by highlighting the",
    "The eShopOnContainers mobile app notifies the user of any validation errors by highlighting the",
    "40",
    "40",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "Figure 6-2: Displaying validation errors during login",
    "Figure 6-2: Displaying validation errors during login",
    "Highlighting a control that contains invalid data",
    "Highlighting a control that contains invalid data",
    "The LineColorBehavior attached behavior is used to highlight Entry controls where validation",
    "The LineColorBehavior attached behavior is used to highlight Entry controls where validation",
    "The Entry control consumes an explicit style, which is shown in the following code example:",
    "The Entry control consumes an explicit style, which is shown in the following code example:",
    "This style sets the ApplyLineColor and LineColor attached properties of the LineColorBehavior",
    "This style sets the ApplyLineColor and LineColor attached properties of the LineColorBehavior",
    "When the value of the ApplyLineColor attached property is set, or changes, the LineColorBehavior",
    "When the value of the ApplyLineColor attached property is set, or changes, the LineColorBehavior",
    "41",
    "41",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "public static class LineColorBehavior",
    "public static class LineColorBehavior",
    "}",
    "}",
    "The parameters for this method provide the instance of the control that the behavior is attached to,",
    "The parameters for this method provide the instance of the control that the behavior is attached to,",
    "The EntryLineColorEffect subclasses the RoutingEffect class, and is shown in the following code",
    "The EntryLineColorEffect subclasses the RoutingEffect class, and is shown in the following code",
    "public class EntryLineColorEffect : RoutingEffect",
    "public class EntryLineColorEffect : RoutingEffect",
    "The RoutingEffect class represents a platform-independent effect that wraps an inner effect that",
    "The RoutingEffect class represents a platform-independent effect that wraps an inner effect that",
    "The following code example shows the eShopOnContainers.EntryLineColorEffect implementation for",
    "The following code example shows the eShopOnContainers.EntryLineColorEffect implementation for",
    "[",
    "[",
    "42",
    "42",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "{",
    "{",
    "43",
    "43",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "}",
    "}",
    "The OnAttached method retrieves the native control for the Xamarin.Forms Entry control, and",
    "The OnAttached method retrieves the native control for the Xamarin.Forms Entry control, and",
    "When valid data is entered in the Entry control, it will apply a black line to the bottom of the control,",
    "When valid data is entered in the Entry control, it will apply a black line to the bottom of the control,",
    "Figure 6-3: Black line indicating no validation error",
    "Figure 6-3: Black line indicating no validation error",
    "The Entry control also has a DataTrigger added to its Triggers collection. The following code",
    "The Entry control also has a DataTrigger added to its Triggers collection. The following code",
    "This DataTrigger monitors the UserName.IsValid property, and if it",
    "This DataTrigger monitors the UserName.IsValid property, and if it",
    "Figure 6-4: Red line indicating validation error",
    "Figure 6-4: Red line indicating validation error",
    "The line in the Entry control will remain red while the entered data is invalid, otherwise it will change",
    "The line in the Entry control will remain red while the entered data is invalid, otherwise it will change",
    "For more information about Triggers, see Triggers on the Xamarin Developer Center.",
    "For more information about Triggers, see Triggers on the Xamarin Developer Center.",
    "Displaying error messages",
    "Displaying error messages",
    "The UI displays validation error messages in Label controls below each control whose data failed",
    "The UI displays validation error messages in Label controls below each control whose data failed",
    "44",
    "44",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "<Label Text=\"{Binding UserName.Errors, Converter={StaticResource FirstValidationErrorConverter}\"\nStyle=\"{StaticResource ValidationErrorLabelStyle}\" />",
    "<Label Text=\"{Binding UserName.Errors, Converter={StaticResource FirstValidationErrorConverter}\"\nStyle=\"{StaticResource ValidationErrorLabelStyle}\" />",
    "Each Label binds to the Errors property of the view model object that",
    "Each Label binds to the Errors property of the view model object that",
    "Summary",
    "Summary",
    "The eShopOnContainers mobile app performs synchronous client-side validation of view model",
    "The eShopOnContainers mobile app performs synchronous client-side validation of view model",
    "View model properties that require validation are of type ValidatableObject",
    "View model properties that require validation are of type ValidatableObject",
    "45",
    "45",
    "C HA PTER  6  |  Validation",
    "C HA PTER  6  |  Validation",
    "C H A P T E R",
    "C H A P T E R",
    "7",
    "7",
    "Configuration",
    "Configuration",
    "Settings allow the separation of data that configures the behavior of an app from the code, allowing",
    "Settings allow the separation of data that configures the behavior of an app from the code, allowing",
    "App settings are data that an app creates and manages. It can include data such as fixed web service",
    "App settings are data that an app creates and manages. It can include data such as fixed web service",
    "User settings are the customizable settings of an app that affect the behavior of the app and don",
    "User settings are the customizable settings of an app that affect the behavior of the app and don",
    "Xamarin.Forms includes a persistent dictionary that can be used to store settings data. This dictionary",
    "Xamarin.Forms includes a persistent dictionary that can be used to store settings data. This dictionary",
    "A downside to storing data using the Xamarin.Forms persistent dictionary is that it",
    "A downside to storing data using the Xamarin.Forms persistent dictionary is that it",
    "Note: While the Xam.Plugin.Settings library can store both app and user settings, it makes no",
    "Note: While the Xam.Plugin.Settings library can store both app and user settings, it makes no",
    "Creating a settings class",
    "Creating a settings class",
    "When using the Xam.Plugins.Settings library, a single static class should be created that will contain",
    "When using the Xam.Plugins.Settings library, a single static class should be created that will contain",
    "46",
    "46",
    "C HA PTER  7  |  Configuration management",
    "C HA PTER  7  |  Configuration management",
    "public static class Settings",
    "public static class Settings",
    "Settings can be read and written through the ISettings API, which is provided by the",
    "Settings can be read and written through the ISettings API, which is provided by the",
    "Note: Using directives for the Plugin.Settings and Plugin.Settings.Abstractions",
    "Note: Using directives for the Plugin.Settings and Plugin.Settings.Abstractions",
    "Adding a setting",
    "Adding a setting",
    "Each setting consists of a key, a default value, and a property. The following code example shows all",
    "Each setting consists of a key, a default value, and a property. The following code example shows all",
    "public static class Settings",
    "public static class Settings",
    "}",
    "}",
    "The key is always a const string that defines the key name, with the default value for the setting",
    "The key is always a const string that defines the key name, with the default value for the setting",
    "The UrlBase static property uses two methods from the ISettings API to read or write the setting",
    "The UrlBase static property uses two methods from the ISettings API to read or write the setting",
    "47",
    "47",
    "C HA PTER  7  |  Configuration management",
    "C HA PTER  7  |  Configuration management",
    "Rather that define a default value inside the Settings class, the UrlBaseDefault string obtains its",
    "Rather that define a default value inside the Settings class, the UrlBaseDefault string obtains its",
    "public class GlobalSetting",
    "public class GlobalSetting",
    "}",
    "}",
    "Each time the BaseEndpoint property is set, the UpdateEndpoint method is called. This method",
    "Each time the BaseEndpoint property is set, the UpdateEndpoint method is called. This method",
    "Data binding to user settings",
    "Data binding to user settings",
    "In the eShopOnContainers mobile app, the SettingsView exposes two user settings. These settings",
    "In the eShopOnContainers mobile app, the SettingsView exposes two user settings. These settings",
    "48",
    "48",
    "C HA PTER  7  |  Configuration management",
    "C HA PTER  7  |  Configuration management",
    "Figure 7-1: User settings exposed by the eShopOnContainers mobile app",
    "Figure 7-1: User settings exposed by the eShopOnContainers mobile app",
    "Data binding can be used to retrieve and set settings exposed by the Settings class. This is achieved",
    "Data binding can be used to retrieve and set settings exposed by the Settings class. This is achieved",
    "The following code example shows the Entry control from the SettingsView that allows the user to",
    "The following code example shows the Entry control from the SettingsView that allows the user to",
    "This Entry control binds to the Endpoint property of the SettingsViewModel class, using a two-way",
    "This Entry control binds to the Endpoint property of the SettingsViewModel class, using a two-way",
    "public string Endpoint",
    "public string Endpoint",
    "}",
    "}",
    "When the Endpoint property is set the UpdateEndpoint method is called, provided that the supplied",
    "When the Endpoint property is set the UpdateEndpoint method is called, provided that the supplied",
    "private void UpdateEndpoint(string endpoint)",
    "private void UpdateEndpoint(string endpoint)",
    "49",
    "49",
    "C HA PTER  7  |  Configuration management",
    "C HA PTER  7  |  Configuration management",
    "This method updates the UrlBase property in the Settings class with the base endpoint URL value",
    "This method updates the UrlBase property in the Settings class with the base endpoint URL value",
    "When the SettingsView is navigated to, the InitializeAsync method in the SettingsViewModel",
    "When the SettingsView is navigated to, the InitializeAsync method in the SettingsViewModel",
    "public override Task InitializeAsync(object navigationData)",
    "public override Task InitializeAsync(object navigationData)",
    "The method sets the Endpoint property to the value of the UrlBase property in the Settings class.",
    "The method sets the Endpoint property to the value of the UrlBase property in the Settings class.",
    "This mechanism ensures that whenever a user navigates to the SettingsView, user settings are",
    "This mechanism ensures that whenever a user navigates to the SettingsView, user settings are",
    "Summary",
    "Summary",
    "Settings allow the separation of data that configures the behavior of an app from the code, allowing",
    "Settings allow the separation of data that configures the behavior of an app from the code, allowing",
    "The Xam.Plugins.Settings library provides a consistent, type-safe, cross-platform approach for",
    "The Xam.Plugins.Settings library provides a consistent, type-safe, cross-platform approach for",
    "50",
    "50",
    "C HA PTER  7  |  Configuration management",
    "C HA PTER  7  |  Configuration management",
    "C H A P T E R",
    "C H A P T E R",
    "8",
    "8",
    "Containerized",
    "Containerized",
    "Developing client-server applications has resulted in a focus on building tiered applications that use",
    "Developing client-server applications has resulted in a focus on building tiered applications that use",
    "Particularly concerning in the age of the cloud, is that individual components can",
    "Particularly concerning in the age of the cloud, is that individual components can",
    "Figure 8-1: Monolithic application scaling approach",
    "Figure 8-1: Monolithic application scaling approach",
    "51",
    "51",
    "C HA PTER  8  |  Containerized microservices",
    "C HA PTER  8  |  Containerized microservices",
    "Microservices",
    "Microservices",
    "Microservices offer a different approach to application development and deployment, an approach",
    "Microservices offer a different approach to application development and deployment, an approach",
    "Microservices can scale-out independently, as compared to giant monolithic applications that scale",
    "Microservices can scale-out independently, as compared to giant monolithic applications that scale",
    "Figure 8-2: Microservices application scaling approach",
    "Figure 8-2: Microservices application scaling approach",
    "Microservice scale-out can be nearly instantaneous, allowing an application to adapt to changing",
    "Microservice scale-out can be nearly instantaneous, allowing an application to adapt to changing",
    "The classic model for application scalability is to have a load-balanced, stateless tier with a shared",
    "The classic model for application scalability is to have a load-balanced, stateless tier with a shared",
    "Microservices also support independent updates. This loose coupling between microservices provides",
    "Microservices also support independent updates. This loose coupling between microservices provides",
    "52",
    "52",
    "C HA PTER  8  |  Containerized microservices",
    "C HA PTER  8  |  Containerized microservices",
    "clients see a consistent version when updates are being applied, regardless of which microservice",
    "clients see a consistent version when updates are being applied, regardless of which microservice",
    "Therefore, microservice applications have many benefits over monolithic applications:",
    "Therefore, microservice applications have many benefits over monolithic applications:",
    "\u2022  Each microservice is relatively small, easy to manage and evolve.",
    "\u2022  Each microservice is relatively small, easy to manage and evolve.",
    "\u2022  Each microservice can be developed and deployed independently of other services.",
    "\u2022  Each microservice can be developed and deployed independently of other services.",
    "\u2022  Each microservice can be scaled-out independently. For example, a catalog service or",
    "\u2022  Each microservice can be scaled-out independently. For example, a catalog service or",
    "\u2022  Each microservice isolates any issues. For example, if there is an issue in a service it only",
    "\u2022  Each microservice isolates any issues. For example, if there is an issue in a service it only",
    "impacts that service. The other services can continue to handle requests.",
    "impacts that service. The other services can continue to handle requests.",
    "\u2022  Each microservice can use the latest technologies. Because microservices are autonomous and",
    "\u2022  Each microservice can use the latest technologies. Because microservices are autonomous and",
    "However, a microservice based solution also has potential drawbacks:",
    "However, a microservice based solution also has potential drawbacks:",
    "\u2022  Choosing how to partition an application into microservices can be challenging, as each",
    "\u2022  Choosing how to partition an application into microservices can be challenging, as each",
    "microservice has to be completely autonomous, end-to-end, including responsibility for its",
    "microservice has to be completely autonomous, end-to-end, including responsibility for its",
    "\u2022  Developers must implement inter-service communication, which adds complexity and latency",
    "\u2022  Developers must implement inter-service communication, which adds complexity and latency",
    "to the application.",
    "to the application.",
    "\u2022  Atomic transactions between multiple microservices usually aren",
    "\u2022  Atomic transactions between multiple microservices usually aren",
    "\u2022",
    "\u2022",
    "In production, there is an operational complexity in deploying and managing a system",
    "In production, there is an operational complexity in deploying and managing a system",
    "\u2022  Direct client-to-microservice communication can make it difficult to refactor the contracts of",
    "\u2022  Direct client-to-microservice communication can make it difficult to refactor the contracts of",
    "Containerization",
    "Containerization",
    "Containerization is an approach to software development in which an application and its versioned set",
    "Containerization is an approach to software development in which an application and its versioned set",
    "A container is an isolated, resource controlled, and portable operating environment, where an",
    "A container is an isolated, resource controlled, and portable operating environment, where an",
    "There are many similarities between containers and virtual machines, as illustrated in Figure 8-3.",
    "There are many similarities between containers and virtual machines, as illustrated in Figure 8-3.",
    "53",
    "53",
    "C HA PTER  8  |  Containerized microservices",
    "C HA PTER  8  |  Containerized microservices",
    "Figure 8-3: Comparison of virtual machines and containers",
    "Figure 8-3: Comparison of virtual machines and containers",
    "A container runs an operating system, has a file system, and can be accessed over a network as if it",
    "A container runs an operating system, has a file system, and can be accessed over a network as if it",
    "The advantage of a container-oriented development and deployment approach is that it eliminates",
    "The advantage of a container-oriented development and deployment approach is that it eliminates",
    "The key concepts when creating and working with containers are:",
    "The key concepts when creating and working with containers are:",
    "\u2022  Container Host: The physical or virtual machine configured to host containers. The container",
    "\u2022  Container Host: The physical or virtual machine configured to host containers. The container",
    "host will run one or more containers.",
    "host will run one or more containers.",
    "\u2022  Container Image: An image consists of a union of layered filesystems stacked on top of each",
    "\u2022  Container Image: An image consists of a union of layered filesystems stacked on top of each",
    "\u2022  Container: A container is a runtime instance of an image.",
    "\u2022  Container: A container is a runtime instance of an image.",
    "\u2022  Container OS Image: Containers are deployed from images. The container operating system",
    "\u2022  Container OS Image: Containers are deployed from images. The container operating system",
    "image is the first layer in potentially many image layers that make up a container. A container",
    "image is the first layer in potentially many image layers that make up a container. A container",
    "\u2022  Container Repository: Each time a container image is created, the image and its dependencies",
    "\u2022  Container Repository: Each time a container image is created, the image and its dependencies",
    "54",
    "54",
    "C HA PTER  8  |  Containerized microservices",
    "C HA PTER  8  |  Containerized microservices",
    "Enterprises are increasingly adopting containers when implementing microservice based applications,",
    "Enterprises are increasingly adopting containers when implementing microservice based applications,",
    "The eShopOnContainers reference application uses Docker to host four containerized back-end",
    "The eShopOnContainers reference application uses Docker to host four containerized back-end",
    "Figure 8-4: eShopOnContainers reference application back-end microservices",
    "Figure 8-4: eShopOnContainers reference application back-end microservices",
    "The architecture of the back-end services in the reference application is decomposed into multiple",
    "The architecture of the back-end services in the reference application is decomposed into multiple",
    "Each microservice has its own database, allowing it to be fully decoupled from the other",
    "Each microservice has its own database, allowing it to be fully decoupled from the other",
    "For more information about the reference application, see .NET Microservices: Architecture for",
    "For more information about the reference application, see .NET Microservices: Architecture for",
    "Communication between client and microservices",
    "Communication between client and microservices",
    "The eShopOnContainers mobile app communicates with the containerized back-end microservices",
    "The eShopOnContainers mobile app communicates with the containerized back-end microservices",
    "55",
    "55",
    "C HA PTER  8  |  Containerized microservices",
    "C HA PTER  8  |  Containerized microservices",
    "Figure 8-5: Direct client-to-microservice communication",
    "Figure 8-5: Direct client-to-microservice communication",
    "With direct client-to-microservice communication, the mobile app makes requests to each",
    "With direct client-to-microservice communication, the mobile app makes requests to each",
    "Tip: Consider using API gateway communication",
    "Tip: Consider using API gateway communication",
    "Direct client-to-microservice communication can have drawbacks when building a large and",
    "Direct client-to-microservice communication can have drawbacks when building a large and",
    "Communication between microservices",
    "Communication between microservices",
    "A microservices based application is a distributed system, potentially running on multiple machines.",
    "A microservices based application is a distributed system, potentially running on multiple machines.",
    "The two common approaches for microservice-to-microservice communication are HTTP based REST",
    "The two common approaches for microservice-to-microservice communication are HTTP based REST",
    "Asynchronous messaging based event-driven communication is critical when propagating changes",
    "Asynchronous messaging based event-driven communication is critical when propagating changes",
    "An event bus allows publish-subscribe communication between microservices, without requiring the",
    "An event bus allows publish-subscribe communication between microservices, without requiring the",
    "56",
    "56",
    "C HA PTER  8  |  Containerized microservices",
    "C HA PTER  8  |  Containerized microservices",
    "Figure 8-6: Publish-subscribe with an event bus",
    "Figure 8-6: Publish-subscribe with an event bus",
    "From an application perspective, the event bus is simply a publish-subscribe channel exposed via an",
    "From an application perspective, the event bus is simply a publish-subscribe channel exposed via an",
    "Figure 8-7: Asynchronous event-driven communication in the reference application",
    "Figure 8-7: Asynchronous event-driven communication in the reference application",
    "The eShopOnContainers event bus, implemented using RabbitMQ, provides one-to-many",
    "The eShopOnContainers event bus, implemented using RabbitMQ, provides one-to-many",
    "57",
    "57",
    "C HA PTER  8  |  Containerized microservices",
    "C HA PTER  8  |  Containerized microservices",
    "Figure 8-9: One-to-many communication",
    "Figure 8-9: One-to-many communication",
    "This one-to-many communication approach uses events to implement business transactions that span",
    "This one-to-many communication approach uses events to implement business transactions that span",
    "Note: The eShopOnContainers event bus, implemented using RabbitMQ, is intended to be used",
    "Note: The eShopOnContainers event bus, implemented using RabbitMQ, is intended to be used",
    "For information about the event bus implementation, see .NET Microservices: Architecture for",
    "For information about the event bus implementation, see .NET Microservices: Architecture for",
    "Summary",
    "Summary",
    "Microservices offer an approach to application development and deployment that",
    "Microservices offer an approach to application development and deployment that",
    "A container is an isolated, resource controlled, and portable operating environment, where an",
    "A container is an isolated, resource controlled, and portable operating environment, where an",
    "58",
    "58",
    "C HA PTER  8  |  Containerized microservices",
    "C HA PTER  8  |  Containerized microservices",
    "C H A P T E R",
    "C H A P T E R",
    "9",
    "9",
    "Authentication",
    "Authentication",
    "Authentication is the process of obtaining identification credentials such as name and password from",
    "Authentication is the process of obtaining identification credentials such as name and password from",
    "There are many approaches to integrating authentication and authorization into a Xamarin.Forms app",
    "There are many approaches to integrating authentication and authorization into a Xamarin.Forms app",
    "Authentication",
    "Authentication",
    "Authentication is required when an application needs to know the identity of the current user.",
    "Authentication is required when an application needs to know the identity of the current user.",
    "For authentication scenarios that make use of a local user data store, and that persist identity",
    "For authentication scenarios that make use of a local user data store, and that persist identity",
    "59",
    "59",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "Issuing bearer tokens using IdentityServer 4",
    "Issuing bearer tokens using IdentityServer 4",
    "IdentityServer 4 is an open source OpenID Connect and OAuth 2.0 framework for ASP.NET Core,",
    "IdentityServer 4 is an open source OpenID Connect and OAuth 2.0 framework for ASP.NET Core,",
    "Note: OpenID Connect and OAuth 2.0 are very similar, while having different responsibilities.",
    "Note: OpenID Connect and OAuth 2.0 are very similar, while having different responsibilities.",
    "OpenID Connect is an authentication layer on top of the OAuth 2.0 protocol. OAuth 2 is a protocol",
    "OpenID Connect is an authentication layer on top of the OAuth 2.0 protocol. OAuth 2 is a protocol",
    "The combination of OpenID Connect and OAuth 2.0 combine the two fundamental security",
    "The combination of OpenID Connect and OAuth 2.0 combine the two fundamental security",
    "In applications that use direct client-to-microservice communication, such as the eShopOnContainers",
    "In applications that use direct client-to-microservice communication, such as the eShopOnContainers",
    "Figure 9-1: Authentication by a dedicated authentication microservice",
    "Figure 9-1: Authentication by a dedicated authentication microservice",
    "The eShopOnContainers mobile app communicates with the identity microservice, which uses",
    "The eShopOnContainers mobile app communicates with the identity microservice, which uses",
    "\u2022  Authenticating users with IdentityServer is achieved by the mobile app requesting an identity",
    "\u2022  Authenticating users with IdentityServer is achieved by the mobile app requesting an identity",
    "\u2022  Accessing a resource with IdentityServer is achieved by the mobile app requesting an access",
    "\u2022  Accessing a resource with IdentityServer is achieved by the mobile app requesting an access",
    "Note: A client must be registered with IdentityServer before it can request tokens.",
    "Note: A client must be registered with IdentityServer before it can request tokens.",
    "Adding IdentityServer to a web application",
    "Adding IdentityServer to a web application",
    "In order for an ASP.NET Core web application to use IdentityServer 4, it must be added to the web",
    "In order for an ASP.NET Core web application to use IdentityServer 4, it must be added to the web",
    "60",
    "60",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "Once IdentityServer is included in the web application",
    "Once IdentityServer is included in the web application",
    "public void Configure(",
    "public void Configure(",
    "Order matters in the web application",
    "Order matters in the web application",
    "Configuring IdentityServer",
    "Configuring IdentityServer",
    "IdentityServer should be configured in the ConfigureServices method in the web application",
    "IdentityServer should be configured in the ConfigureServices method in the web application",
    "public void ConfigureServices(IServiceCollection services)",
    "public void ConfigureServices(IServiceCollection services)",
    "After calling the services.AddIdentityServer method, additional fluent APIs are called to",
    "After calling the services.AddIdentityServer method, additional fluent APIs are called to",
    "\u2022  Credentials used for signing.",
    "\u2022  Credentials used for signing.",
    "\u2022  API and identity resources that users might request access to.",
    "\u2022  API and identity resources that users might request access to.",
    "\u2022  Clients that will be connecting to request tokens.",
    "\u2022  Clients that will be connecting to request tokens.",
    "\u2022  ASP.NET Core Identity.",
    "\u2022  ASP.NET Core Identity.",
    "Tip: Dynamically load the IdentityServer 4 configuration",
    "Tip: Dynamically load the IdentityServer 4 configuration",
    "IdentityServer 4",
    "IdentityServer 4",
    "For information about configuring IdentityServer to use ASP.NET Core Identity, see Using ASP.NET",
    "For information about configuring IdentityServer to use ASP.NET Core Identity, see Using ASP.NET",
    "61",
    "61",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "Configuring API resources",
    "Configuring API resources",
    "When configuring API resources, the AddInMemoryApiResources method expects an",
    "When configuring API resources, the AddInMemoryApiResources method expects an",
    "public static IEnumerable",
    "public static IEnumerable",
    "This method specifies that IdentityServer should protect the orders and basket APIs. Therefore,",
    "This method specifies that IdentityServer should protect the orders and basket APIs. Therefore,",
    "Configuring identity resources",
    "Configuring identity resources",
    "When configuring identity resources, the AddInMemoryIdentityResources method expects an",
    "When configuring identity resources, the AddInMemoryIdentityResources method expects an",
    "public static IEnumerable",
    "public static IEnumerable",
    "The OpenID Connect specification specifies some standard identity resources. The minimum",
    "The OpenID Connect specification specifies some standard identity resources. The minimum",
    "Note: The IdentityResources class supports all of the scopes defined in the OpenID Connect",
    "Note: The IdentityResources class supports all of the scopes defined in the OpenID Connect",
    "IdentityServer also supports defining custom identity resources. For more information, see Defining",
    "IdentityServer also supports defining custom identity resources. For more information, see Defining",
    "Configuring clients",
    "Configuring clients",
    "Clients are applications that can request tokens from IdentityServer. Typically, the following settings",
    "Clients are applications that can request tokens from IdentityServer. Typically, the following settings",
    "\u2022  A unique client ID.",
    "\u2022  A unique client ID.",
    "\u2022  The allowed interactions with the token service (known as the grant type).",
    "\u2022  The allowed interactions with the token service (known as the grant type).",
    "\u2022  The location where identity and access tokens are sent to (known as a redirect URI).",
    "\u2022  The location where identity and access tokens are sent to (known as a redirect URI).",
    "62",
    "62",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "\u2022  A list of resources that the client is allowed access to (known as scopes).",
    "\u2022  A list of resources that the client is allowed access to (known as scopes).",
    "When configuring clients, the AddInMemoryClients method expects an IEnumerable",
    "When configuring clients, the AddInMemoryClients method expects an IEnumerable",
    "public static IEnumerable",
    "public static IEnumerable",
    "This configuration specifies data for the following properties:",
    "This configuration specifies data for the following properties:",
    "\u2022  ClientId: A unique ID for the client.",
    "\u2022  ClientId: A unique ID for the client.",
    "\u2022  ClientName: The client display name, which is used for logging and the consent screen.",
    "\u2022  ClientName: The client display name, which is used for logging and the consent screen.",
    "\u2022  AllowedGrantTypes: Specifies how a client wants to interact with IdentityServer. For more",
    "\u2022  AllowedGrantTypes: Specifies how a client wants to interact with IdentityServer. For more",
    "information see Configuring the authentication flow.",
    "information see Configuring the authentication flow.",
    "\u2022  ClientSecrets: Specifies the client secret credentials that are used when requesting tokens",
    "\u2022  ClientSecrets: Specifies the client secret credentials that are used when requesting tokens",
    "from the token endpoint.",
    "from the token endpoint.",
    "\u2022  RedirectUris: Specifies the allowed URIs to which to return tokens or authorization codes.",
    "\u2022  RedirectUris: Specifies the allowed URIs to which to return tokens or authorization codes.",
    "\u2022  RequireConsent: Specifies whether a consent screen is required.",
    "\u2022  RequireConsent: Specifies whether a consent screen is required.",
    "\u2022  RequirePkce: Specifies whether clients using an authorization code must send a proof key.",
    "\u2022  RequirePkce: Specifies whether clients using an authorization code must send a proof key.",
    "\u2022  PostLogoutRedirectUris: Specifies the allowed URIs to redirect to after logout.",
    "\u2022  PostLogoutRedirectUris: Specifies the allowed URIs to redirect to after logout.",
    "63",
    "63",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "\u2022  AllowedCorsOrigins: Specifies the origin of the client so that IdentityServer can allow cross-",
    "\u2022  AllowedCorsOrigins: Specifies the origin of the client so that IdentityServer can allow cross-",
    "origin calls from the origin.",
    "origin calls from the origin.",
    "\u2022  AllowedScopes: Specifies the resources the client has access to. By default, a client has no",
    "\u2022  AllowedScopes: Specifies the resources the client has access to. By default, a client has no",
    "access to any resources.",
    "access to any resources.",
    "\u2022  AllowOfflineAccess: Specifies whether the client can request refresh tokens.",
    "\u2022  AllowOfflineAccess: Specifies whether the client can request refresh tokens.",
    "Configuring the authentication flow",
    "Configuring the authentication flow",
    "The authentication flow between a client and IdentityServer can be configured by specifying the grant",
    "The authentication flow between a client and IdentityServer can be configured by specifying the grant",
    "\u2022",
    "\u2022",
    "Implicit. This flow is optimized for browser-based applications and should be used either for",
    "Implicit. This flow is optimized for browser-based applications and should be used either for",
    "\u2022  Authorization code. This flow provides the ability to retrieve tokens on a back channel, as",
    "\u2022  Authorization code. This flow provides the ability to retrieve tokens on a back channel, as",
    "opposed to the browser front channel, while also supporting client authentication.",
    "opposed to the browser front channel, while also supporting client authentication.",
    "\u2022  Hybrid. This flow is a combination of the implicit and authorization code grant types. The",
    "\u2022  Hybrid. This flow is a combination of the implicit and authorization code grant types. The",
    "Tip: Use the hybrid authentication flow",
    "Tip: Use the hybrid authentication flow",
    "The hybrid authentication flow mitigates a number of attacks that apply to the browser channel,",
    "The hybrid authentication flow mitigates a number of attacks that apply to the browser channel,",
    "For more information about authentication flows, see Grant Types in the IdentityServer 4",
    "For more information about authentication flows, see Grant Types in the IdentityServer 4",
    "Performing authentication",
    "Performing authentication",
    "For IdentityServer to issue tokens on behalf of a user, the user must sign-in to IdentityServer.",
    "For IdentityServer to issue tokens on behalf of a user, the user must sign-in to IdentityServer.",
    "The eShopOnContainers mobile app authenticates with IdentityServer with the hybrid authentication",
    "The eShopOnContainers mobile app authenticates with IdentityServer with the hybrid authentication",
    "Figure 9-2: High-level overview of the sign-in process",
    "Figure 9-2: High-level overview of the sign-in process",
    "64",
    "64",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "A sign-in request is made to ",
    "A sign-in request is made to ",
    "The eShopOnContainers mobile app signs-out of IdentityServer by sending a request to",
    "The eShopOnContainers mobile app signs-out of IdentityServer by sending a request to",
    "Figure 9-3: High-level overview of the sign-out process",
    "Figure 9-3: High-level overview of the sign-out process",
    "In the eShopOnContainers mobile app, communication with IdentityServer is performed by the",
    "In the eShopOnContainers mobile app, communication with IdentityServer is performed by the",
    "Signing-in",
    "Signing-in",
    "When the user taps the LOGIN button on the LoginView, the SignInCommand in the LoginViewModel",
    "When the user taps the LOGIN button on the LoginView, the SignInCommand in the LoginViewModel",
    "private async Task SignInAsync()",
    "private async Task SignInAsync()",
    "This method invokes the CreateAuthorizationRequest method in the IdentityService class,",
    "This method invokes the CreateAuthorizationRequest method in the IdentityService class,",
    "public string CreateAuthorizationRequest()",
    "public string CreateAuthorizationRequest()",
    "65",
    "65",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "// Add CSRF token to protect against cross-site request forgery attacks.",
    "// Add CSRF token to protect against cross-site request forgery attacks.",
    "}",
    "}",
    "This method creates the URI for IdentityServer",
    "This method creates the URI for IdentityServer",
    "Note: The attack surface of the eShopOnContainers mobile app is reduced by implementing the",
    "Note: The attack surface of the eShopOnContainers mobile app is reduced by implementing the",
    "The returned URI is stored in the LoginUrl property of the LoginViewModel class. When the IsLogin",
    "The returned URI is stored in the LoginUrl property of the LoginViewModel class. When the IsLogin",
    "Figure 9-4: Login page displayed by the WebView",
    "Figure 9-4: Login page displayed by the WebView",
    "Once login is completed, the WebView will be redirected to a return URI. This WebView navigation will",
    "Once login is completed, the WebView will be redirected to a return URI. This WebView navigation will",
    "66",
    "66",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "private async Task NavigateAsync(string url)",
    "private async Task NavigateAsync(string url)",
    "}",
    "}",
    "This method parses the authentication response that",
    "This method parses the authentication response that",
    "Tip: Validate return URIs",
    "Tip: Validate return URIs",
    "Although the eShopOnContainers mobile app doesn",
    "Although the eShopOnContainers mobile app doesn",
    "If the token endpoint receives a valid authorization code and PKCE secret verifier, it responds with an",
    "If the token endpoint receives a valid authorization code and PKCE secret verifier, it responds with an",
    "For information about page navigation, see Navigation. For information about how WebView",
    "For information about page navigation, see Navigation. For information about how WebView",
    "Note: The eShopOnContainers also allows a mock sign-in when the app is configured to use mock",
    "Note: The eShopOnContainers also allows a mock sign-in when the app is configured to use mock",
    "Signing-out",
    "Signing-out",
    "When the user taps the LOG OUT button in the ProfileView, the LogoutCommand in the",
    "When the user taps the LOG OUT button in the ProfileView, the LogoutCommand in the",
    "67",
    "67",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "When a view is created and navigated to, the InitializeAsync method of the view",
    "When a view is created and navigated to, the InitializeAsync method of the view",
    "private void Logout()",
    "private void Logout()",
    "}",
    "}",
    "This method invokes the CreateLogoutRequest method in the IdentityService class, passing the",
    "This method invokes the CreateLogoutRequest method in the IdentityService class, passing the",
    "public string CreateLogoutRequest(string token)",
    "public string CreateLogoutRequest(string token)",
    "This method creates the URI to IdentityServer",
    "This method creates the URI to IdentityServer",
    "The returned URI is stored in the LoginUrl property of the LoginViewModel class. While the IsLogin",
    "The returned URI is stored in the LoginUrl property of the LoginViewModel class. While the IsLogin",
    "In the mobile app, the WebView will be redirected to the post logout redirect URI. This WebView",
    "In the mobile app, the WebView will be redirected to the post logout redirect URI. This WebView",
    "private async Task NavigateAsync(string url)",
    "private async Task NavigateAsync(string url)",
    "68",
    "68",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "This method clears both the identity token and the access token from application settings, and sets",
    "This method clears both the identity token and the access token from application settings, and sets",
    "For information about page navigation, see Navigation. For information about how WebView",
    "For information about page navigation, see Navigation. For information about how WebView",
    "Note: The eShopOnContainers also allows a mock sign-out when the app is configured to use",
    "Note: The eShopOnContainers also allows a mock sign-out when the app is configured to use",
    "Authorization",
    "Authorization",
    "After authentication, ASP.NET Core web APIs often need to authorize access, which allows a service to",
    "After authentication, ASP.NET Core web APIs often need to authorize access, which allows a service to",
    "Restricting access to an ASP.NET Core MVC route can be achieved by applying an Authorize attribute",
    "Restricting access to an ASP.NET Core MVC route can be achieved by applying an Authorize attribute",
    "[",
    "[",
    "If an unauthorized user attempts to access a controller or action that",
    "If an unauthorized user attempts to access a controller or action that",
    "Note: Parameters can be specified on the Authorize attribute to restrict an API to specific users.",
    "Note: Parameters can be specified on the Authorize attribute to restrict an API to specific users.",
    "69",
    "69",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "IdentityServer can be integrated into the authorization workflow so that the access tokens it provides",
    "IdentityServer can be integrated into the authorization workflow so that the access tokens it provides",
    "Figure 9-5: Authorization by access token",
    "Figure 9-5: Authorization by access token",
    "The eShopOnContainers mobile app communicates with the identity microservice and requests an",
    "The eShopOnContainers mobile app communicates with the identity microservice and requests an",
    "Configuring IdentityServer to perform authorization",
    "Configuring IdentityServer to perform authorization",
    "To perform authorization with IdentityServer, its authorization middleware must be added to the web",
    "To perform authorization with IdentityServer, its authorization middleware must be added to the web",
    "protected virtual void ConfigureAuth(IApplicationBuilder app)",
    "protected virtual void ConfigureAuth(IApplicationBuilder app)",
    "This method ensures that the API can only be accessed with a valid access token. The middleware",
    "This method ensures that the API can only be accessed with a valid access token. The middleware",
    "70",
    "70",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "Note: IdentityServer",
    "Note: IdentityServer",
    "Making access requests to APIs",
    "Making access requests to APIs",
    "When making requests to the ordering and basket microservices, the access token, obtained from",
    "When making requests to the ordering and basket microservices, the access token, obtained from",
    "var authToken = Settings.AuthAccessToken;",
    "var authToken = Settings.AuthAccessToken;",
    "The access token is stored as an application setting, and is retrieved from platform-specific storage",
    "The access token is stored as an application setting, and is retrieved from platform-specific storage",
    "Similarly, the access token must be included when sending data to an IdentityServer protected API, as",
    "Similarly, the access token must be included when sending data to an IdentityServer protected API, as",
    "var authToken = Settings.AuthAccessToken;",
    "var authToken = Settings.AuthAccessToken;",
    "The access token is retrieved from platform-specific storage and included in the call to the",
    "The access token is retrieved from platform-specific storage and included in the call to the",
    "The RequestProvider class, in the eShopOnContainers mobile app, uses the HttpClient class to",
    "The RequestProvider class, in the eShopOnContainers mobile app, uses the HttpClient class to",
    "httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(",
    "httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(",
    "The DefaultRequestHeaders property of the HttpClient class exposes the headers that are sent",
    "The DefaultRequestHeaders property of the HttpClient class exposes the headers that are sent",
    "For more information about how the eShopOnContainers mobile app makes web requests, see",
    "For more information about how the eShopOnContainers mobile app makes web requests, see",
    "Summary",
    "Summary",
    "There are many approaches to integrating authentication and authorization into a Xamarin.Forms app",
    "There are many approaches to integrating authentication and authorization into a Xamarin.Forms app",
    "71",
    "71",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "The mobile app requests security tokens from IdentityServer, either for authenticating a user or for",
    "The mobile app requests security tokens from IdentityServer, either for authenticating a user or for",
    "72",
    "72",
    "C HA PTER  9  |  Authentication and authorization",
    "C HA PTER  9  |  Authentication and authorization",
    "C H A P T E R",
    "C H A P T E R",
    "10",
    "10",
    "Accessing remote",
    "Accessing remote",
    "Many modern web-based solutions make use of web services, hosted by web servers, to provide",
    "Many modern web-based solutions make use of web services, hosted by web servers, to provide",
    "Client apps should be able to utilize the web API without knowing how the data or operations that the",
    "Client apps should be able to utilize the web API without knowing how the data or operations that the",
    "Introduction to Representational State Transfer",
    "Introduction to Representational State Transfer",
    "Representational State Transfer (REST) is an architectural style for building distributed systems based",
    "Representational State Transfer (REST) is an architectural style for building distributed systems based",
    "The REST model uses a navigational scheme to represent objects and services over a network, referred",
    "The REST model uses a navigational scheme to represent objects and services over a network, referred",
    "Note: REST defines a stateless request model. Therefore, HTTP requests must be independent and",
    "Note: REST defines a stateless request model. Therefore, HTTP requests must be independent and",
    "The response from a REST request makes use of standard HTTP status codes. For example, a request",
    "The response from a REST request makes use of standard HTTP status codes. For example, a request",
    "A RESTful web API exposes a set of connected resources, and provides the core operations that",
    "A RESTful web API exposes a set of connected resources, and provides the core operations that",
    "73",
    "73",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "The data included by a client app in an HTTP request, and the corresponding response messages from",
    "The data included by a client app in an HTTP request, and the corresponding response messages from",
    "For more information about REST, see API design and API implementation on Microsoft Docs.",
    "For more information about REST, see API design and API implementation on Microsoft Docs.",
    "Consuming RESTful APIs",
    "Consuming RESTful APIs",
    "The eShopOnContainers mobile app uses the Model-View-ViewModel (MVVM) pattern, and the",
    "The eShopOnContainers mobile app uses the Model-View-ViewModel (MVVM) pattern, and the",
    "Making web requests",
    "Making web requests",
    "The eShopOnContainers mobile app uses the HttpClient class to make requests over HTTP, with",
    "The eShopOnContainers mobile app uses the HttpClient class to make requests over HTTP, with",
    "Making a GET request",
    "Making a GET request",
    "The CatalogService class is used to manage the data retrieval process from the catalog",
    "The CatalogService class is used to manage the data retrieval process from the catalog",
    "Figure 10-1 shows the interaction of classes that read catalog data from the catalog microservice for",
    "Figure 10-1 shows the interaction of classes that read catalog data from the catalog microservice for",
    "74",
    "74",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "Figure 10-1: Retrieving data from the catalog microservice",
    "Figure 10-1: Retrieving data from the catalog microservice",
    "When the CatalogView is navigated to, the OnInitialize method in the CatalogViewModel class is",
    "When the CatalogView is navigated to, the OnInitialize method in the CatalogViewModel class is",
    "public override async Task InitializeAsync(object navigationData)",
    "public override async Task InitializeAsync(object navigationData)",
    "This method calls the GetCatalogAsync method of the CatalogService instance that was injected",
    "This method calls the GetCatalogAsync method of the CatalogService instance that was injected",
    "public async Task",
    "public async Task",
    "75",
    "75",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "return catalog?.Data.ToObservableCollection();",
    "return catalog?.Data.ToObservableCollection();",
    "This method builds the URI that identifies the resource the request will be sent to, and uses the",
    "This method builds the URI that identifies the resource the request will be sent to, and uses the",
    "The following code example shows the GetAsync method in the RequestProvider class:",
    "The following code example shows the GetAsync method in the RequestProvider class:",
    "public async Task",
    "public async Task",
    "}",
    "}",
    "This method calls the CreateHttpClient method, which returns an instance of the HttpClient class",
    "This method calls the CreateHttpClient method, which returns an instance of the HttpClient class",
    "The CreateHttpClient method is shown in the following code example:",
    "The CreateHttpClient method is shown in the following code example:",
    "private HttpClient CreateHttpClient(string token = ",
    "private HttpClient CreateHttpClient(string token = ",
    "}",
    "}",
    "This method creates a new instance of the HttpClient class, and sets the Accept header of any",
    "This method creates a new instance of the HttpClient class, and sets the Accept header of any",
    "76",
    "76",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "When the GetAsync method in the RequestProvider class calls HttpClient.GetAsync, the Items",
    "When the GetAsync method in the RequestProvider class calls HttpClient.GetAsync, the Items",
    "[",
    "[",
    "}",
    "}",
    "This method retrieves the catalog data from the SQL database using EntityFramework, and returns it",
    "This method retrieves the catalog data from the SQL database using EntityFramework, and returns it",
    "Making a POST request",
    "Making a POST request",
    "The BasketService class is used to manage the data retrieval and update process with the basket",
    "The BasketService class is used to manage the data retrieval and update process with the basket",
    "Figure 10-2 shows the interaction of classes that send the basket data displayed by the BasketView,",
    "Figure 10-2 shows the interaction of classes that send the basket data displayed by the BasketView,",
    "77",
    "77",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "Figure 10-2: Sending data to the basket microservice",
    "Figure 10-2: Sending data to the basket microservice",
    "When an item is added to the shopping basket, the ReCalculateTotalAsync method in the",
    "When an item is added to the shopping basket, the ReCalculateTotalAsync method in the",
    "private async Task ReCalculateTotalAsync()",
    "private async Task ReCalculateTotalAsync()",
    "This method calls the UpdateBasketAsync method of the BasketService instance that was injected",
    "This method calls the UpdateBasketAsync method of the BasketService instance that was injected",
    "public async Task",
    "public async Task",
    "78",
    "78",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "var result = await ",
    "var result = await ",
    "This method builds the URI that identifies the resource the request will be sent to, and uses the",
    "This method builds the URI that identifies the resource the request will be sent to, and uses the",
    "The following code example shows one of the PostAsync methods in the RequestProvider class:",
    "The following code example shows one of the PostAsync methods in the RequestProvider class:",
    "public async Task",
    "public async Task",
    "}",
    "}",
    "This method calls the CreateHttpClient method, which returns an instance of the HttpClient class",
    "This method calls the CreateHttpClient method, which returns an instance of the HttpClient class",
    "When the PostAsync method in the RequestProvider class calls HttpClient.PostAsync, the Post",
    "When the PostAsync method in the RequestProvider class calls HttpClient.PostAsync, the Post",
    "[",
    "[",
    "This method uses an instance of the RedisBasketRepository class to persist the basket data to the",
    "This method uses an instance of the RedisBasketRepository class to persist the basket data to the",
    "Making a DELETE request",
    "Making a DELETE request",
    "Figure 10-3 shows the interactions of classes that delete basket data from the basket microservice, for",
    "Figure 10-3 shows the interactions of classes that delete basket data from the basket microservice, for",
    "79",
    "79",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "Figure 10-3: Deleting data from the basket microservice",
    "Figure 10-3: Deleting data from the basket microservice",
    "When the checkout process is invoked, the CheckoutAsync method in the CheckoutViewModel class",
    "When the checkout process is invoked, the CheckoutAsync method in the CheckoutViewModel class",
    "private async Task CheckoutAsync()",
    "private async Task CheckoutAsync()",
    "This method calls the ClearBasketAsync method of the BasketService instance that was injected",
    "This method calls the ClearBasketAsync method of the BasketService instance that was injected",
    "public async Task ClearBasketAsync(string guidUser, string token)",
    "public async Task ClearBasketAsync(string guidUser, string token)",
    "This method builds the URI that identifies the resource that the request will be sent to, and uses the",
    "This method builds the URI that identifies the resource that the request will be sent to, and uses the",
    "The following code example shows the DeleteAsync method in the RequestProvider class:",
    "The following code example shows the DeleteAsync method in the RequestProvider class:",
    "80",
    "80",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "public async Task DeleteAsync(string uri, string token = ",
    "public async Task DeleteAsync(string uri, string token = ",
    "This method calls the CreateHttpClient method, which returns an instance of the HttpClient class",
    "This method calls the CreateHttpClient method, which returns an instance of the HttpClient class",
    "When the DeleteAsync method in the RequestProvider class calls HttpClient.DeleteAsync, the",
    "When the DeleteAsync method in the RequestProvider class calls HttpClient.DeleteAsync, the",
    "[",
    "[",
    "This method uses an instance of the RedisBasketRepository class to delete the basket data from",
    "This method uses an instance of the RedisBasketRepository class to delete the basket data from",
    "Caching data",
    "Caching data",
    "The performance of an app can be improved by caching frequently accessed data to fast storage",
    "The performance of an app can be improved by caching frequently accessed data to fast storage",
    "The most common form of caching is read-through caching, where an app retrieves data by",
    "The most common form of caching is read-through caching, where an app retrieves data by",
    "Tip: Cache data that",
    "Tip: Cache data that",
    "This data can be added to the cache on demand the first time it is retrieved by an app. This means",
    "This data can be added to the cache on demand the first time it is retrieved by an app. This means",
    "Distributed applications, such as the eShopOnContainers reference application, should provide either",
    "Distributed applications, such as the eShopOnContainers reference application, should provide either",
    "\u2022  A shared cache, which can be accessed by multiple processes or machines.",
    "\u2022  A shared cache, which can be accessed by multiple processes or machines.",
    "\u2022  A private cache, where data is held locally on the device running the app.",
    "\u2022  A private cache, where data is held locally on the device running the app.",
    "The eShopOnContainers mobile app uses a private cache, where data is held locally on the device",
    "The eShopOnContainers mobile app uses a private cache, where data is held locally on the device",
    "81",
    "81",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "Tip: Think of the cache as a transient data store that could disappear at any time",
    "Tip: Think of the cache as a transient data store that could disappear at any time",
    "Ensure that data is maintained in the original data store as well as the cache. The chances of losing",
    "Ensure that data is maintained in the original data store as well as the cache. The chances of losing",
    "Managing data expiration",
    "Managing data expiration",
    "It",
    "It",
    "Tip: Set a default expiration time when configuring a cache",
    "Tip: Set a default expiration time when configuring a cache",
    "Many caches implement expiration, which invalidates data and removes it from the cache if it",
    "Many caches implement expiration, which invalidates data and removes it from the cache if it",
    "When cached data expires, it should be removed from the cache, and the app must retrieve the data",
    "When cached data expires, it should be removed from the cache, and the app must retrieve the data",
    "It",
    "It",
    "Caching images",
    "Caching images",
    "The eShopOnContainers mobile app consumes remote product images that benefit from being",
    "The eShopOnContainers mobile app consumes remote product images that benefit from being",
    "The Xamarin.Forms Image control supports caching of downloaded images. Caching is enabled by",
    "The Xamarin.Forms Image control supports caching of downloaded images. Caching is enabled by",
    "FFImageLoading",
    "FFImageLoading",
    "<",
    "<",
    "82",
    "82",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "iOS=",
    "iOS=",
    "The CachedImage control sets the LoadingPlaceholder and ErrorPlaceholder properties to",
    "The CachedImage control sets the LoadingPlaceholder and ErrorPlaceholder properties to",
    "As the name implies, the CachedImage control caches remote images on the device for the time",
    "As the name implies, the CachedImage control caches remote images on the device for the time",
    "Increasing resilience",
    "Increasing resilience",
    "All apps that communicate with remote services and resources must be sensitive to transient faults.",
    "All apps that communicate with remote services and resources must be sensitive to transient faults.",
    "Transient faults can have a huge impact on the perceived quality of an app, even if it has been",
    "Transient faults can have a huge impact on the perceived quality of an app, even if it has been",
    "\u2022  Detect faults when they occur, and determine if the faults are likely to be transient.",
    "\u2022  Detect faults when they occur, and determine if the faults are likely to be transient.",
    "\u2022  Retry the operation if it determines that the fault is likely to be transient and keep track of the",
    "\u2022  Retry the operation if it determines that the fault is likely to be transient and keep track of the",
    "number of times the operation was retried.",
    "number of times the operation was retried.",
    "\u2022  Use an appropriate retry strategy, which specifies the number of retries, the delay between",
    "\u2022  Use an appropriate retry strategy, which specifies the number of retries, the delay between",
    "each attempt, and the actions to take after a failed attempt.",
    "each attempt, and the actions to take after a failed attempt.",
    "This transient fault handling can be achieved by wrapping all attempts to access a remote service in",
    "This transient fault handling can be achieved by wrapping all attempts to access a remote service in",
    "Retry pattern",
    "Retry pattern",
    "If an app detects a failure when it tries to send a request to a remote service, it can handle the failure",
    "If an app detects a failure when it tries to send a request to a remote service, it can handle the failure",
    "\u2022  Retrying the operation. The app could retry the failing request immediately.",
    "\u2022  Retrying the operation. The app could retry the failing request immediately.",
    "\u2022  Retrying the operation after a delay. The app should wait for a suitable amount of time before",
    "\u2022  Retrying the operation after a delay. The app should wait for a suitable amount of time before",
    "retrying the request.",
    "retrying the request.",
    "\u2022  Cancelling the operation. The application should cancel the operation and report an",
    "\u2022  Cancelling the operation. The application should cancel the operation and report an",
    "exception.",
    "exception.",
    "83",
    "83",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "The retry strategy should be tuned to match the business requirements of the app. For example, it",
    "The retry strategy should be tuned to match the business requirements of the app. For example, it",
    "Note: An aggressive retry strategy with minimal delay between attempts, and a large number of",
    "Note: An aggressive retry strategy with minimal delay between attempts, and a large number of",
    "If a request still fails after a number of retries, it",
    "If a request still fails after a number of retries, it",
    "Tip: Never implement an endless retry mechanism",
    "Tip: Never implement an endless retry mechanism",
    "Use a finite number of retries, or implement the Circuit Breaker pattern to allow a service to recover.",
    "Use a finite number of retries, or implement the Circuit Breaker pattern to allow a service to recover.",
    "The eShopOnContainers mobile app does not currently implement the retry pattern when making",
    "The eShopOnContainers mobile app does not currently implement the retry pattern when making",
    "The eShopOnContainers reference application does implement the retry pattern. For more",
    "The eShopOnContainers reference application does implement the retry pattern. For more",
    "For more information about the retry pattern, see the Retry pattern on Microsoft Docs.",
    "For more information about the retry pattern, see the Retry pattern on Microsoft Docs.",
    "Circuit breaker pattern",
    "Circuit breaker pattern",
    "In some situations, faults can occur due to anticipated events that take longer to fix. These faults can",
    "In some situations, faults can occur due to anticipated events that take longer to fix. These faults can",
    "The circuit breaker pattern can prevent an app from repeatedly trying to execute an operation that",
    "The circuit breaker pattern can prevent an app from repeatedly trying to execute an operation that",
    "Note: The purpose of the circuit breaker pattern is different from the retry pattern. The retry",
    "Note: The purpose of the circuit breaker pattern is different from the retry pattern. The retry",
    "A circuit breaker acts as a proxy for operations that might fail. The proxy should monitor the number",
    "A circuit breaker acts as a proxy for operations that might fail. The proxy should monitor the number",
    "The eShopOnContainers mobile app does not currently implement the circuit breaker pattern.",
    "The eShopOnContainers mobile app does not currently implement the circuit breaker pattern.",
    "84",
    "84",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "Tip: Combine the retry and circuit breaker patterns",
    "Tip: Combine the retry and circuit breaker patterns",
    "An app can combine the retry and circuit breaker patterns by using the retry pattern to invoke an",
    "An app can combine the retry and circuit breaker patterns by using the retry pattern to invoke an",
    "For more information about the circuit breaker pattern, see the Circuit Breaker pattern on Microsoft",
    "For more information about the circuit breaker pattern, see the Circuit Breaker pattern on Microsoft",
    "Summary",
    "Summary",
    "Many modern web-based solutions make use of web services, hosted by web servers, to provide",
    "Many modern web-based solutions make use of web services, hosted by web servers, to provide",
    "The performance of an app can be improved by caching frequently accessed data to fast storage",
    "The performance of an app can be improved by caching frequently accessed data to fast storage",
    "When communicating with web APIs, apps must be sensitive to transient faults. Transient faults",
    "When communicating with web APIs, apps must be sensitive to transient faults. Transient faults",
    "85",
    "85",
    "C HA PTER  10  |  Accessing remote data",
    "C HA PTER  10  |  Accessing remote data",
    "C H A P T E R",
    "C H A P T E R",
    "11",
    "11",
    "Unit testing",
    "Unit testing",
    "Mobile apps have unique problems that desktop and web-based applications don",
    "Mobile apps have unique problems that desktop and web-based applications don",
    "A unit test takes a small unit of the app, typically a method, isolates it from the remainder of the code,",
    "A unit test takes a small unit of the app, typically a method, isolates it from the remainder of the code,",
    "Unit testing has the greatest effect on code quality when it",
    "Unit testing has the greatest effect on code quality when it",
    "Note: Unit tests are very effective against regression \u2013 that is, functionality that used to work but",
    "Note: Unit tests are very effective against regression \u2013 that is, functionality that used to work but",
    "Unit tests typically use the arrange-act-assert pattern:",
    "Unit tests typically use the arrange-act-assert pattern:",
    "\u2022  The arrange section of the unit test method initializes objects and sets the value of the data",
    "\u2022  The arrange section of the unit test method initializes objects and sets the value of the data",
    "that is passed to the method under test.",
    "that is passed to the method under test.",
    "\u2022  The act section invokes the method under test with the required arguments.",
    "\u2022  The act section invokes the method under test with the required arguments.",
    "\u2022  The assert section verifies that the action of the method under test behaves as expected.",
    "\u2022  The assert section verifies that the action of the method under test behaves as expected.",
    "Following this pattern ensures that unit tests are readable and consistent.",
    "Following this pattern ensures that unit tests are readable and consistent.",
    "Dependency injection and unit testing",
    "Dependency injection and unit testing",
    "One of the motivations for adopting a loosely-coupled architecture is that it facilitates unit testing.",
    "One of the motivations for adopting a loosely-coupled architecture is that it facilitates unit testing.",
    "public class OrderDetailViewModel : ViewModelBase",
    "public class OrderDetailViewModel : ViewModelBase",
    "86",
    "86",
    "C HA PTER  11  |  Unit testing",
    "C HA PTER  11  |  Unit testing",
    "{",
    "{",
    "The OrderDetailViewModel class has a dependency on the IOrderService type which the container",
    "The OrderDetailViewModel class has a dependency on the IOrderService type which the container",
    "Figure 10-1: Classes that implement the IOrderService interface",
    "Figure 10-1: Classes that implement the IOrderService interface",
    "This approach allows the OrderService object to be passed into the OrderDetailViewModel class at",
    "This approach allows the OrderService object to be passed into the OrderDetailViewModel class at",
    "Testing MVVM applications",
    "Testing MVVM applications",
    "Testing models and view models from MVVM applications is identical to testing any other classes, and",
    "Testing models and view models from MVVM applications is identical to testing any other classes, and",
    "Tip: Test one thing with each unit test",
    "Tip: Test one thing with each unit test",
    "Don",
    "Don",
    "The eShopOnContainers mobile app uses xUnit to perform unit testing, which supports two different",
    "The eShopOnContainers mobile app uses xUnit to perform unit testing, which supports two different",
    "\u2022",
    "\u2022",
    "Facts are tests that are always true, which test invariant conditions.",
    "Facts are tests that are always true, which test invariant conditions.",
    "\u2022  Theories are tests that are only true for a particular set of data.",
    "\u2022  Theories are tests that are only true for a particular set of data.",
    "87",
    "87",
    "C HA PTER  11  |  Unit testing",
    "C HA PTER  11  |  Unit testing",
    "The unit tests included with the eShopOnContainers mobile app are fact tests, and so each unit test",
    "The unit tests included with the eShopOnContainers mobile app are fact tests, and so each unit test",
    "Note: xUnit tests are executed by a test runner. To execute the test runner, run the",
    "Note: xUnit tests are executed by a test runner. To execute the test runner, run the",
    "Testing asynchronous functionality",
    "Testing asynchronous functionality",
    "When implementing the MVVM pattern, view models usually invoke operations on services, often",
    "When implementing the MVVM pattern, view models usually invoke operations on services, often",
    "[",
    "[",
    "}",
    "}",
    "This unit test checks that the Order property of the OrderDetailViewModel instance will have a value",
    "This unit test checks that the Order property of the OrderDetailViewModel instance will have a value",
    "When the OrderDetailViewModel instance is created, it expects an OrderService instance to be",
    "When the OrderDetailViewModel instance is created, it expects an OrderService instance to be",
    "Testing INotifyPropertyChanged implementations",
    "Testing INotifyPropertyChanged implementations",
    "Implementing the INotifyPropertyChanged interface allows views to react to changes that originate",
    "Implementing the INotifyPropertyChanged interface allows views to react to changes that originate",
    "Properties that can be updated directly by the unit test can be tested by attaching an event handler to",
    "Properties that can be updated directly by the unit test can be tested by attaching an event handler to",
    "[",
    "[",
    "88",
    "88",
    "C HA PTER  11  |  Unit testing",
    "C HA PTER  11  |  Unit testing",
    "if (e.PropertyName.Equals(",
    "if (e.PropertyName.Equals(",
    "}",
    "}",
    "This unit test invokes the InitializeAsync method of the OrderViewModel class, which causes its",
    "This unit test invokes the InitializeAsync method of the OrderViewModel class, which causes its",
    "Testing message-based communication",
    "Testing message-based communication",
    "View models that use the MessagingCenter class to communicate between loosely-coupled classes",
    "View models that use the MessagingCenter class to communicate between loosely-coupled classes",
    "[",
    "[",
    "}",
    "}",
    "This unit test checks that the CatalogViewModel publishes the AddProduct message in response to",
    "This unit test checks that the CatalogViewModel publishes the AddProduct message in response to",
    "Testing exception handling",
    "Testing exception handling",
    "Unit tests can also be written that check that specific exceptions are thrown for invalid actions or",
    "Unit tests can also be written that check that specific exceptions are thrown for invalid actions or",
    "[",
    "[",
    "}",
    "}",
    "89",
    "89",
    "C HA PTER  11  |  Unit testing",
    "C HA PTER  11  |  Unit testing",
    "This unit test will throw an exception, because the ListView control does not have an event named",
    "This unit test will throw an exception, because the ListView control does not have an event named",
    "Tip: Avoid writing unit tests that examine exception message strings",
    "Tip: Avoid writing unit tests that examine exception message strings",
    "Exception message strings might change over time, and so unit tests that rely on their presence are",
    "Exception message strings might change over time, and so unit tests that rely on their presence are",
    "Testing validation",
    "Testing validation",
    "There are two aspects to testing the validation implementation: testing that any validation rules are",
    "There are two aspects to testing the validation implementation: testing that any validation rules are",
    "Validation logic is usually simple to test, because it is typically a self-contained process where the",
    "Validation logic is usually simple to test, because it is typically a self-contained process where the",
    "[",
    "[",
    "}",
    "}",
    "This unit test checks that validation succeeds when the two ValidatableObject",
    "This unit test checks that validation succeeds when the two ValidatableObject",
    "As well as checking that validation succeeds, validation unit tests should also check the values of the",
    "As well as checking that validation succeeds, validation unit tests should also check the values of the",
    "[",
    "[",
    "}",
    "}",
    "90",
    "90",
    "C HA PTER  11  |  Unit testing",
    "C HA PTER  11  |  Unit testing",
    "This unit test checks that validation fails when the Surname property of the MockViewModel doesn",
    "This unit test checks that validation fails when the Surname property of the MockViewModel doesn",
    "Summary",
    "Summary",
    "A unit test takes a small unit of the app, typically a method, isolates it from the remainder of the code,",
    "A unit test takes a small unit of the app, typically a method, isolates it from the remainder of the code,",
    "The behavior of an object under test can be isolated by replacing dependent objects with mock",
    "The behavior of an object under test can be isolated by replacing dependent objects with mock",
    "Testing models and view models from MVVM applications is identical to testing any other classes, and",
    "Testing models and view models from MVVM applications is identical to testing any other classes, and",
    "91",
    "91",
    "C HA PTER  11  |  Unit testing",
    "C HA PTER  11  |  Unit testing",
    "92",
    "92",
    "C HA PTER  11  |  Unit testing",
    "C HA PTER  11  |  Unit testing"
]