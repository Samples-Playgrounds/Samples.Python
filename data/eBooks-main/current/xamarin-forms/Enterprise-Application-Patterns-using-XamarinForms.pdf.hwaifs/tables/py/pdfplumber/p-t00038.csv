,0
0,"private async Task InternalNavigateToAsync(Type viewModelType, object parameter)"
1,{
2,"Page page = CreatePage(viewModelType, parameter);"
3,
4,if (page is LoginView)
5,{
6,Application.Current.MainPage = new CustomNavigationView(page);
7,}
8,else
9,{
10,var navigationPage = Application.Current.MainPage as CustomNavigationView;
11,if (navigationPage != null)
12,{
13,await navigationPage.PushAsync(page);
14,}
15,else
16,{
17,Application.Current.MainPage = new CustomNavigationView(page);
18,}
19,}
20,
21,await (page.BindingContext as ViewModelBase).InitializeAsync(parameter);
22,}
23,
24,private Type GetPageTypeForViewModel(Type viewModelType)
25,{
26,"var viewName = viewModelType.FullName.Replace(""Model"", string.Empty);"
27,var viewModelAssemblyName = viewModelType.GetTypeInfo().Assembly.FullName;
28,var viewAssemblyName = string.Format(
29,"CultureInfo.InvariantCulture, ""{0}, {1}"", viewName, viewModelAssemblyName);"
30,var viewType = Type.GetType(viewAssemblyName);
31,return viewType;
32,}
33,
34,"private Page CreatePage(Type viewModelType, object parameter)"
35,{
36,Type pageType = GetPageTypeForViewModel(viewModelType);
37,if (pageType == null)
38,{
39,"throw new Exception($""Cannot locate page type for {viewModelType}"");"
40,}
41,
