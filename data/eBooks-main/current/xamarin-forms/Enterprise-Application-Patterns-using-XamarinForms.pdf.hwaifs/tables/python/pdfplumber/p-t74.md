|    | 0                                                                        |
|---:|:-------------------------------------------------------------------------|
|  0 | private async Task NavigateAsync(string url)                             |
|  1 | {                                                                        |
|  2 | ...                                                                      |
|  3 | var authResponse = new AuthorizeResponse(url);                           |
|  4 | if (!string.IsNullOrWhiteSpace(authResponse.Code))                       |
|  5 | {                                                                        |
|  6 | var userToken = await _identityService.GetTokenAsync(authResponse.Code); |
|  7 | string accessToken = userToken.AccessToken;                              |
|  8 |                                                                          |
|  9 | if (!string.IsNullOrWhiteSpace(accessToken))                             |
| 10 | {                                                                        |
| 11 | Settings.AuthAccessToken = accessToken;                                  |
| 12 | Settings.AuthIdToken = authResponse.IdentityToken;                       |
| 13 |                                                                          |
| 14 | await NavigationService.NavigateToAsync<MainViewModel>();                |
| 15 | await NavigationService.RemoveLastFromBackStackAsync();                  |
| 16 | }                                                                        |
| 17 | }                                                                        |
| 18 | ...                                                                      |
| 19 | }                                                                        |