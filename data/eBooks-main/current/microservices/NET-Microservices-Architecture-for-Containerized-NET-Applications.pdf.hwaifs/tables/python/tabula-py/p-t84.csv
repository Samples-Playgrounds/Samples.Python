,// Add framework services.
0,builder.Services.AddMvc(options =>
1,{
2,options.Filters.Add(typeof(HttpGlobalExceptionFilter));
3,}).AddControllersAsServices();
4,
5,builder.Services.AddEntityFrameworkSqlServer()
6,.AddDbContext<OrderingContext>(options =>
7,{
8,"options.UseSqlServer(Configuration[""ConnectionString""],"
9,sqlOptions =>
10,sqlOptions.MigrationsAssembly(typeof(Startup).GetTypeInfo().
11,
12,Assembly.GetName().Name));
13,"},"
14,ServiceLifetime.Scoped // Note that Scoped is the default choice
15,// in AddDbContext. It is shown here only for
16,// pedagogic purposes.
17,);
