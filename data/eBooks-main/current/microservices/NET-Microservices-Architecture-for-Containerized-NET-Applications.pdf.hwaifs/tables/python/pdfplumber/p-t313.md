|    | 0                                                                              |
|---:|:-------------------------------------------------------------------------------|
|  0 | // Use of an EF Core resiliency strategy when using multiple DbContexts        |
|  1 | // within an explicit BeginTransaction():                                      |
|  2 | // https://learn.microsoft.com/ef/core/miscellaneous/connection-resiliency     |
|  3 | var strategy = _context.Database.CreateExecutionStrategy();                    |
|  4 | await strategy.ExecuteAsync(async () =>                                        |
|  5 | {                                                                              |
|  6 | await using var transaction = await _context.Database.BeginTransactionAsync(); |
|  7 | await action();                                                                |
|  8 | await transaction.CommitAsync();                                               |
|  9 | });                                                                            |
| 10 | }                                                                              |
| 11 | }                                                                              |