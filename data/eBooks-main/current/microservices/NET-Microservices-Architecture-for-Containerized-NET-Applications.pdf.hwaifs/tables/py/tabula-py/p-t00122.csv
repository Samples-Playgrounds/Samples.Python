,public async Task<IActionResult> UpdateProduct(
0,[FromBody]CatalogItem productToUpdate)
1,{
2,// Other code ...
3,
4,var oldPrice = catalogItem.Price;
5,var raiseProductPriceChangedEvent = oldPrice != productToUpdate.Price;
6,
7,// Update current product
8,catalogItem = productToUpdate;
9,
10,// Save product's data and publish integration event through the Event Bus
11,// if price has changed
12,if (raiseProductPriceChangedEvent)
13,{
14,//Create Integration Event to be published through the Event Bus
15,var priceChangedEvent = new ProductPriceChangedIntegrationEvent(
16,"catalogItem.Id, productToUpdate.Price, oldPrice);"
