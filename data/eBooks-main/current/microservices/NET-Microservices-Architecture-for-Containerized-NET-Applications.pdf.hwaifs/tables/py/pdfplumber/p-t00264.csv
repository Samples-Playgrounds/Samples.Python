,0
0,// Add framework services.
1,builder.Services.AddMvc(options =>
2,{
3,options.Filters.Add(typeof(HttpGlobalExceptionFilter));
4,}).AddControllersAsServices();
5,
6,builder.Services.AddEntityFrameworkSqlServer()
7,.AddDbContext<OrderingContext>(options =>
8,{
9,"options.UseSqlServer(Configuration[""ConnectionString""],"
10,sqlOptions =>
11,sqlOptions.MigrationsAssembly(typeof(Startup).GetTypeInfo().
12,
13,Assembly.GetName().Name));
14,"},"
15,ServiceLifetime.Scoped // Note that Scoped is the default choice
16,// in AddDbContext. It is shown here only for
17,// pedagogic purposes.
18,);
