,0
0,public abstract class ValueObject
1,{
2,"protected static bool EqualOperator(ValueObject left, ValueObject right)"
3,{
4,"if (ReferenceEquals(left, null) ^ ReferenceEquals(right, null))"
5,{
6,return false;
7,}
8,"return ReferenceEquals(left, right) || left.Equals(right);"
9,}
10,
11,"protected static bool NotEqualOperator(ValueObject left, ValueObject right)"
12,{
13,"return !(EqualOperator(left, right));"
14,}
15,
16,protected abstract IEnumerable<object> GetEqualityComponents();
17,
18,public override bool Equals(object obj)
19,{
20,if (obj == null || obj.GetType() != GetType())
21,{
22,return false;
23,}
24,
25,var other = (ValueObject)obj;
26,
27,return this.GetEqualityComponents().SequenceEqual(other.GetEqualityComponents());
28,}
29,
30,public override int GetHashCode()
31,{
32,return GetEqualityComponents()
33,.Select(x => x != null ? x.GetHashCode() : 0)
34,".Aggregate((x, y) => x ^ y);"
35,}
36,// Other utility methods
37,}
