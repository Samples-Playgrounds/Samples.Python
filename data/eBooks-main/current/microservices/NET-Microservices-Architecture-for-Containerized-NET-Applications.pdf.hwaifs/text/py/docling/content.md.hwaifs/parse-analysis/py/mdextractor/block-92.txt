// COMPATIBLE WITH ENTITY FRAMEWORK CORE 5.0 // Entity is a custom base class with the ID public class Order : Entity, IAggregateRoot { private DateTime _orderDate; public Address Address { get ; private set ; } private int? _buyerId; public OrderStatus OrderStatus { get ; private set ; } private int _orderStatusId; private string _description; private int? _paymentMethodId; private readonly List<OrderItem> _orderItems; public IReadOnlyCollection<OrderItem> OrderItems => _orderItems; public Order(string userId, Address address, int cardTypeId, string cardNumber, string cardSecurityNumber, string cardHolderName, DateTime cardExpiration, int? buyerId = null , int? paymentMethodId = null ) { _orderItems = new List<OrderItem>(); _buyerId = buyerId; _paymentMethodId = paymentMethodId; _orderStatusId = OrderStatus.Submitted.Id; _orderDate = DateTime.UtcNow;