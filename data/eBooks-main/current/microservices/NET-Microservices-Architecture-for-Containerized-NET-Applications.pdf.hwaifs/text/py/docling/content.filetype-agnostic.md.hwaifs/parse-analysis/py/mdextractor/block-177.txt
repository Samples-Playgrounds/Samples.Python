public async Task<IActionResult> UpdateProduct( [FromBody]CatalogItem productToUpdate) { // Other code ... var oldPrice = catalogItem . Price; var raiseProductPriceChangedEvent = oldPrice != productToUpdate . Price; // Update current product catalogItem = productToUpdate; // Save product's data and publish integration event through the Event Bus // if price has changed if (raiseProductPriceChangedEvent) { //Create Integration Event to be published through the Event Bus var priceChangedEvent = new ProductPriceChangedIntegrationEvent( catalogItem . Id , productToUpdate . Price , oldPrice);