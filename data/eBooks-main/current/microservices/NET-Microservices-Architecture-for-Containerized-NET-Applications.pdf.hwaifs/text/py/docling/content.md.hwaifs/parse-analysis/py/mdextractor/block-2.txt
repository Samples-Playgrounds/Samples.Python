1 FROM mcr.microsoft.com/dotnet/aspnet:7.0 AS base 2 WORKDIR /app 3 EXPOSE 80 4 5 FROM mcr.microsoft.com/dotnet/sdk:7.0 AS publish 6 WORKDIR /src 7 COPY . . 8 RUN dotnet restore /ignoreprojectextensions:.dcproj 9 WORKDIR /src/src/Services/Catalog/Catalog.API 10 RUN dotnet publish Catalog.API.csproj -c Release -o /app 11 12 FROM base AS final 13 WORKDIR /app 14 COPY --from=publish /app . 15 ENTRYPOINT ["dotnet", "Catalog.API.dll"]