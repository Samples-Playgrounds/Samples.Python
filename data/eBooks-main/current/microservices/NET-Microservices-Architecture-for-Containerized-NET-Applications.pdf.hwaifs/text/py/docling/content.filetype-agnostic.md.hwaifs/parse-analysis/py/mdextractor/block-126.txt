// using directives... namespace Microsoft . eShopOnContainers . Services . Ordering . Infrastructure . Repositories { public class BuyerRepository : IBuyerRepository { private readonly OrderingContext _context; public IUnitOfWork UnitOfWork { get { return _context; } } public BuyerRepository(OrderingContext context) { _context = context ?? throw new ArgumentNullException(nameof(context)); } public Buyer Add(Buyer buyer) { return _context . Buyers . Add(buyer).Entity; } public async Task<Buyer> FindAsync(string buyerIdentityGuid) { var buyer = await _context . Buyers . Include(b => b . Payments) . Where(b => b . FullName == buyerIdentityGuid) . SingleOrDefaultAsync(); return buyer; } } }