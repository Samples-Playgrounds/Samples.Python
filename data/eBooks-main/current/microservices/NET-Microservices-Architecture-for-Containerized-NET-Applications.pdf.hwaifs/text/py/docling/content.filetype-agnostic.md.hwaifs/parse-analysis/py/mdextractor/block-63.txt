try { // Signal cancellation to the executing method _stoppingCts . Cancel(); } finally { // Wait until the task completes or the stop token triggers await Task . WhenAny(_executingTask , Task . Delay(Timeout . Infinite , cancellationToken)); } } public virtual void Dispose() { _stoppingCts . Cancel(); } }