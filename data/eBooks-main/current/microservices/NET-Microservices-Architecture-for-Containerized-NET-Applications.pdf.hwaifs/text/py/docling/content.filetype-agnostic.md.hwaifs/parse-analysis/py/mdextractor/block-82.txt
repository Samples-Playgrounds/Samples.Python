// prevent from mapping "sub" claim to nameidentifier. JwtSecurityTokenHandler . DefaultInboundClaimTypeMap . Clear(); var identityUrl = Configuration . GetValue<string>("IdentityUrl"); services . AddAuthentication(options => { options . DefaultAuthenticateScheme = JwtBearerDefaults . AuthenticationScheme; options . DefaultChallengeScheme = JwtBearerDefaults . AuthenticationScheme; }).AddJwtBearer(options => { options . Authority = identityUrl; options . RequireHttpsMetadata = false; options . Audience = "basket"; });