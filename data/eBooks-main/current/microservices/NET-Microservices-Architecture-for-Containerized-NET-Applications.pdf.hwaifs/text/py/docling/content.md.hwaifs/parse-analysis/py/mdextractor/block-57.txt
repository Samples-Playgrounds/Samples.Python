[Fact] public async Task Get_order_detail_success() { //Arrange var fakeOrderId = "12"; var fakeOrder = GetFakeOrder(); //... //Act var orderController = new OrderController( _orderServiceMock.Object, _basketServiceMock.Object, _identityParserMock.Object); orderController.ControllerContext.HttpContext = _contextMock.Object; var actionResult = await orderController.Detail(fakeOrderId); //Assert var viewResult = Assert.IsType<ViewResult>(actionResult); Assert.IsAssignableFrom<Order>(viewResult.ViewData.Model); }