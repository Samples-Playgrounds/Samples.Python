## SQL cheat sheet

Comprehensive

## Data Manipulation Language (DML) Commands

| Command   | Description                                                        | Syntax                                                                               | Example                                                                                   |
|-----------|--------------------------------------------------------------------|--------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
| SELECT    | The SELECT command retrieves data from a database .                | SELECT  column1 ,  column2  FROM table _ name;                                       | SELECT first _ name ,  last _ name FROM  customers;                                       |
| INSERT    | The INSERT command adds new records to a table .                   | INSERT  INTO  table _ name (column1 ,  column2) VALUES (value1 ,  value2);           | INSERT  INTO  customers (first _ name ,  last _ name) VALUES ( ' Mary ' ,  ' Doe ' );     |
| UPDATE    | The UPDATE command is used to modify existing records in a table . | UPDATE  table _ name  SET  column1 =  value1 ,  column2  =  value2 WHERE  condition; | UPDATE  employees  SET employee _ name  =  ‘ John  Doe ’ , department  =  ‘ Marketing ’ ; |
| DELETE    | The DELETE command removes records from a table .                  | DELETE  FROM  table _ name  WHERE condition;                                         | DELETE  FROM  employees  WHERE employee _ name  =  ‘ John  Doe ’ ;                        |

## Data Definition Language (DDL) Commands

| Command   | Description                                                                                                        | Syntax                                                                     | Example                                                                                                                      |
|-----------|--------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
| CREATE    | The CREATE command creates a new database and objects ,  such as a table ,  index ,  view ,  or stored procedure . | CREATE TABLE  table _ name (column1 datatype1 , column2  datatype2 ,  . ); | CREATE TABLE  employees  ( employee _ id  INT PRIMARY KEY , first _ name VARCHAR(50) , last _ name VARCHAR(50) , age  INT ); |
| ALTER     | The ALTER command adds , deletes ,  or modifies columns in an existing table .                                     | ALTER TABLE  table _ name ADD  column _ name  datatype;                    | ALTER TABLE  customers  ADD email VARCHAR(100);                                                                              |
| DROP      | The DROP command is used to drop an existing table in a database .                                                 | DROP TABLE  table _ name;                                                  | DROP TABLE  customers;                                                                                                       |
| TRUNCATE  | The TRUNCATE command is used to delete the data inside a table ,  but not the table itself .                       | TRUNCATE TABLE table _ name;                                               | TRUNCATE TABLE  customers;                                                                                                   |

<!-- image -->

<!-- image -->

## Data Control Language (DCL) Commands

| Command   | Description                                                                               | Syntax                                                     | Example                                                    |
|-----------|-------------------------------------------------------------------------------------------|------------------------------------------------------------|------------------------------------------------------------|
| GRANT     | The GRANT command is used to give specific privileges to users or roles .                 | GRANT SELECT ,  INSERT ON table _ name  TO  user _ name;   | GRANT SELECT ,  INSERT ON employees  TO  ‘ John  Doe ’ ;   |
| REVOKE    | The REVOKE command is used to take away privileges previously granted to users or roles . | REVOKE SELECT ,  INSERT ON table _ name  FROM user _ name; | REVOKE SELECT ,  INSERT ON employees  FROM  ‘ John Doe ’ ; |

## Querying Data Commands

| Command          | Description                                                                                                                                              | Syntax                                                                                           | Example                                                                                 |
|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| SELECT Statement | The SELECT statement is the primary command used to retrieve data from a database                                                                        | SELECT  column1 ,  column2 FROM  table _ name;                                                   | SELECT first _ name , last _ name  FROM  customers;                                     |
| WHERE Clause     | The WHERE clause is used to filter rows based on a specified condition .                                                                                 | SELECT  *  FROM  table _ name WHERE  condition;                                                  | SELECT  *  FROM  customers WHERE  age  >  30;                                           |
| ORDER  BY Clause | The ORDER BY clause is used to sort the result set in ascending or descending order based on a specified column .                                        | SELECT  *  FROM  table _ name ORDER  BY  column _ name ASC&#124;DESC;                            | SELECT  *  FROM  products ORDER  BY price  DESC;                                        |
| GROUP  BY Clause | The GROUP BY clause groups rows based on the values in a specified column .  It is often used with aggregate functions like COUNT ,  SUM ,  AVG ,  etc . | SELECT  column _ name , COUNT(*)  FROM  table _ name GROUP  BY  column _ name;                   | SELECT  category ,  COUNT(*) FROM  products  GROUP  BY category;                        |
| HAVING Clause    | The HAVING clause filters grouped results based on a specified condition .                                                                               | SELECT  column _ name , COUNT(*)  FROM  table _ name GROUP  BY  column _ name HAVING  condition; | SELECT  category ,  COUNT(*) FROM  products  GROUP  BY category  HAVING  COUNT(*) >  5; |

<!-- image -->

<!-- image -->

## Joining Commands

| Command                     | Description                                                                                                                           | Syntax                                                                             | Example                                                                                                                                                                                                                             |
|-----------------------------|---------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| INNER JOIN                  | The INNER JOIN command returns rows with matching values in both tables .                                                             | SELECT  *  FROM  table1 INNER JOIN  table2  ON table1 . column  = table2 . column; | SELECT  *  FROM  employees INNER JOIN  departments  ON employees . department _ id  = departments . id;                                                                                                                             |
| LEFT JOIN/LEFT OUTER JOIN   | The LEFT JOIN command returns all rows from the left table (first table) and the matching rows from the right table (second table) .  | SELECT  *  FROM  table1  LEFT JOIN  table2  ON table1 . column  = table2 . column; | SELECT  *  FROM  employees  LEFT JOIN  departments  ON employees . department _ id  = departments . id;                                                                                                                             |
| RIGHT JOIN/RIGHT OUTER JOIN | The RIGHT JOIN command returns all rows from the right table (second table) and the matching rows from the left table (first table) . | SELECT  *  FROM  table1 RIGHT JOIN  table2  ON table1 . column  = table2 . column; | SELECT  * FROM  employees RIGHT JOIN  departments ON  employees . department _ id  = departments . department _ id;                                                                                                                 |
| FULL JOIN/FULL  OUTER JOIN  | The FULL JOIN command returns all rows when there is a match in either the left table or the right table .                            | SELECT  *  FROM  table1  FULL JOIN  table2  ON table1 . column  = table2 . column; | SELECT  * FROM  employees LEFT JOIN  departments  ON employees . employee _ id  = departments . employee _ id UNION SELECT  * FROM  employees RIGHT JOIN  departments  ON employees . employee _ id  = departments . employee _ id; |
| CROSS JOIN                  | The CROSS JOIN command combines every row from the first table with every row from the second table ,  creating a Cartesian product . | SELECT  *  FROM  table1 CROSS JOIN  table2;                                        | SELECT  *  FROM  employees CROSS JOIN  departments;                                                                                                                                                                                 |
| SELF JOIN                   | The SELF JOIN command joins a table with itself .                                                                                     | SELECT  *  FROM  table1 t1 , table1 t2 WHERE  t1 . column =  t2 . column;          | SELECT  *  FROM  employees  t1 , employees  t2 WHERE  t1 . employee _ id  = t2 . employee _ id;                                                                                                                                     |
| NATURAL JOIN                | The NATURAL JOIN command matches columns with the same name in both tables .                                                          | SELECT  *  FROM  table1 NATURAL JOIN  table2;                                      | SELECT  *  FROM  employees NATURAL JOIN  departments;                                                                                                                                                                               |

<!-- image -->

<!-- image -->

## Subqueries in SQL

| Command   | Description                                                                                                                                            | Syntax                                                          | Example                                                                                                |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| IN        | The IN command is used to determine whether a value matches any value in a subquery result .  It is often used in the WHERE clause .                   | SELECT  column(s)  FROM table  WHERE  value  IN (subquery);     | SELECT  *  FROM  customers WHERE  city  IN  (SELECT city  FROM  suppliers);                            |
| ANY       | The ANY command is used to compare a value to any value returned by a subquery .  It can be used with comparison operators like  = ,  > ,  < ,  etc .  | SELECT  column(s)  FROM table  WHERE  value  <  ANY (subquery); | SELECT  *  FROM  products WHERE  price  <  ANY (SELECT unit _ price  FROM supplier _ products);        |
| ALL       | The ALL command is used to compare a value to all values returned by a subquery .  It can be used with comparison operators like  = ,  > ,  < ,  etc . | SELECT  column(s)  FROM table  WHERE  value  >  ALL (subquery); | SELECT  *  FROM  orders WHERE  order _ amount  >  ALL (SELECT total _ amount  FROM previous _ orders); |

## Aggregate Functions Commands

| Command   | Description                                                                                   | Syntax                                          | Example                            |
|-----------|-----------------------------------------------------------------------------------------------|-------------------------------------------------|------------------------------------|
| COUNT()   | The COUNT command counts the number of rows or non - null values in a specified column .      | SELECT COUNT(column _ name) FROM  table _ name; | SELECT COUNT(age)  FROM employees; |
| SUM()     | The SUM command is used to calculate the sum of all values in a specified column .            | SELECT SUM(column _ name) FROM  table _ name;   | SELECT SUM(revenue)  FROM sales;   |
| AVG()     | The AVG command is used to calculate the average (mean) of all values in a specified column . | SELECT AVG(column _ name) FROM  table _ name;   | SELECT AVG(price)  FROM products;  |
| MIN()     | The MIN command returns the minimum (lowest) value in a specified column .                    | SELECT MIN(column _ name) FROM  table _ name;   | SELECT MIN(price)  FROM products;  |
| MAX()     | The MAX command returns the maximum (highest) value in a specified column .                   | SELECT MAX(column _ name) FROM  table _ name;   | SELECT MAX(price)  FROM products;  |

<!-- image -->

<!-- image -->

## String Functions in SQL

| Command                  | Description                                                                                        | Syntax                                                                                                                 | Example                                                                                                                    |
|--------------------------|----------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
| CONCAT()                 | The CONCAT command concatenates two or more strings into a single string .                         | SELECT CONCAT(string1 , string2 ,  . ) AS concatenated _ string  FROM table _ name;                                    | SELECT CONCAT(first _ name , '  ' ,  last _ name) AS full _ name  FROM  employees;                                         |
| SUBSTRING()/SUBSTR()     | The SUBSTRING command extracts a substring from a string .                                         | SELECT SUBSTRING(string FROM  start _ position  [FOR length]) AS  substring FROM  table _ name;                        | SELECT SUBSTRING(product _ name FROM  1  FOR 5) AS substring  FROM  products;                                              |
| CHAR _ LENGTH()/LENGTH() | The LENGTH command returns the length (number of characters) of a string .                         | SELECT CHAR _ LENGTH(string) AS length  FROM  table _ name;                                                            | SELECT CHAR _ LENGTH(product _ name) AS length  FROM  products;                                                            |
| UPPER()                  | The UPPER command converts all characters in a string to uppercase .                               | SELECT UPPER(string) AS uppercase _ string  FROM table _ name;                                                         | SELECT UPPER(first _ name) AS  uppercase _ first _ name FROM  employees;                                                   |
| LOWER()                  | The LOWER command converts all characters in a string to lowercase .                               | SELECT  LOWER(string) AS lowercase _ string  FROM table _ name;                                                        | SELECT  LOWER(last _ name) AS lowercase _ last _ name FROM  employees;                                                     |
| TRIM()                   | The TRIM command removes specified prefixes or suffixes (or whitespace by default) from a string . | SELECT TRIM([LEADING  &#124; TRAILING  &#124;  BOTH] characters  FROM  string) AS trimmed _ string  FROM table _ name; | SELECT TRIM(TRAILING  '  ' FROM full _ name) AS trimmed _ full _ name  FROM customers;                                     |
| LEFT()                   | The LEFT command returns a specified number of characters from the left of a string .              | SELECT  LEFT(string , num _ characters) AS left _ string  FROM table _ name;                                           | SELECT LEFT(product _ name ,  5) AS left _ product _ name FROM  products;                                                  |
| RIGHT()                  | The RIGHT command returns a specified number of characters from the right of a string .            | SELECT  RIGHT(string , num _ characters) AS right _ string  FROM table _ name;                                         | SELECT RIGHT(order _ number ,  4) AS right _ order _ number  FROM orders;                                                  |
| REPLACE()                | The REPLACE command replaces occurrences of a substring within a string .                          | SELECT  REPLACE(string , old _ substring , new _ substring) AS replaced _ string  FROM table _ name;                   | SELECT REPLACE(description , ' old _ string ' , ' new _ string ' ) AS replaced _ description  FROM product _ descriptions; |

<!-- image -->

<!-- image -->

## Date and Time SQL Commands

| Command                   | Description                                                                                                                           | Syntax                                                                      | Example                                                                                                                                                |
|---------------------------|---------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| CURRENT _ DATE()          | The CURRENT_ _ DATE command returns the current date .                                                                                | SELECT CURRENT _ DATE() AS current _ date;                                  |                                                                                                                                                       |
| CURRENT _ TIME()          | The CURRENT_ _ _TIME command returns the current time .                                                                               | SELECT CURRENT _ TIME() AS current _ time;                                  |                                                                                                                                                       |
| CURRENT _ TIMESTAMP()     | The CURRENT_ _ _TIMESTAMP command returns the current date and time .                                                                 | SELECT CURRENT _ TIMESTAMP() AS current _ timestamp;                        |                                                                                                                                                       |
| DATE _ PART()             | The DATE _ PART command extracts a specific part (e . g . , year ,  month ,  day) from a date or time .                               | SELECT  DATE _ PART( ' part ' , date _ expression) AS extracted _ part;     | SELECT  DATE _ PART( ' year ' , ' 2024-04-11 ' ) AS extracted _ part;                                                                                  |
| DATE _ ADD()/DATE _ SUB() | The DATE _ ADD command adds or subtracts a specified number of days ,  months ,  or years to/from a date .                            | SELECT DATE _ ADD(date _ expression , INTERVAL  value  unit) AS new _ date; | -  DATE _ ADD  Example SELECT DATE _ ADD( ' 2024-04-11 ' , INTERVAL  1  DAY) AS new _ date; -  DATE _ SUB  Example SELECT DATE _ SUB( ' 2024-04-11 ' , |
| EXTRACT()                 | The EXTRACT command extracts a specific part (e . g . , year ,  month ,  day) from a date or time .                                   | SELECT  EXTRACT(part  FROM date _ expression) AS extracted _ part;          | SELECT  EXTRACT(YEAR  FROM ' 2024-04-11 ' ) AS extracted _ part;                                                                                       |
| TO _ CHAR()               | The TO _ CHAR command converts a date or time to a specified format .                                                                 | SELECT TO _ CHAR(date _ expression , ' format ' ) AS formatted _ date;      | SELECT TO _ CHAR( ' 2024-04-11 ' , ' YYYY-MM-DD ' ) AS formatted _ date;                                                                               |
| TIMESTAMPDIFF()           | The TIMESTAMPDIFF command calculates the difference between two timestamps in a specified unit (e . g . ,  days ,  hours , minutes) . | SELECT TIMESTAMPDIFF(unit , timestamp1 ,  timestamp2) AS  difference;       | SELECT TIMESTAMPDIFF(DAY , ' 2024-04-10 ' , ' 2024-04-11 ' ) AS difference;                                                                            |
| DATEDIFF()                | The DATEDIFF command calculates the difference in days between two dates .                                                            | SELECT  DATEDIFF(date1 , date2) AS difference _ in _ days;                  | SELECT DATEDIFF( ' 2024-04-11 ' , ' 2024-04-10 ' ) AS difference _ in _ days;                                                                          |

<!-- image -->

<!-- image -->

## Conditional Expressions

| Command              | Description                                                                           | Syntax                                                                                                                                                | Example                                                                                                                                                                                                                     |
|----------------------|---------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CASE Statement       | The CASE statement allows you to perform conditional logic within a query .           | SELECT column1 , column2 , CASE WHEN  condition1 THEN  result1 WHEN  condition2 THEN  result2 ELSE default _ result END AS  alias FROM  table _ name; | SELECT order _ id , total _ amount , CASE WHEN  total _ amount >  1000 THEN  ' High Value Order ' WHEN  total _ amount >  500 THEN  ' Medium  Value Order ' ELSE  ' Low  Value Order ' END AS  order _ status FROM  orders; |
| IF()  Function       | The IF() function evaluates a condition and returns a value based on the evaluation . | SELECT  IF(condition , true _ value ,  false _ value) AS  alias  FROM  table _ name;                                                                  | SELECT name , age , IF(age  >  50 , ' Senior ' ,  ' Junior ' ) AS employee _ category FROM  employees;                                                                                                                      |
| COALESCE()  Function | The COALESCE() function returns the first non - null value from a list of values .    | SELECT COALESCE(value1 , value2 ,  . ) AS  alias FROM  table _ name;                                                                                  | SELECT COALESCE(first _ name , middle _ name) AS preferred _ name FROM  employees;                                                                                                                                          |
| NULLIF()  Function   | The NULLIF() function returns null if two specified expressions are equal .           | SELECT NULLIF(expression1 , expression2) AS  alias FROM  table _ name;                                                                                | SELECT NULLIF(total _ amount , discounted _ amount) AS diff _ amount  FROM  orders;                                                                                                                                         |

<!-- image -->

<!-- image -->

## Set Operations

| Command   | Description                                                                                                           | Syntax                                                                                     | Example                                                                                                          |
|-----------|-----------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
| UNION     | The UNION operator combines the result sets of two or more SELECT statements into a single result set .               | SELECT  column1 ,  column2  FROM table1 UNION SELECT  column1 ,  column2  FROM table2;     | SELECT first _ name ,  last _ name FROM  customers UNION SELECT first _ name ,  last _ name FROM  employees;     |
| INTERSECT | The INTERSECT operator returns the common rows that appear in both result sets .                                      | SELECT  column1 ,  column2  FROM table1 INTERSECT SELECT  column1 ,  column2  FROM table2; | SELECT first _ name ,  last _ name FROM  customers INTERSECT SELECT first _ name ,  last _ name FROM  employees; |
| EXCEPT    | The EXCEPT operator returns the distinct rows from the left result set that are not present in the right result set . | SELECT  column1 ,  column2  FROM table1 EXCEPT SELECT  column1 ,  column2  FROM table2;    | SELECT first _ name ,  last _ name FROM  customers EXCEPT SELECT first _ name ,  last _ name FROM  employees;    |

## Transaction Control Commands

| Command   | Description                                                                                                      | Syntax    | Example                                                                                                                                                                                                                                |
|-----------|------------------------------------------------------------------------------------------------------------------|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| COMMIT    | The COMMIT command is used to save all the changes made during the current transaction and make them permanent . | COMMIT;   | BEGIN  TRANSACTION; -  SQL  statements  and  changes  within  the  transaction INSERT  INTO  employees  (name ,  age) VALUES ( ' Alice ' , 30); UPDATE  products  SET  price  =  25 . 00 WHERE  category  = ' Electronics ' ;          |
| ROLLBACK  | The ROLLBACK command is used to undo all the changes made during the current transaction and discard them .      | ROLLBACK; | BEGIN  TRANSACTION; -  SQL  statements  and  changes  within  the  transaction INSERT  INTO  employees  (name ,  age) VALUES ( ' Bob ' ,  35); UPDATE  products  SET  price  =  30 . 00 WHERE  category  = ' Electronics ' ; ROLLBACK; |

<!-- image -->

<!-- image -->

| SAVEPOINT             | The SAVEPOINT command is used to set a point within a transaction to which you can later roll back .                                      | SAVEPOINT savepoint _ n ame;                                               | BEGIN  TRANSACTION; INSERT  INTO  employees  (name ,  age) VALUES ( ' Carol ' , 28); SAVEPOINT before _ update; UPDATE  products  SET  price  =  40 . 00 WHERE  category  = ' Electronics ' ; SAVEPOINT  after _ update; DELETE  FROM  customers  WHERE  age  >  60; ROLLBACK TO  before _ update; -  At  this  point ,  the  DELETE is  rolled  back ,  but  the UPDATE  remains . COMMIT;                                                              |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ROLLBACK TO SAVEPOINT | The ROLLBACK TO SAVEPOINT command is used to roll back to a specific savepoint within a transaction .                                     | ROLLBACK TO SAVEPOINT savepoint _ n ame;                                   | BEGIN  TRANSACTION; INSERT  INTO  employees  (name ,  age) VALUES ( ' David ' , 42); SAVEPOINT before _ update; UPDATE  products  SET  price  =  50 . 00 WHERE  category  = ' Electronics ' ; SAVEPOINT  after _ update; DELETE  FROM  customers  WHERE  age  >  60; -  Rollback to  the  savepoint  before  the  update ROLLBACK TO SAVEPOINT before _ update; -  At  this  point ,  the  UPDATE is  rolled  back ,  but  the INSERT  remains . COMMIT; |
| SET TRANSACTION       | The SET TRANSACTION command is used to configure properties for the current transaction ,  such as isolation level and transaction mode . | SET TRANSACTION [ISOLATION LEVEL { READ COMMITTED  &#124; SERIALIZABL E }] | BEGIN  TRANSACTION; -  Set  the  isolation  level to  READ  COMMITTED SET TRANSACTION  ISOLATION  LEVEL  READ  COMMITTED; -  SQL  statements  and  changes  within  the  transaction INSERT  INTO  employees  (name ,  age) VALUES ( ' Emily ' , 35); UPDATE  products  SET  price  =  60 . 00 WHERE  category  = ' Electronics ' ; COMMIT;                                                                                                              |

<!-- image -->